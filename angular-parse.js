!function (e) {
  function t(n) {
    if (r[n])return r[n].exports;
    var i = r[n] = {exports: {}, id: n, loaded: !1};
    return e[n].call(i.exports, i, i.exports, t), i.loaded = !0, i.exports
  }

  var r = {};
  return t.m = e, t.c = r, t.p = "", t(0)
}([function (e, t, r) {
  var n = r(1);
  r(3), r(8), r(9), r(5), r(10), r(11), r(7), r(6), e.exports = n.name
}, function (e, t, r) {
  var n = r(2), i = n.module("ngParse", []);
  e.exports = i
}, function (e, t) {
  e.exports = window.angular
}, function (e, t, r) {
  function n(e, t, r) {
    function n() {
      return s
    }

    var i = this;
    i.Parse = s, i.Class = e, i.FacebookUtils = t, i.User = r, i.initialize = function (e, t) {
      s.initialize(e, t)
    }, i.$get = n, n.$inject = []
  }

  function i(e, t, r, n, i, s, o, a) {
    i.$$init = !0
  }

  var s = r(4).Parse, o = r(1);
  r(5), r(6), r(7), n.$inject = ["ParseClassProvider", "ParseFacebookUtilsProvider", "ParseUserProvider"], i.$inject = ["ParseClass", "ParseCloud", "ParseFacebookUtils", "ParseObject", "Parse", "ParseQuery", "ParseUser", "ParseUtils"], e.exports = o.provider("Parse", n).run(i)
}, function (e, t) {
  e.exports = window.Parse && window
}, function (e, t, r) {
  function n() {
    function e(e) {
      function r(t, r, i) {
        var s = n(t, r, i);
        return r && "object" == typeof r && r.$attributes instanceof Array && e.defineAttributes(s.prototype, r.$attributes), s.defineAttributes = e.defineAttributes.bind(e, s.prototype), s
      }

      var n = s.Object.extend.bind(s.Object);
      return r.$classes = t.$classes, s.Class = r, r
    }

    var t = this;
    t.$classes = {}, t.register = function (e) {
      e instanceof Array || (e = Array.prototype.slice.call(arguments));
      for (var r = 0, n = e.length; n > r; r++)t.$classes[e[r]] = e[r]
    }, t.$get = e, e.$inject = ["ParseUtils"]
  }

  function i(e, t) {
    for (var r in t.$classes)t.$classes.hasOwnProperty(r) && (t.$classes[r] = e.get(r))
  }

  var s = r(4).Parse, o = r(1);
  n.$inject = [], i.$inject = ["$injector", "ParseClass"], e.exports = o.provider("ParseClass", n).run(i)
}, function (e, t, r) {
  function n() {
    function e(e) {
      var t = i.FacebookUtils;
      return i.$$init ? t : (e.wrapMethods(t, ["link", "logIn", "unlink"]), t)
    }

    var t = this;
    t.FacebookUtils = i.FacebookUtils, t.initialize = t.init = function (e) {
      i.FacebookUtils.init(e)
    }, t.$get = e, e.$inject = ["ParseUtils"]
  }

  var i = r(4).Parse, s = r(1);
  n.$inject = [], e.exports = s.provider("ParseFacebookUtils", n)
}, function (e, t, r) {
  function n() {
    function e(e) {
      var t = i.User;
      return i.$$init ? t : (Object.defineProperties(t.prototype, {
        username: {
          get: function () {
            return this.getUsername()
          }, set: function (e) {
            this.setUsername(e)
          }, configurable: !0, enumerable: !0
        }, password: {
          get: function () {
            return this.get("password")
          }, set: function (e) {
            this.setPassword(e)
          }, configurable: !0, enumerable: !0
        }, email: {
          get: function () {
            return this.getEmail()
          }, set: function (e) {
            this.setEmail(e)
          }, configurable: !0, enumerable: !0
        }, auth: {
          get: function () {
            return this.authenticated()
          }, configurable: !0, enumerable: !1
        }, current: {
          get: function () {
            return this.isCurrent()
          }, configurable: !0, enumerable: !1
        }
      }), t.defineAttributes = e.defineAttributes.bind(e, t.prototype), e.wrapMethods(t, ["become", "enableRevocableSession", "logIn", "logOut", "requestPasswordReset", "signUp"]), e.wrapMethods(t.prototype, ["logIn", "signUp"]), t)
    }

    var t = this;
    t.User = i.User, t.authenticated = function () {
      return Boolean(i.User.current())
    }, t.$get = e, e.$inject = ["ParseUtils"]
  }

  var i = r(4).Parse, s = r(1);
  n.$inject = [], e.exports = s.provider("ParseUser", n)
}, function (e, t, r) {
  function n(e) {
    function t(t) {
      return function () {
        var r = Array.prototype.slice.call(arguments), n = t.apply(this, r);
        return e(n.then.bind(n))
      }
    }

    function r(e, r) {
      e[r] = t(e[r])
    }

    function n(e, t) {
      t instanceof Array || (t = Array.prototype.slice.call(arguments, 1));
      for (var n = 0, i = t.length; i > n; n++)r(e, t[n])
    }

    function i(e, t) {
      Object.defineProperty(e, t, {
        get: function () {
          return this.get(t)
        }, set: function (e) {
          this.set(t, e)
        }, configurable: !0, enumerable: !0
      })
    }

    function s(e, t) {
      t instanceof Array || (t = Array.prototype.slice.call(arguments, 1));
      for (var r = 0, n = t.length; n > r; r++)i(e, t[r])
    }

    this.wrapPromise = t, this.wrapMethods = n, this.defineAttributes = s
  }

  var i = r(1);
  n.$inject = ["$q"], e.exports = i.service("ParseUtils", n)
}, function (e, t, r) {
  function n(e) {
    var t = i.Object;
    return i.$$init ? t : (Object.defineProperty(t.prototype, "$id", {
      get: function () {
        return void 0 === this.$$id || null === this.$$id ? this.id : this.$$id
      }, set: function (e) {
        this.$$id = e
      }, configurable: !1, enumerable: !1
    }), e.wrapMethods(t, ["destroyAll", "fetchAll", "fetchAllIfNeeded", "saveAll"]), e.wrapMethods(t.prototype, ["destroy", "fetch", "save"]), t.prototype.isDirty = function () {
      return Boolean(this.dirtyKeys().length)
    }, t.prototype.isCreated = function () {
      return Boolean(this.createdAt)
    }, t)
  }

  var i = r(4).Parse, s = r(1);
  n.$inject = ["ParseUtils"], e.exports = s.factory("ParseObject", n)
}, function (e, t, r) {
  function n(e) {
    var t = i.Query;
    return i.$$init ? t : (e.wrapMethods(t.prototype, ["count", "each", "find", "first", "get"]), t)
  }

  var i = r(4).Parse, s = r(1);
  n.$inject = ["ParseUtils"], e.exports = s.factory("ParseQuery", n)
}, function (e, t, r) {
  function n(e) {
    var t = i.Cloud;
    return i.$$init ? t : (e.wrapMethods(t, ["run"]), t)
  }

  var i = r(4).Parse, s = r(1);
  n.$inject = ["ParseUtils"], e.exports = s.factory("ParseCloud", n)
}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYW5ndWxhci1wYXJzZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNjlmZjg5NmZhZmZiODkwZGUxOWIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwid2luZG93LmFuZ3VsYXJcIiIsIndlYnBhY2s6Ly8vLi9zcmMvUGFyc2UuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwid2luZG93LlBhcnNlICYmIHdpbmRvd1wiIiwid2VicGFjazovLy8uL3NyYy9DbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmFjZWJvb2tVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL09iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvUXVlcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Nsb3VkLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIm5nUGFyc2VNb2R1bGUiLCJuYW1lIiwiYW5ndWxhciIsIndpbmRvdyIsIlBhcnNlUHJvdmlkZXIiLCJQYXJzZUNsYXNzUHJvdmlkZXIiLCJQYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlciIsIlBhcnNlVXNlclByb3ZpZGVyIiwiJGdldCIsIlBhcnNlIiwicHJvdmlkZXIiLCJ0aGlzIiwiQ2xhc3MiLCJGYWNlYm9va1V0aWxzIiwiVXNlciIsImluaXRpYWxpemUiLCJhcHBsaWNhdGlvbklkIiwiamF2YVNjcmlwdEtleSIsIiRpbmplY3QiLCJpbml0IiwiUGFyc2VDbGFzcyIsIlBhcnNlQ2xvdWQiLCJQYXJzZUZhY2Vib29rVXRpbHMiLCJQYXJzZU9iamVjdCIsIlBhcnNlUXVlcnkiLCJQYXJzZVVzZXIiLCJQYXJzZVV0aWxzIiwiJCRpbml0IiwicnVuIiwiY2xhc3NOYW1lIiwicHJvdG9Qcm9wcyIsImNsYXNzUHJvcHMiLCJwYXJzZUNsYXNzIiwiZXh0ZW5kIiwiJGF0dHJpYnV0ZXMiLCJBcnJheSIsImRlZmluZUF0dHJpYnV0ZXMiLCJwcm90b3R5cGUiLCJiaW5kIiwiT2JqZWN0IiwiJGNsYXNzZXMiLCJyZWdpc3RlciIsImNsYXNzZXMiLCJzbGljZSIsImFyZ3VtZW50cyIsImkiLCJsZW5ndGgiLCIkaW5qZWN0b3IiLCJoYXNPd25Qcm9wZXJ0eSIsImdldCIsIndyYXBNZXRob2RzIiwib3B0aW9ucyIsImRlZmluZVByb3BlcnRpZXMiLCJ1c2VybmFtZSIsImdldFVzZXJuYW1lIiwic2V0IiwidmFsdWUiLCJzZXRVc2VybmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJwYXNzd29yZCIsInNldFBhc3N3b3JkIiwiZW1haWwiLCJnZXRFbWFpbCIsInNldEVtYWlsIiwiYXV0aCIsImF1dGhlbnRpY2F0ZWQiLCJjdXJyZW50IiwiaXNDdXJyZW50IiwiQm9vbGVhbiIsIlBhcnNlVXRpbHNTZXJ2aWNlIiwiJHEiLCJ3cmFwUHJvbWlzZSIsImZ1bmMiLCJhcmdzIiwicHJvbWlzZSIsImFwcGx5IiwidGhlbiIsIndyYXBNZXRob2QiLCJvYmplY3QiLCJtZXRob2ROYW1lIiwibWV0aG9kTmFtZXMiLCJkZWZpbmVBdHRyaWJ1dGUiLCJhdHRyaWJ1dGUiLCJkZWZpbmVQcm9wZXJ0eSIsImF0dHJpYnV0ZXMiLCJzZXJ2aWNlIiwiUGFyc2VPYmplY3RGYWN0b3J5IiwidW5kZWZpbmVkIiwiJCRpZCIsImlzRGlydHkiLCJkaXJ0eUtleXMiLCJpc0NyZWF0ZWQiLCJjcmVhdGVkQXQiLCJmYWN0b3J5IiwiUGFyc2VRdWVyeUZhY3RvcnkiLCJRdWVyeSIsIlBhcnNlQ2xvdWRGYWN0b3J5IiwiQ2xvdWQiXSwibWFwcGluZ3Mi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LEdBaEVBLEdBQUFkLEdBQUFwQixFQUFBLEdBQUFvQixNQUNBVCxFQUFBWCxFQUFBLEVBWUFrRyxHQUFBckUsU0FBQSxjQXNEQXpCLEVBQUFELFFBQUFRLEVBQ0E4RixRQUFBLGNBQUFQLElYK3FCTSxTQUFTOUYsRUFBUUQsRUFBU0gsR1lydUJoQyxRQUFBMEcsR0FBQXJFLEdBQ0EsR0FBQUYsR0FBQWYsRUFBQXVGLEtBRUEsT0FBQXZGLEdBQUFrQixPQUFBSCxHQUVBRSxFQUFBd0IsWUFBQTFCLEVBQUFhLFdBQUEsc0NBRUFiLEdBckJBLEdBQUFmLEdBQUFwQixFQUFBLEdBQUFvQixNQUNBVCxFQUFBWCxFQUFBLEVBWUEwRyxHQUFBN0UsU0FBQSxjQVdBekIsRUFBQUQsUUFBQVEsRUFDQThGLFFBQUEsYUFBQUMsSVowdkJNLFNBQVN0RyxFQUFRRCxFQUFTSCxHYXJ3QmhDLFFBQUE0RyxHQUFBdkUsR0FDQSxHQUFBTCxHQUFBWixFQUFBeUYsS0FFQSxPQUFBekYsR0FBQWtCLE9BQUFOLEdBRUFLLEVBQUF3QixZQUFBN0IsR0FBQSxRQUVBQSxHQXJCQSxHQUFBWixHQUFBcEIsRUFBQSxHQUFBb0IsTUFDQVQsRUFBQVgsRUFBQSxFQVlBNEcsR0FBQS9FLFNBQUEsY0FXQXpCLEVBQUFELFFBQUFRLEVBQ0E4RixRQUFBLGFBQUFHIiwiZmlsZSI6ImFuZ3VsYXItcGFyc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBuZ1BhcnNlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTApO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxuXHRcclxuXHRtb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGUubmFtZTtcclxuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG92ZXJ2aWV3XHJcblx0ICogQG5hbWUgbmdQYXJzZVxyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogIyBuZ1BhcnNlXHJcblx0ICogQW5ndWxhciB3cmFwcGVyIGZvciBbUGFyc2UuY29tIEphdmFTY3JpcHQgU0RLXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2d1aWRlfS5cclxuXHQgKlxyXG5cdCAqIDxwcmU+XHJcblx0ICogPCFkb2N0eXBlIGh0bWw+XHJcblx0ICogPGh0bWwgbmctYXBwPVwiZGVtb1wiPlxyXG5cdCAqIDxoZWFkPlxyXG5cdCAqICAgPHNjcmlwdCBzcmM9XCJwYXRoL3RvL2FuZ3VsYXIuanNcIj48L3NjcmlwdD5cclxuXHQgKiAgIDwhLS0gSW5jbHVkZSB0aGUgbmdQYXJzZSBzY3JpcHQgLS0+XHJcblx0ICogICA8c2NyaXB0IHNyYz1cInBhdGgvdG8vYW5ndWxhci1wYXJzZS5qc1wiPjwvc2NyaXB0PlxyXG5cdCAqICAgPHNjcmlwdD5cclxuXHQgKiAgICAgLy8gYWRkICduZ1BhcnNlJyBhcyBhIGRlcGVuZGVuY3lcclxuXHQgKiAgICAgYW5ndWxhci5tb2R1bGUoJ2RlbW8nLCBbJ25nUGFyc2UnXSk7XHJcblx0ICogICA8L3NjcmlwdD5cclxuXHQgKiA8L2hlYWQ+XHJcblx0ICogPGJvZHk+XHJcblx0ICogPC9ib2R5PlxyXG5cdCAqIDwvaHRtbD5cclxuXHQgKiA8L3ByZT5cclxuXHQgKi9cclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCduZ1BhcnNlJywgW10pO1xyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZTtcclxuXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5hbmd1bGFyO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5QYXJzZTtcclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlclxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXJcclxuXHQgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVVzZXJQcm92aWRlclxyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogUHJvdmlkZXIgZm9yIFBhcnNlIHNlcnZpY2UuXHJcblx0ICovXHJcblx0UGFyc2VQcm92aWRlci4kaW5qZWN0ID0gWydQYXJzZUNsYXNzUHJvdmlkZXInLCAnUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXInLCAnUGFyc2VVc2VyUHJvdmlkZXInXTtcclxuXHRmdW5jdGlvbiBQYXJzZVByb3ZpZGVyKFBhcnNlQ2xhc3NQcm92aWRlciwgUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIsIFBhcnNlVXNlclByb3ZpZGVyKSB7XHJcblx0ICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgcHJvcGVydHlcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlciNQYXJzZVxyXG5cdCAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLlBhcnNlID0gUGFyc2U7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI0NsYXNzXHJcblx0ICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuQ2xhc3MgPSBQYXJzZUNsYXNzUHJvdmlkZXI7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI0ZhY2Vib29rVXRpbHNcclxuXHQgICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VQcm92aWRlclxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci5GYWNlYm9va1V0aWxzID0gUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXI7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI1VzZXJcclxuXHQgICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VQcm92aWRlclxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci5Vc2VyID0gUGFyc2VVc2VyUHJvdmlkZXI7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBtZXRob2RcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlciNpbml0aWFsaXplXHJcblx0ICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBJbml0aWFsaXplcyBQYXJzZS5cclxuXHQgICAqIFNlZSBbUGFyc2UuaW5pdGlhbGl6ZV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5odG1sIy5pbml0aWFsaXplfS5cclxuXHQgICAqXHJcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30gYXBwbGljYXRpb25JZCBZb3VyIFBhcnNlIEFwcGxpY2F0aW9uIElELlxyXG5cdCAgICogQHBhcmFtIHtzdHJpbmd9IGphdmFTY3JpcHRLZXkgWW91ciBQYXJzZSBKYXZhU2NyaXB0IEtleS5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChhcHBsaWNhdGlvbklkLCBqYXZhU2NyaXB0S2V5KSB7XHJcblx0ICAgIFBhcnNlLmluaXRpYWxpemUoYXBwbGljYXRpb25JZCwgamF2YVNjcmlwdEtleSk7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2Mgb2JqZWN0XHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3IgW1BhcnNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLmh0bWx9LlxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci4kZ2V0ID0gJGdldDtcclxuXHQgICRnZXQuJGluamVjdCA9IFtdO1xyXG5cdCAgZnVuY3Rpb24gJGdldCgpIHtcclxuXHQgICAgcmV0dXJuIFBhcnNlO1xyXG5cdCAgfVxyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBAbmdkb2MgZnVuY3Rpb25cclxuXHQgKiBAbmFtZSBpbml0XHJcblx0ICpcclxuXHQgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZUNsYXNzXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VDbG91ZFxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1xyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlT2JqZWN0XHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VcclxuXHQgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVF1ZXJ5XHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVc2VyXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogSW5pdGlhbGl6ZXMgbmdQYXJzZSBzZXJ2aWNlcy5cclxuXHQgKi9cclxuXHRpbml0LiRpbmplY3QgPSBbJ1BhcnNlQ2xhc3MnLCAnUGFyc2VDbG91ZCcsICdQYXJzZUZhY2Vib29rVXRpbHMnLCAnUGFyc2VPYmplY3QnLCAnUGFyc2UnLCAnUGFyc2VRdWVyeScsICdQYXJzZVVzZXInLCAnUGFyc2VVdGlscyddO1xyXG5cdGZ1bmN0aW9uIGluaXQoUGFyc2VDbGFzcywgUGFyc2VDbG91ZCwgUGFyc2VGYWNlYm9va1V0aWxzLCBQYXJzZU9iamVjdCwgUGFyc2UsIFBhcnNlUXVlcnksIFBhcnNlVXNlciwgUGFyc2VVdGlscykge1xyXG5cdCAgUGFyc2UuJCRpbml0ID0gdHJ1ZTtcclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAucHJvdmlkZXIoJ1BhcnNlJywgUGFyc2VQcm92aWRlcilcclxuXHQgIC5ydW4oaW5pdCk7XHJcblxuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuUGFyc2UgJiYgd2luZG93O1xuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5QYXJzZTtcclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcblx0ICpcclxuXHQgKiBAZGVzY3JpcHRpb25cclxuXHQgKiBQcm92aWRlciBmb3IgUGFyc2VDbGFzcyBzZXJ2aWNlLlxyXG5cdCAqL1xyXG5cdFBhcnNlQ2xhc3NQcm92aWRlci4kaW5qZWN0ID0gW107XHJcblx0ZnVuY3Rpb24gUGFyc2VDbGFzc1Byb3ZpZGVyKCkge1xyXG5cdCAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIHByb3BlcnR5XHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlciMkY2xhc3Nlc1xyXG5cdCAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXJcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIENsYXNzIG5hbWVzIGZvciByZWdpc3RyYXRpb24uXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLiRjbGFzc2VzID0ge307XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBtZXRob2RcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyI3JlZ2lzdGVyXHJcblx0ICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXJcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIFJlZ2lzdGVyIGZhY3Rvcmllcywgd2hpY2ggY3JlYXRlIFBhcnNlIGNsYXNzZXMuXHJcblx0ICAgKiBJdCBtYXkgYmUgaGVscGZ1bCB0byBJbml0aWFsaXplIFBhcnNlIGNsYXNzZXMgYmVmb3JlIHVzaW5nLlxyXG5cdCAgICpcclxuXHQgICAqIDxwcmU+XHJcblx0ICAgKiBhbmd1bGFyLm1vZHVsZSgnZGVtbycsIFsnbmdQYXJzZSddKVxyXG5cdCAgICogICAuZmFjdG9yeSgnRmlyc3RQYXJzZUNsYXNzJywgWydQYXJzZUNsYXNzJywgZnVuY3Rpb24oUGFyc2VDbGFzcykge1xyXG5cdCAgICogICAgIHJldHVybiBuZXcgUGFyc2VDbGFzcygnRmlyc3QnLCB7Li4ufSk7XHJcblx0ICAgKiAgIH1dKVxyXG5cdCAgICogICAuZmFjdG9yeSgnU2Vjb25kUGFyc2VDbGFzcycsIFsnUGFyc2VDbGFzcycsIGZ1bmN0aW9uKFBhcnNlQ2xhc3MpIHtcclxuXHQgICAqICAgICByZXR1cm4gbmV3IFBhcnNlQ2xhc3MoJ1NlY29uZCcsIHsuLi59KTtcclxuXHQgICAqICAgfV0pXHJcblx0ICAgKiAgIC5jb25maWcoWydQYXJzZUNsYXNzUHJvdmlkZXInLCBmdW5jdGlvbihQYXJzZUNsYXNzUHJvdmlkZXIpIHtcclxuXHQgICAqICAgICBQYXJzZUNsYXNzUHJvdmlkZXIucmVnaXN0ZXIoJ0ZpcnN0UGFyc2VDbGFzcycsICdTZWNvbmRQYXJzZUNsYXNzJyk7XHJcblx0ICAgKiAgIH1dKTtcclxuXHQgICAqIDwvcHJlPlxyXG5cdCAgICpcclxuXHQgICAqIEBwYXJhbSB7Li4uc3RyaW5nfHN0cmluZ1tdfSBjbGFzc2VzIENsYXNzIG5hbWVzIGZvciByZWdpc3RyYXRpb24uXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGNsYXNzZXMpIHtcclxuXHQgICAgaWYgKCEoY2xhc3NlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG5cdCAgICAgIGNsYXNzZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBjbGFzc2VzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0ICAgICAgcHJvdmlkZXIuJGNsYXNzZXNbY2xhc3Nlc1tpXV0gPSBjbGFzc2VzW2ldO1xyXG5cdCAgICB9XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2Mgc2VydmljZVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzXHJcblx0ICAgKlxyXG5cdCAgICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcblx0ICAgKiBbYFBhcnNlLk9iamVjdC5leHRlbmRgXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLk9iamVjdC5odG1sIy5leHRlbmR9LlxyXG5cdCAgICogQ3JlYXRlcyBhIG5ldyBzdWJjbGFzcyBvZiBQYXJzZS5PYmplY3QgZm9yIHRoZSBnaXZlbiBQYXJzZSBjbGFzcyBuYW1lLlxyXG5cdCAgICpcclxuXHQgICAqIDxwcmU+XHJcblx0ICAgKiAvLyBjbGFzcyBkZWZpbml0aW9uIHdpdGggJGF0dHJpYnV0ZXNcclxuXHQgICAqIHZhciBEZW1vQ2xhc3MgPSBuZXcgUGFyc2VDbGFzcygnRGVtbycsIHtcclxuXHQgICAqICAgJGF0dHJpYnV0ZXM6IFsnZmlyc3QnLCAnc2Vjb25kJywgLi4uXVxyXG5cdCAgICogfSk7XHJcblx0ICAgKlxyXG5cdCAgICogdmFyIGRlbW9PYmplY3QgPSBuZXcgRGVtb0NsYXNzKCk7XHJcblx0ICAgKlxyXG5cdCAgICogLy8gYXR0cmlidXRlIHNldHRlclxyXG5cdCAgICogZGVtb09iamVjdC5zZXQoJ2ZpcnN0JywgJ2ZpcnN0IHZhbHVlJyk7XHJcblx0ICAgKlxyXG5cdCAgICogLy8gJGF0dHJpYnV0ZXMgZ2V0dGVyXHJcblx0ICAgKiB2YXIgdmFsID0gZGVtb09iamVjdC5maXJzdDtcclxuXHQgICAqIGNvbnNvbGUuYXNzZXJ0KHZhbCA9PSAnZmlyc3QgdmFsdWUnKTtcclxuXHQgICAqXHJcblx0ICAgKiAvLyAkYXR0cmlidXRlcyBzZXR0ZXJcclxuXHQgICAqIGRlbW9PYmplY3QuZmlyc3QgPSAnb3RoZXIgdmFsdWUnO1xyXG5cdCAgICpcclxuXHQgICAqIC8vIGF0dHJpYnV0ZSBnZXR0ZXJcclxuXHQgICAqIHZhciB2YWwgPSBkZW1vT2JqZWN0LmdldCgnZmlyc3QnKTtcclxuXHQgICAqIGNvbnNvbGUuYXNzZXJ0KHZhbCA9PSAnb3RoZXIgdmFsdWUnKTtcclxuXHQgICAqIDwvcHJlPlxyXG5cdCAgICpcclxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgVGhlIG5hbWUgb2YgdGhlIFBhcnNlIGNsYXNzLlxyXG5cdCAgICogQHBhcmFtIHtvYmplY3Q9fSBwcm90b1Byb3BzIFtJbnN0YW5jZSBwcm9wZXJ0aWVzXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLk9iamVjdC5odG1sI2NvbnN0cnVjdG9yfS5cclxuXHQgICAqIEBwYXJhbSB7c3RyaW5nW109fSBwcm90b1Byb3BzLiRhdHRyaWJ1dGVzIERlZmluZXMgRVM1IGdldHRlcnMgYW5kIHNldHRlcnMgZm9yIHRoZSBhdHRyaWJ1dGVzLlxyXG5cdCAgICogQHBhcmFtIHtvYmplY3Q9fSBjbGFzc1Byb3BzIFtTdGF0aWMgY2xhc3MgcHJvcGVydGllc117QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5PYmplY3QuaHRtbCNjb25zdHJ1Y3Rvcn0uXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLiRnZXQgPSAkZ2V0O1xyXG5cdCAgJGdldC4kaW5qZWN0ID0gWydQYXJzZVV0aWxzJ107XHJcblx0ICBmdW5jdGlvbiAkZ2V0KFBhcnNlVXRpbHMpIHtcclxuXHQgICAgdmFyIGV4dGVuZCA9IFBhcnNlLk9iamVjdC5leHRlbmQuYmluZChQYXJzZS5PYmplY3QpO1xyXG5cdFxyXG5cdCAgICBmdW5jdGlvbiBQYXJzZUNsYXNzKGNsYXNzTmFtZSwgcHJvdG9Qcm9wcywgY2xhc3NQcm9wcykge1xyXG5cdCAgICAgIHZhciBwYXJzZUNsYXNzID0gZXh0ZW5kKGNsYXNzTmFtZSwgcHJvdG9Qcm9wcywgY2xhc3NQcm9wcyk7XHJcblx0XHJcblx0ICAgICAgaWYgKHByb3RvUHJvcHMgJiYgdHlwZW9mIHByb3RvUHJvcHMgPT0gJ29iamVjdCcpIHtcclxuXHQgICAgICAgIGlmIChwcm90b1Byb3BzLiRhdHRyaWJ1dGVzIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuXHQgICAgICAgICAgUGFyc2VVdGlscy5kZWZpbmVBdHRyaWJ1dGVzKHBhcnNlQ2xhc3MucHJvdG90eXBlLCBwcm90b1Byb3BzLiRhdHRyaWJ1dGVzKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9XHJcblx0XHJcblx0ICAgICAgcGFyc2VDbGFzcy5kZWZpbmVBdHRyaWJ1dGVzID0gUGFyc2VVdGlscy5kZWZpbmVBdHRyaWJ1dGVzLmJpbmQoUGFyc2VVdGlscywgcGFyc2VDbGFzcy5wcm90b3R5cGUpO1xyXG5cdFxyXG5cdCAgICAgIHJldHVybiBwYXJzZUNsYXNzO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIFBhcnNlQ2xhc3MuJGNsYXNzZXMgPSBwcm92aWRlci4kY2xhc3NlcztcclxuXHRcclxuXHQgICAgUGFyc2UuQ2xhc3MgPSBQYXJzZUNsYXNzO1xyXG5cdFxyXG5cdCAgICByZXR1cm4gUGFyc2VDbGFzcztcclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0ICogQG5hbWUgaW5pdFxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzICRpbmplY3RvclxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlQ2xhc3NcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIEluaXRpYWxpemVzIHJlZ2lzdGVyZWQgY2xhc3Nlcy5cclxuXHQgKi9cclxuXHRpbml0LiRpbmplY3QgPSBbJyRpbmplY3RvcicsICdQYXJzZUNsYXNzJ107XHJcblx0ZnVuY3Rpb24gaW5pdCgkaW5qZWN0b3IsIFBhcnNlQ2xhc3MpIHtcclxuXHQgIGZvciAodmFyIGkgaW4gUGFyc2VDbGFzcy4kY2xhc3Nlcykge1xyXG5cdCAgICBpZiAoIVBhcnNlQ2xhc3MuJGNsYXNzZXMuaGFzT3duUHJvcGVydHkoaSkpIGNvbnRpbnVlO1xyXG5cdCAgICBQYXJzZUNsYXNzLiRjbGFzc2VzW2ldID0gJGluamVjdG9yLmdldChpKTtcclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAucHJvdmlkZXIoJ1BhcnNlQ2xhc3MnLCBQYXJzZUNsYXNzUHJvdmlkZXIpXHJcblx0ICAucnVuKGluaXQpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBQYXJzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNCkuUGFyc2U7XHJcblx0dmFyIG5nUGFyc2VNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBuZ2RvYyBvYmplY3RcclxuXHQgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyXHJcblx0ICpcclxuXHQgKiBAZGVzY3JpcHRpb25cclxuXHQgKiBQcm92aWRlciBmb3IgUGFyc2VGYWNlYm9va1V0aWxzIHNlcnZpY2UuXHJcblx0ICovXHJcblx0UGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIuJGluamVjdCA9IFtdO1xyXG5cdGZ1bmN0aW9uIFBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyKCkge1xyXG5cdCAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIHByb3BlcnR5XHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyI0ZhY2Vib29rVXRpbHNcclxuXHQgICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXJcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIFNlZSBbRmFjZWJvb2tVdGlsc117QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5GYWNlYm9va1V0aWxzLmh0bWx9XHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLkZhY2Vib29rVXRpbHMgPSBQYXJzZS5GYWNlYm9va1V0aWxzO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgbWV0aG9kXHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyI2luaXRpYWxpemVcclxuXHQgICAqIEBhbGlhcyBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyI2luaXRcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBJbml0aWFsaXplcyBQYXJzZSBGYWNlYm9vayBpbnRlZ3JhdGlvbi5cclxuXHQgICAqIFNlZSBbYFBhcnNlLkZhY2Vib29rVXRpbHMuaW5pdGBde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuRmFjZWJvb2tVdGlscy5odG1sIy5pbml0fS5cclxuXHQgICAqXHJcblx0ICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAgRmFjZWJvb2sgb3B0aW9ucyBhcmd1bWVudC5cclxuXHQgICAqIFNlZSBbYFBhcnNlLkZhY2Vib29rVXRpbHMuaW5pdGBde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuRmFjZWJvb2tVdGlscy5odG1sIy5pbml0fS5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuaW5pdGlhbGl6ZSA9IHByb3ZpZGVyLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdCAgICBQYXJzZS5GYWNlYm9va1V0aWxzLmluaXQob3B0aW9ucyk7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2Mgb2JqZWN0XHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1xyXG5cdCAgICpcclxuXHQgICAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIFRoaXMgaXMgYSB3cmFwcGVyIGZvclxyXG5cdCAgICogW1BhcnNlLkZhY2Vib29rVXRpbHNde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuRmFjZWJvb2tVdGlscy5odG1sfS5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuJGdldCA9ICRnZXQ7XHJcblx0ICAkZ2V0LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuXHQgIGZ1bmN0aW9uICRnZXQoUGFyc2VVdGlscykge1xyXG5cdCAgICB2YXIgUGFyc2VGYWNlYm9va1V0aWxzID0gUGFyc2UuRmFjZWJvb2tVdGlscztcclxuXHRcclxuXHQgICAgaWYgKFBhcnNlLiQkaW5pdCkgcmV0dXJuIFBhcnNlRmFjZWJvb2tVdGlscztcclxuXHRcclxuXHQgICAgUGFyc2VVdGlscy53cmFwTWV0aG9kcyhQYXJzZUZhY2Vib29rVXRpbHMsIFsnbGluaycsICdsb2dJbicsICd1bmxpbmsnXSk7XHJcblx0XHJcblx0ICAgIHJldHVybiBQYXJzZUZhY2Vib29rVXRpbHM7XHJcblx0ICB9XHJcblx0fVxyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG5cdCAgLnByb3ZpZGVyKCdQYXJzZUZhY2Vib29rVXRpbHMnLCBQYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlcik7XHJcblxuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5QYXJzZTtcclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXJcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIFByb3ZpZGVyIGZvciBQYXJzZVVzZXIgc2VydmljZS5cclxuXHQgKi9cclxuXHRQYXJzZVVzZXJQcm92aWRlci4kaW5qZWN0ID0gW107XHJcblx0ZnVuY3Rpb24gUGFyc2VVc2VyUHJvdmlkZXIoKSB7XHJcblx0ICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xyXG5cdCAgcHJvdmlkZXIuVXNlciA9IFBhcnNlLlVzZXI7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBtZXRob2RcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXIjcmVnaXN0ZXJcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBDaGVja3Mgd2hldGhlciB0aGlzIHVzZXIgaXMgdGhlIGN1cnJlbnQgdXNlciBhbmQgaGFzIGJlZW4gYXV0aGVudGljYXRlZC5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuYXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgcmV0dXJuIEJvb2xlYW4oUGFyc2UuVXNlci5jdXJyZW50KCkpO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIHNlcnZpY2VcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVc2VyXHJcblx0ICAgKlxyXG5cdCAgICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcblx0ICAgKiBbUGFyc2UuUGFyc2VVc2VyXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlVzZXIuaHRtbH0uXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLiRnZXQgPSAkZ2V0O1xyXG5cdCAgJGdldC4kaW5qZWN0ID0gWydQYXJzZVV0aWxzJ107XHJcblx0ICBmdW5jdGlvbiAkZ2V0KFBhcnNlVXRpbHMpIHtcclxuXHQgICAgdmFyIFBhcnNlVXNlciA9IFBhcnNlLlVzZXI7XHJcblx0XHJcblx0ICAgIGlmIChQYXJzZS4kJGluaXQpIHJldHVybiBQYXJzZVVzZXI7XHJcblx0XHJcblx0ICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBhcnNlVXNlci5wcm90b3R5cGUsIHtcclxuXHQgICAgICB1c2VybmFtZToge1xyXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgIHJldHVybiB0aGlzLmdldFVzZXJuYW1lKCk7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHQgICAgICAgICAgdGhpcy5zZXRVc2VybmFtZSh2YWx1ZSk7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxyXG5cdCAgICAgIH0sXHJcblx0ICAgICAgcGFzc3dvcmQ6IHtcclxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3Bhc3N3b3JkJyk7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHQgICAgICAgICAgdGhpcy5zZXRQYXNzd29yZCh2YWx1ZSk7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxyXG5cdCAgICAgIH0sXHJcblx0ICAgICAgZW1haWw6IHtcclxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5nZXRFbWFpbCgpO1xyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0ICAgICAgICAgIHRoaXMuc2V0RW1haWwodmFsdWUpO1xyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHQgICAgICAgIGVudW1lcmFibGU6IHRydWVcclxuXHQgICAgICB9LFxyXG5cdCAgICAgIGF1dGg6IHtcclxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoZW50aWNhdGVkKCk7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuXHQgICAgICB9LFxyXG5cdCAgICAgIGN1cnJlbnQ6IHtcclxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5pc0N1cnJlbnQoKTtcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcblx0ICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG5cdCAgICAgIH1cclxuXHQgICAgfSk7XHJcblx0XHJcblx0ICAgIFBhcnNlVXNlci5kZWZpbmVBdHRyaWJ1dGVzID0gUGFyc2VVdGlscy5kZWZpbmVBdHRyaWJ1dGVzLmJpbmQoUGFyc2VVdGlscywgUGFyc2VVc2VyLnByb3RvdHlwZSk7XHJcblx0XHJcblx0ICAgIFBhcnNlVXRpbHMud3JhcE1ldGhvZHMoUGFyc2VVc2VyLCBbJ2JlY29tZScsICdlbmFibGVSZXZvY2FibGVTZXNzaW9uJywgJ2xvZ0luJywgJ2xvZ091dCcsICdyZXF1ZXN0UGFzc3dvcmRSZXNldCcsICdzaWduVXAnXSk7XHJcblx0ICAgIFBhcnNlVXRpbHMud3JhcE1ldGhvZHMoUGFyc2VVc2VyLnByb3RvdHlwZSwgWydsb2dJbicsICdzaWduVXAnXSk7XHJcblx0XHJcblx0ICAgIHJldHVybiBQYXJzZVVzZXI7XHJcblx0ICB9XHJcblx0fVxyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG5cdCAgLnByb3ZpZGVyKCdQYXJzZVVzZXInLCBQYXJzZVVzZXJQcm92aWRlcik7XHJcblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIG5nUGFyc2VNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBuZ2RvYyBvYmplY3RcclxuXHQgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuXHQgKlxyXG5cdCAqIEByZXF1aXJlcyAkcVxyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogVXRpbHMuXHJcblx0ICovXHJcblx0UGFyc2VVdGlsc1NlcnZpY2UuJGluamVjdCA9IFsnJHEnXTtcclxuXHRmdW5jdGlvbiBQYXJzZVV0aWxzU2VydmljZSgkcSkge1xyXG5cdCAgdGhpcy53cmFwUHJvbWlzZSA9IHdyYXBQcm9taXNlO1xyXG5cdCAgdGhpcy53cmFwTWV0aG9kcyA9IHdyYXBNZXRob2RzO1xyXG5cdCAgdGhpcy5kZWZpbmVBdHRyaWJ1dGVzID0gZGVmaW5lQXR0cmlidXRlcztcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlVXRpbHMjd3JhcFByb21pc2VcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIFdyYXAgZnVuY3Rpb24gdGhhdCByZXR1cm5zIFtQYXJzZS5Qcm9taXNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlByb21pc2UuaHRtbH1cclxuXHQgICAqIGludG8gZnVuY3Rpb24gdGhhdCByZXR1cm5zICRxIHByb21pc2UuXHJcblx0ICAgKlxyXG5cdCAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyBGdW5jdGlvbiB0aGF0IHJldHVybnNcclxuXHQgICAqIFtQYXJzZS5Qcm9taXNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlByb21pc2UuaHRtbH0uXHJcblx0ICAgKlxyXG5cdCAgICogQHJldHVybnMge2Z1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IHJldHVybnMgJHEgcHJvbWlzZS5cclxuXHQgICAqL1xyXG5cdCAgZnVuY3Rpb24gd3JhcFByb21pc2UoZnVuYykge1xyXG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuXHQgICAgICB2YXIgcHJvbWlzZSA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XHJcblx0ICAgICAgcmV0dXJuICRxKHByb21pc2UudGhlbi5iaW5kKHByb21pc2UpKTtcclxuXHQgICAgfTtcclxuXHQgIH1cclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0ICAgKiBAbmFtZSB3cmFwTWV0aG9kXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBXcmFwIG9iamVjdCBtZXRob2QgdGhhdCByZXR1cm5zXHJcblx0ICAgKiBbUGFyc2UuUHJvbWlzZV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5Qcm9taXNlLmh0bWx9XHJcblx0ICAgKiBpbnRvIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyAkcSBwcm9taXNlLlxyXG5cdCAgICpcclxuXHQgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgT2JqZWN0LlxyXG5cdCAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgTWV0aG9kIG5hbWUuXHJcblx0ICAgKi9cclxuXHQgIGZ1bmN0aW9uIHdyYXBNZXRob2Qob2JqZWN0LCBtZXRob2ROYW1lKSB7XHJcblx0ICAgIG9iamVjdFttZXRob2ROYW1lXSA9IHdyYXBQcm9taXNlKG9iamVjdFttZXRob2ROYW1lXSk7XHJcblx0ICB9XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBmdW5jdGlvblxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVV0aWxzI3dyYXBNZXRob2RzXHJcblx0ICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVV0aWxzXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBXcmFwIGVhY2ggb2JqZWN0IG1ldGhvZCB0aGF0IHJldHVybnNcclxuXHQgICAqIFtQYXJzZS5Qcm9taXNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlByb21pc2UuaHRtbH1cclxuXHQgICAqIGludG8gZnVuY3Rpb24gdGhhdCByZXR1cm5zICRxIHByb21pc2UuXHJcblx0ICAgKlxyXG5cdCAgICogQHBhcmFtIHtvYmplY3R9IG9iamVjdCBPYmplY3QuXHJcblx0ICAgKiBAcGFyYW0gey4uLnN0cmluZ3xzdHJpbmdbXX0gbWV0aG9kTmFtZXMgTWV0aG9kIG5hbWVzLlxyXG5cdCAgICovXHJcblx0ICBmdW5jdGlvbiB3cmFwTWV0aG9kcyhvYmplY3QsIG1ldGhvZE5hbWVzKSB7XHJcblx0ICAgIGlmICghKG1ldGhvZE5hbWVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcblx0ICAgICAgbWV0aG9kTmFtZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBtZXRob2ROYW1lcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cdCAgICAgIHdyYXBNZXRob2Qob2JqZWN0LCBtZXRob2ROYW1lc1tpXSk7XHJcblx0ICAgIH1cclxuXHQgIH1cclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0ICAgKiBAbmFtZSBkZWZpbmVBdHRyaWJ1dGVcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIERlZmluZXMgdGhlIGF0dHJpYnV0ZSBvZiBhbiBvYmplY3QuXHJcblx0ICAgKlxyXG5cdCAgICogQHBhcmFtIHtvYmplY3R9IG9iamVjdCBPYmplY3QuXHJcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIEF0dHJpYnV0ZSBuYW1lLlxyXG5cdCAgICovXHJcblx0ICBmdW5jdGlvbiBkZWZpbmVBdHRyaWJ1dGUob2JqZWN0LCBhdHRyaWJ1dGUpIHtcclxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgYXR0cmlidXRlLCB7XHJcblx0ICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICByZXR1cm4gdGhpcy5nZXQoYXR0cmlidXRlKTtcclxuXHQgICAgICB9LFxyXG5cdCAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0ICAgICAgICB0aGlzLnNldChhdHRyaWJ1dGUsIHZhbHVlKTtcclxuXHQgICAgICB9LFxyXG5cdCAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHQgICAgICBlbnVtZXJhYmxlOiB0cnVlXHJcblx0ICAgIH0pO1xyXG5cdCAgfVxyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVdGlscyNkZWZpbmVBdHRyaWJ1dGVzXHJcblx0ICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVV0aWxzXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBEZWZpbmVzIHRoZSBhdHRyaWJ1dGVzIG9mIGFuIG9iamVjdC5cclxuXHQgICAqXHJcblx0ICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IE9iamVjdC5cclxuXHQgICAqIEBwYXJhbSB7Li4uc3RyaW5nfHN0cmluZ1tdfSBhdHRyaWJ1dGVzIEF0dHJpYnV0ZSBuYW1lcy5cclxuXHQgICAqL1xyXG5cdCAgZnVuY3Rpb24gZGVmaW5lQXR0cmlidXRlcyhvYmplY3QsIGF0dHJpYnV0ZXMpIHtcclxuXHQgICAgaWYgKCEoYXR0cmlidXRlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG5cdCAgICAgIGF0dHJpYnV0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0ICAgICAgZGVmaW5lQXR0cmlidXRlKG9iamVjdCwgYXR0cmlidXRlc1tpXSk7XHJcblx0ICAgIH1cclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAuc2VydmljZSgnUGFyc2VVdGlscycsIFBhcnNlVXRpbHNTZXJ2aWNlKTtcclxuXG5cbi8qKiovIH0sXG4vKiA5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgUGFyc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLlBhcnNlO1xyXG5cdHZhciBuZ1BhcnNlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBAbmdkb2Mgc2VydmljZVxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VPYmplY3RcclxuXHQgKlxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIFRoaXMgaXMgYSB3cmFwcGVyIGZvclxyXG5cdCAqIFtQYXJzZS5PYmplY3Rde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuT2JqZWN0Lmh0bWx9LlxyXG5cdCAqL1xyXG5cdFBhcnNlT2JqZWN0RmFjdG9yeS4kaW5qZWN0ID0gWydQYXJzZVV0aWxzJ107XHJcblx0ZnVuY3Rpb24gUGFyc2VPYmplY3RGYWN0b3J5KFBhcnNlVXRpbHMpIHtcclxuXHQgIHZhciBQYXJzZU9iamVjdCA9IFBhcnNlLk9iamVjdDtcclxuXHRcclxuXHQgIGlmIChQYXJzZS4kJGluaXQpIHJldHVybiBQYXJzZU9iamVjdDtcclxuXHRcclxuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJzZU9iamVjdC5wcm90b3R5cGUsICckaWQnLCB7XHJcblx0ICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgIHJldHVybiB0aGlzLiQkaWQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLiQkaWQgPT09IG51bGwgPyB0aGlzLmlkIDogdGhpcy4kJGlkO1xyXG5cdCAgICB9LFxyXG5cdCAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdCAgICAgIHRoaXMuJCRpZCA9IHZhbHVlO1xyXG5cdCAgICB9LFxyXG5cdCAgICBjb25maWd1cmFibGU6IGZhbHNlLFxyXG5cdCAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG5cdCAgfSk7XHJcblx0XHJcblx0ICBQYXJzZVV0aWxzLndyYXBNZXRob2RzKFBhcnNlT2JqZWN0LCBbJ2Rlc3Ryb3lBbGwnLCAnZmV0Y2hBbGwnLCAnZmV0Y2hBbGxJZk5lZWRlZCcsICdzYXZlQWxsJ10pO1xyXG5cdCAgUGFyc2VVdGlscy53cmFwTWV0aG9kcyhQYXJzZU9iamVjdC5wcm90b3R5cGUsIFsnZGVzdHJveScsICdmZXRjaCcsICdzYXZlJ10pO1xyXG5cdFxyXG5cdCAgLy9jb25mbGljdCB3aXRoIFBhcnNlVXNlci5wcm90b3R5cGUuZGVmaW5lQXR0cmlidXRlc1xyXG5cdCAgLy9QYXJzZU9iamVjdC5kZWZpbmVBdHRyaWJ1dGVzID0gUGFyc2VVdGlscy5kZWZpbmVBdHRyaWJ1dGVzLmJpbmQoUGFyc2VVdGlscywgUGFyc2VPYmplY3QucHJvdG90eXBlKTtcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlT2JqZWN0LnByb3RvdHlwZSNpc0RpcnR5XHJcblx0ICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZU9iamVjdC5wcm90b3R5cGVcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIENoZWNrIHdoZXRoZXIgdGhlIG9iamVjdCBpcyBkaXJ0eS5cclxuXHQgICAqXHJcblx0ICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyBkaXJ0eS5cclxuXHQgICAqL1xyXG5cdCAgUGFyc2VPYmplY3QucHJvdG90eXBlLmlzRGlydHkgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgIHJldHVybiBCb29sZWFuKHRoaXMuZGlydHlLZXlzKCkubGVuZ3RoKTtcclxuXHQgIH07XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBmdW5jdGlvblxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZU9iamVjdC5wcm90b3R5cGUjaXNDcmVhdGVkXHJcblx0ICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZU9iamVjdC5wcm90b3R5cGVcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIENoZWNrIHdoZXRoZXIgdGhlIG9iamVjdCBpcyBjcmVhdGVkLlxyXG5cdCAgICpcclxuXHQgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGNyZWF0ZWQuXHJcblx0ICAgKi9cclxuXHQgIFBhcnNlT2JqZWN0LnByb3RvdHlwZS5pc0NyZWF0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcblx0ICAgIHJldHVybiBCb29sZWFuKHRoaXMuY3JlYXRlZEF0KTtcclxuXHQgIH07XHJcblx0XHJcblx0ICByZXR1cm4gUGFyc2VPYmplY3Q7XHJcblx0fVxyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG5cdCAgLmZhY3RvcnkoJ1BhcnNlT2JqZWN0JywgUGFyc2VPYmplY3RGYWN0b3J5KTtcclxuXG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5QYXJzZTtcclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIHNlcnZpY2VcclxuXHQgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUXVlcnlcclxuXHQgKlxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIFRoaXMgaXMgYSB3cmFwcGVyIGZvclxyXG5cdCAqIFtQYXJzZS5QYXJzZVF1ZXJ5XXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlF1ZXJ5Lmh0bWx9LlxyXG5cdCAqL1xyXG5cdFBhcnNlUXVlcnlGYWN0b3J5LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuXHRmdW5jdGlvbiBQYXJzZVF1ZXJ5RmFjdG9yeShQYXJzZVV0aWxzKSB7XHJcblx0ICB2YXIgUGFyc2VRdWVyeSA9IFBhcnNlLlF1ZXJ5O1xyXG5cdFxyXG5cdCAgaWYgKFBhcnNlLiQkaW5pdCkgcmV0dXJuIFBhcnNlUXVlcnk7XHJcblx0XHJcblx0ICBQYXJzZVV0aWxzLndyYXBNZXRob2RzKFBhcnNlUXVlcnkucHJvdG90eXBlLCBbJ2NvdW50JywgJ2VhY2gnLCAnZmluZCcsICdmaXJzdCcsICdnZXQnXSk7XHJcblx0XHJcblx0ICByZXR1cm4gUGFyc2VRdWVyeTtcclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAuZmFjdG9yeSgnUGFyc2VRdWVyeScsIFBhcnNlUXVlcnlGYWN0b3J5KTtcclxuXG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5QYXJzZTtcclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbG91ZFxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcblx0ICogW1BhcnNlLkNsb3VkXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLkNsb3VkLmh0bWx9LlxyXG5cdCAqL1xyXG5cdFBhcnNlQ2xvdWRGYWN0b3J5LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuXHRmdW5jdGlvbiBQYXJzZUNsb3VkRmFjdG9yeShQYXJzZVV0aWxzKSB7XHJcblx0ICB2YXIgUGFyc2VDbG91ZCA9IFBhcnNlLkNsb3VkO1xyXG5cdFxyXG5cdCAgaWYgKFBhcnNlLiQkaW5pdCkgcmV0dXJuIFBhcnNlQ2xvdWQ7XHJcblx0XHJcblx0ICBQYXJzZVV0aWxzLndyYXBNZXRob2RzKFBhcnNlQ2xvdWQsIFsncnVuJ10pO1xyXG5cdFxyXG5cdCAgcmV0dXJuIFBhcnNlQ2xvdWQ7XHJcblx0fVxyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG5cdCAgLmZhY3RvcnkoJ1BhcnNlQ2xvdWQnLCBQYXJzZUNsb3VkRmFjdG9yeSk7XHJcblxuXG4vKioqLyB9XG4vKioqKioqLyBdKTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBhbmd1bGFyLXBhcnNlLmpzXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCA2OWZmODk2ZmFmZmI4OTBkZTE5YlxuICoqLyIsInZhciBuZ1BhcnNlTW9kdWxlID0gcmVxdWlyZSgnLi9tb2R1bGUuanMnKTtcclxucmVxdWlyZSgnLi9QYXJzZS5qcycpO1xyXG5yZXF1aXJlKCcuL1V0aWxzLmpzJyk7XHJcbnJlcXVpcmUoJy4vT2JqZWN0LmpzJyk7XHJcbnJlcXVpcmUoJy4vQ2xhc3MuanMnKTtcclxucmVxdWlyZSgnLi9RdWVyeS5qcycpO1xyXG5yZXF1aXJlKCcuL0Nsb3VkLmpzJyk7XHJcbnJlcXVpcmUoJy4vVXNlci5qcycpO1xyXG5yZXF1aXJlKCcuL0ZhY2Vib29rVXRpbHMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZS5uYW1lO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGFuZ3VsYXIgPSByZXF1aXJlKCdhbmd1bGFyJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIG92ZXJ2aWV3XHJcbiAqIEBuYW1lIG5nUGFyc2VcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqICMgbmdQYXJzZVxyXG4gKiBBbmd1bGFyIHdyYXBwZXIgZm9yIFtQYXJzZS5jb20gSmF2YVNjcmlwdCBTREtde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvZ3VpZGV9LlxyXG4gKlxyXG4gKiA8cHJlPlxyXG4gKiA8IWRvY3R5cGUgaHRtbD5cclxuICogPGh0bWwgbmctYXBwPVwiZGVtb1wiPlxyXG4gKiA8aGVhZD5cclxuICogICA8c2NyaXB0IHNyYz1cInBhdGgvdG8vYW5ndWxhci5qc1wiPjwvc2NyaXB0PlxyXG4gKiAgIDwhLS0gSW5jbHVkZSB0aGUgbmdQYXJzZSBzY3JpcHQgLS0+XHJcbiAqICAgPHNjcmlwdCBzcmM9XCJwYXRoL3RvL2FuZ3VsYXItcGFyc2UuanNcIj48L3NjcmlwdD5cclxuICogICA8c2NyaXB0PlxyXG4gKiAgICAgLy8gYWRkICduZ1BhcnNlJyBhcyBhIGRlcGVuZGVuY3lcclxuICogICAgIGFuZ3VsYXIubW9kdWxlKCdkZW1vJywgWyduZ1BhcnNlJ10pO1xyXG4gKiAgIDwvc2NyaXB0PlxyXG4gKiA8L2hlYWQ+XHJcbiAqIDxib2R5PlxyXG4gKiA8L2JvZHk+XHJcbiAqIDwvaHRtbD5cclxuICogPC9wcmU+XHJcbiAqL1xyXG52YXIgbmdQYXJzZU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCduZ1BhcnNlJywgW10pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL21vZHVsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gd2luZG93LmFuZ3VsYXI7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcIndpbmRvdy5hbmd1bGFyXCJcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgUGFyc2UgPSByZXF1aXJlKCdwYXJzZScpLlBhcnNlO1xyXG52YXIgbmdQYXJzZU1vZHVsZSA9IHJlcXVpcmUoJy4vbW9kdWxlLmpzJyk7XHJcbnJlcXVpcmUoJy4vQ2xhc3MuanMnKTtcclxucmVxdWlyZSgnLi9GYWNlYm9va1V0aWxzLmpzJyk7XHJcbnJlcXVpcmUoJy4vVXNlci5qcycpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBvYmplY3RcclxuICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcbiAqXHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlclxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlclxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVVzZXJQcm92aWRlclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogUHJvdmlkZXIgZm9yIFBhcnNlIHNlcnZpY2UuXHJcbiAqL1xyXG5QYXJzZVByb3ZpZGVyLiRpbmplY3QgPSBbJ1BhcnNlQ2xhc3NQcm92aWRlcicsICdQYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlcicsICdQYXJzZVVzZXJQcm92aWRlciddO1xyXG5mdW5jdGlvbiBQYXJzZVByb3ZpZGVyKFBhcnNlQ2xhc3NQcm92aWRlciwgUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIsIFBhcnNlVXNlclByb3ZpZGVyKSB7XHJcbiAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI1BhcnNlXHJcbiAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuUGFyc2UgPSBQYXJzZTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI0NsYXNzXHJcbiAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuQ2xhc3MgPSBQYXJzZUNsYXNzUHJvdmlkZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlciNGYWNlYm9va1V0aWxzXHJcbiAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuRmFjZWJvb2tVdGlscyA9IFBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUHJvdmlkZXIjVXNlclxyXG4gICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VQcm92aWRlclxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLlVzZXIgPSBQYXJzZVVzZXJQcm92aWRlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlciNpbml0aWFsaXplXHJcbiAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogSW5pdGlhbGl6ZXMgUGFyc2UuXHJcbiAgICogU2VlIFtQYXJzZS5pbml0aWFsaXplXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLmh0bWwjLmluaXRpYWxpemV9LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFwcGxpY2F0aW9uSWQgWW91ciBQYXJzZSBBcHBsaWNhdGlvbiBJRC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gamF2YVNjcmlwdEtleSBZb3VyIFBhcnNlIEphdmFTY3JpcHQgS2V5LlxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoYXBwbGljYXRpb25JZCwgamF2YVNjcmlwdEtleSkge1xyXG4gICAgUGFyc2UuaW5pdGlhbGl6ZShhcHBsaWNhdGlvbklkLCBqYXZhU2NyaXB0S2V5KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgb2JqZWN0XHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yIFtQYXJzZV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5odG1sfS5cclxuICAgKi9cclxuICBwcm92aWRlci4kZ2V0ID0gJGdldDtcclxuICAkZ2V0LiRpbmplY3QgPSBbXTtcclxuICBmdW5jdGlvbiAkZ2V0KCkge1xyXG4gICAgcmV0dXJuIFBhcnNlO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBpbml0XHJcbiAqXHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlQ2xhc3NcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VDbG91ZFxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VPYmplY3RcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VRdWVyeVxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVVzZXJcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogSW5pdGlhbGl6ZXMgbmdQYXJzZSBzZXJ2aWNlcy5cclxuICovXHJcbmluaXQuJGluamVjdCA9IFsnUGFyc2VDbGFzcycsICdQYXJzZUNsb3VkJywgJ1BhcnNlRmFjZWJvb2tVdGlscycsICdQYXJzZU9iamVjdCcsICdQYXJzZScsICdQYXJzZVF1ZXJ5JywgJ1BhcnNlVXNlcicsICdQYXJzZVV0aWxzJ107XHJcbmZ1bmN0aW9uIGluaXQoUGFyc2VDbGFzcywgUGFyc2VDbG91ZCwgUGFyc2VGYWNlYm9va1V0aWxzLCBQYXJzZU9iamVjdCwgUGFyc2UsIFBhcnNlUXVlcnksIFBhcnNlVXNlciwgUGFyc2VVdGlscykge1xyXG4gIFBhcnNlLiQkaW5pdCA9IHRydWU7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG4gIC5wcm92aWRlcignUGFyc2UnLCBQYXJzZVByb3ZpZGVyKVxyXG4gIC5ydW4oaW5pdCk7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvUGFyc2UuanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5QYXJzZSAmJiB3aW5kb3c7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcIndpbmRvdy5QYXJzZSAmJiB3aW5kb3dcIlxuICoqIG1vZHVsZSBpZCA9IDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBQYXJzZSA9IHJlcXVpcmUoJ3BhcnNlJykuUGFyc2U7XHJcbnZhciBuZ1BhcnNlTW9kdWxlID0gcmVxdWlyZSgnLi9tb2R1bGUuanMnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgb2JqZWN0XHJcbiAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBQcm92aWRlciBmb3IgUGFyc2VDbGFzcyBzZXJ2aWNlLlxyXG4gKi9cclxuUGFyc2VDbGFzc1Byb3ZpZGVyLiRpbmplY3QgPSBbXTtcclxuZnVuY3Rpb24gUGFyc2VDbGFzc1Byb3ZpZGVyKCkge1xyXG4gIHZhciBwcm92aWRlciA9IHRoaXM7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyIyRjbGFzc2VzXHJcbiAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENsYXNzIG5hbWVzIGZvciByZWdpc3RyYXRpb24uXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuJGNsYXNzZXMgPSB7fTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyI3JlZ2lzdGVyXHJcbiAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZWdpc3RlciBmYWN0b3JpZXMsIHdoaWNoIGNyZWF0ZSBQYXJzZSBjbGFzc2VzLlxyXG4gICAqIEl0IG1heSBiZSBoZWxwZnVsIHRvIEluaXRpYWxpemUgUGFyc2UgY2xhc3NlcyBiZWZvcmUgdXNpbmcuXHJcbiAgICpcclxuICAgKiA8cHJlPlxyXG4gICAqIGFuZ3VsYXIubW9kdWxlKCdkZW1vJywgWyduZ1BhcnNlJ10pXHJcbiAgICogICAuZmFjdG9yeSgnRmlyc3RQYXJzZUNsYXNzJywgWydQYXJzZUNsYXNzJywgZnVuY3Rpb24oUGFyc2VDbGFzcykge1xyXG4gICAqICAgICByZXR1cm4gbmV3IFBhcnNlQ2xhc3MoJ0ZpcnN0Jywgey4uLn0pO1xyXG4gICAqICAgfV0pXHJcbiAgICogICAuZmFjdG9yeSgnU2Vjb25kUGFyc2VDbGFzcycsIFsnUGFyc2VDbGFzcycsIGZ1bmN0aW9uKFBhcnNlQ2xhc3MpIHtcclxuICAgKiAgICAgcmV0dXJuIG5ldyBQYXJzZUNsYXNzKCdTZWNvbmQnLCB7Li4ufSk7XHJcbiAgICogICB9XSlcclxuICAgKiAgIC5jb25maWcoWydQYXJzZUNsYXNzUHJvdmlkZXInLCBmdW5jdGlvbihQYXJzZUNsYXNzUHJvdmlkZXIpIHtcclxuICAgKiAgICAgUGFyc2VDbGFzc1Byb3ZpZGVyLnJlZ2lzdGVyKCdGaXJzdFBhcnNlQ2xhc3MnLCAnU2Vjb25kUGFyc2VDbGFzcycpO1xyXG4gICAqICAgfV0pO1xyXG4gICAqIDwvcHJlPlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsuLi5zdHJpbmd8c3RyaW5nW119IGNsYXNzZXMgQ2xhc3MgbmFtZXMgZm9yIHJlZ2lzdHJhdGlvbi5cclxuICAgKi9cclxuICBwcm92aWRlci5yZWdpc3RlciA9IGZ1bmN0aW9uIChjbGFzc2VzKSB7XHJcbiAgICBpZiAoIShjbGFzc2VzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgIGNsYXNzZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBjbGFzc2VzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHByb3ZpZGVyLiRjbGFzc2VzW2NsYXNzZXNbaV1dID0gY2xhc3Nlc1tpXTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzc1xyXG4gICAqXHJcbiAgICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcbiAgICogW2BQYXJzZS5PYmplY3QuZXh0ZW5kYF17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5PYmplY3QuaHRtbCMuZXh0ZW5kfS5cclxuICAgKiBDcmVhdGVzIGEgbmV3IHN1YmNsYXNzIG9mIFBhcnNlLk9iamVjdCBmb3IgdGhlIGdpdmVuIFBhcnNlIGNsYXNzIG5hbWUuXHJcbiAgICpcclxuICAgKiA8cHJlPlxyXG4gICAqIC8vIGNsYXNzIGRlZmluaXRpb24gd2l0aCAkYXR0cmlidXRlc1xyXG4gICAqIHZhciBEZW1vQ2xhc3MgPSBuZXcgUGFyc2VDbGFzcygnRGVtbycsIHtcclxuICAgKiAgICRhdHRyaWJ1dGVzOiBbJ2ZpcnN0JywgJ3NlY29uZCcsIC4uLl1cclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIHZhciBkZW1vT2JqZWN0ID0gbmV3IERlbW9DbGFzcygpO1xyXG4gICAqXHJcbiAgICogLy8gYXR0cmlidXRlIHNldHRlclxyXG4gICAqIGRlbW9PYmplY3Quc2V0KCdmaXJzdCcsICdmaXJzdCB2YWx1ZScpO1xyXG4gICAqXHJcbiAgICogLy8gJGF0dHJpYnV0ZXMgZ2V0dGVyXHJcbiAgICogdmFyIHZhbCA9IGRlbW9PYmplY3QuZmlyc3Q7XHJcbiAgICogY29uc29sZS5hc3NlcnQodmFsID09ICdmaXJzdCB2YWx1ZScpO1xyXG4gICAqXHJcbiAgICogLy8gJGF0dHJpYnV0ZXMgc2V0dGVyXHJcbiAgICogZGVtb09iamVjdC5maXJzdCA9ICdvdGhlciB2YWx1ZSc7XHJcbiAgICpcclxuICAgKiAvLyBhdHRyaWJ1dGUgZ2V0dGVyXHJcbiAgICogdmFyIHZhbCA9IGRlbW9PYmplY3QuZ2V0KCdmaXJzdCcpO1xyXG4gICAqIGNvbnNvbGUuYXNzZXJ0KHZhbCA9PSAnb3RoZXIgdmFsdWUnKTtcclxuICAgKiA8L3ByZT5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgVGhlIG5hbWUgb2YgdGhlIFBhcnNlIGNsYXNzLlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gcHJvdG9Qcm9wcyBbSW5zdGFuY2UgcHJvcGVydGllc117QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5PYmplY3QuaHRtbCNjb25zdHJ1Y3Rvcn0uXHJcbiAgICogQHBhcmFtIHtzdHJpbmdbXT19IHByb3RvUHJvcHMuJGF0dHJpYnV0ZXMgRGVmaW5lcyBFUzUgZ2V0dGVycyBhbmQgc2V0dGVycyBmb3IgdGhlIGF0dHJpYnV0ZXMuXHJcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBjbGFzc1Byb3BzIFtTdGF0aWMgY2xhc3MgcHJvcGVydGllc117QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5PYmplY3QuaHRtbCNjb25zdHJ1Y3Rvcn0uXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuJGdldCA9ICRnZXQ7XHJcbiAgJGdldC4kaW5qZWN0ID0gWydQYXJzZVV0aWxzJ107XHJcbiAgZnVuY3Rpb24gJGdldChQYXJzZVV0aWxzKSB7XHJcbiAgICB2YXIgZXh0ZW5kID0gUGFyc2UuT2JqZWN0LmV4dGVuZC5iaW5kKFBhcnNlLk9iamVjdCk7XHJcblxyXG4gICAgZnVuY3Rpb24gUGFyc2VDbGFzcyhjbGFzc05hbWUsIHByb3RvUHJvcHMsIGNsYXNzUHJvcHMpIHtcclxuICAgICAgdmFyIHBhcnNlQ2xhc3MgPSBleHRlbmQoY2xhc3NOYW1lLCBwcm90b1Byb3BzLCBjbGFzc1Byb3BzKTtcclxuXHJcbiAgICAgIGlmIChwcm90b1Byb3BzICYmIHR5cGVvZiBwcm90b1Byb3BzID09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgaWYgKHByb3RvUHJvcHMuJGF0dHJpYnV0ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgUGFyc2VVdGlscy5kZWZpbmVBdHRyaWJ1dGVzKHBhcnNlQ2xhc3MucHJvdG90eXBlLCBwcm90b1Byb3BzLiRhdHRyaWJ1dGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHBhcnNlQ2xhc3MuZGVmaW5lQXR0cmlidXRlcyA9IFBhcnNlVXRpbHMuZGVmaW5lQXR0cmlidXRlcy5iaW5kKFBhcnNlVXRpbHMsIHBhcnNlQ2xhc3MucHJvdG90eXBlKTtcclxuXHJcbiAgICAgIHJldHVybiBwYXJzZUNsYXNzO1xyXG4gICAgfVxyXG5cclxuICAgIFBhcnNlQ2xhc3MuJGNsYXNzZXMgPSBwcm92aWRlci4kY2xhc3NlcztcclxuXHJcbiAgICBQYXJzZS5DbGFzcyA9IFBhcnNlQ2xhc3M7XHJcblxyXG4gICAgcmV0dXJuIFBhcnNlQ2xhc3M7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGluaXRcclxuICpcclxuICogQHJlcXVpcmVzICRpbmplY3RvclxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZUNsYXNzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBJbml0aWFsaXplcyByZWdpc3RlcmVkIGNsYXNzZXMuXHJcbiAqL1xyXG5pbml0LiRpbmplY3QgPSBbJyRpbmplY3RvcicsICdQYXJzZUNsYXNzJ107XHJcbmZ1bmN0aW9uIGluaXQoJGluamVjdG9yLCBQYXJzZUNsYXNzKSB7XHJcbiAgZm9yICh2YXIgaSBpbiBQYXJzZUNsYXNzLiRjbGFzc2VzKSB7XHJcbiAgICBpZiAoIVBhcnNlQ2xhc3MuJGNsYXNzZXMuaGFzT3duUHJvcGVydHkoaSkpIGNvbnRpbnVlO1xyXG4gICAgUGFyc2VDbGFzcy4kY2xhc3Nlc1tpXSA9ICRpbmplY3Rvci5nZXQoaSk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuICAucHJvdmlkZXIoJ1BhcnNlQ2xhc3MnLCBQYXJzZUNsYXNzUHJvdmlkZXIpXHJcbiAgLnJ1bihpbml0KTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9DbGFzcy5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBQYXJzZSA9IHJlcXVpcmUoJ3BhcnNlJykuUGFyc2U7XHJcbnZhciBuZ1BhcnNlTW9kdWxlID0gcmVxdWlyZSgnLi9tb2R1bGUuanMnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgb2JqZWN0XHJcbiAqIEBuYW1lIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFByb3ZpZGVyIGZvciBQYXJzZUZhY2Vib29rVXRpbHMgc2VydmljZS5cclxuICovXHJcblBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyLiRpbmplY3QgPSBbXTtcclxuZnVuY3Rpb24gUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIoKSB7XHJcbiAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlciNGYWNlYm9va1V0aWxzXHJcbiAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU2VlIFtGYWNlYm9va1V0aWxzXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLkZhY2Vib29rVXRpbHMuaHRtbH1cclxuICAgKi9cclxuICBwcm92aWRlci5GYWNlYm9va1V0aWxzID0gUGFyc2UuRmFjZWJvb2tVdGlscztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIjaW5pdGlhbGl6ZVxyXG4gICAqIEBhbGlhcyBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyI2luaXRcclxuICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogSW5pdGlhbGl6ZXMgUGFyc2UgRmFjZWJvb2sgaW50ZWdyYXRpb24uXHJcbiAgICogU2VlIFtgUGFyc2UuRmFjZWJvb2tVdGlscy5pbml0YF17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5GYWNlYm9va1V0aWxzLmh0bWwjLmluaXR9LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgIEZhY2Vib29rIG9wdGlvbnMgYXJndW1lbnQuXHJcbiAgICogU2VlIFtgUGFyc2UuRmFjZWJvb2tVdGlscy5pbml0YF17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5GYWNlYm9va1V0aWxzLmh0bWwjLmluaXR9LlxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLmluaXRpYWxpemUgPSBwcm92aWRlci5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIFBhcnNlLkZhY2Vib29rVXRpbHMuaW5pdChvcHRpb25zKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgb2JqZWN0XHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNcclxuICAgKlxyXG4gICAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgaXMgYSB3cmFwcGVyIGZvclxyXG4gICAqIFtQYXJzZS5GYWNlYm9va1V0aWxzXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLkZhY2Vib29rVXRpbHMuaHRtbH0uXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuJGdldCA9ICRnZXQ7XHJcbiAgJGdldC4kaW5qZWN0ID0gWydQYXJzZVV0aWxzJ107XHJcbiAgZnVuY3Rpb24gJGdldChQYXJzZVV0aWxzKSB7XHJcbiAgICB2YXIgUGFyc2VGYWNlYm9va1V0aWxzID0gUGFyc2UuRmFjZWJvb2tVdGlscztcclxuXHJcbiAgICBpZiAoUGFyc2UuJCRpbml0KSByZXR1cm4gUGFyc2VGYWNlYm9va1V0aWxzO1xyXG5cclxuICAgIFBhcnNlVXRpbHMud3JhcE1ldGhvZHMoUGFyc2VGYWNlYm9va1V0aWxzLCBbJ2xpbmsnLCAnbG9nSW4nLCAndW5saW5rJ10pO1xyXG5cclxuICAgIHJldHVybiBQYXJzZUZhY2Vib29rVXRpbHM7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuICAucHJvdmlkZXIoJ1BhcnNlRmFjZWJvb2tVdGlscycsIFBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyKTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9GYWNlYm9va1V0aWxzLmpzXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIFBhcnNlID0gcmVxdWlyZSgncGFyc2UnKS5QYXJzZTtcclxudmFyIG5nUGFyc2VNb2R1bGUgPSByZXF1aXJlKCcuL21vZHVsZS5qcycpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBvYmplY3RcclxuICogQG5hbWUgbmdQYXJzZS5QYXJzZVVzZXJQcm92aWRlclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogUHJvdmlkZXIgZm9yIFBhcnNlVXNlciBzZXJ2aWNlLlxyXG4gKi9cclxuUGFyc2VVc2VyUHJvdmlkZXIuJGluamVjdCA9IFtdO1xyXG5mdW5jdGlvbiBQYXJzZVVzZXJQcm92aWRlcigpIHtcclxuICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xyXG4gIHByb3ZpZGVyLlVzZXIgPSBQYXJzZS5Vc2VyO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVVzZXJQcm92aWRlciNyZWdpc3RlclxyXG4gICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDaGVja3Mgd2hldGhlciB0aGlzIHVzZXIgaXMgdGhlIGN1cnJlbnQgdXNlciBhbmQgaGFzIGJlZW4gYXV0aGVudGljYXRlZC5cclxuICAgKi9cclxuICBwcm92aWRlci5hdXRoZW50aWNhdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIEJvb2xlYW4oUGFyc2UuVXNlci5jdXJyZW50KCkpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVVzZXJcclxuICAgKlxyXG4gICAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgaXMgYSB3cmFwcGVyIGZvclxyXG4gICAqIFtQYXJzZS5QYXJzZVVzZXJde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuVXNlci5odG1sfS5cclxuICAgKi9cclxuICBwcm92aWRlci4kZ2V0ID0gJGdldDtcclxuICAkZ2V0LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuICBmdW5jdGlvbiAkZ2V0KFBhcnNlVXRpbHMpIHtcclxuICAgIHZhciBQYXJzZVVzZXIgPSBQYXJzZS5Vc2VyO1xyXG5cclxuICAgIGlmIChQYXJzZS4kJGluaXQpIHJldHVybiBQYXJzZVVzZXI7XHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUGFyc2VVc2VyLnByb3RvdHlwZSwge1xyXG4gICAgICB1c2VybmFtZToge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXNlcm5hbWUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFVzZXJuYW1lKHZhbHVlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIHBhc3N3b3JkOiB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3Bhc3N3b3JkJyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgdGhpcy5zZXRQYXNzd29yZCh2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICBlbWFpbDoge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RW1haWwoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICB0aGlzLnNldEVtYWlsKHZhbHVlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIGF1dGg6IHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiB0aGlzLmF1dGhlbnRpY2F0ZWQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgICB9LFxyXG4gICAgICBjdXJyZW50OiB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5pc0N1cnJlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBQYXJzZVVzZXIuZGVmaW5lQXR0cmlidXRlcyA9IFBhcnNlVXRpbHMuZGVmaW5lQXR0cmlidXRlcy5iaW5kKFBhcnNlVXRpbHMsIFBhcnNlVXNlci5wcm90b3R5cGUpO1xyXG5cclxuICAgIFBhcnNlVXRpbHMud3JhcE1ldGhvZHMoUGFyc2VVc2VyLCBbJ2JlY29tZScsICdlbmFibGVSZXZvY2FibGVTZXNzaW9uJywgJ2xvZ0luJywgJ2xvZ091dCcsICdyZXF1ZXN0UGFzc3dvcmRSZXNldCcsICdzaWduVXAnXSk7XHJcbiAgICBQYXJzZVV0aWxzLndyYXBNZXRob2RzKFBhcnNlVXNlci5wcm90b3R5cGUsIFsnbG9nSW4nLCAnc2lnblVwJ10pO1xyXG5cclxuICAgIHJldHVybiBQYXJzZVVzZXI7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuICAucHJvdmlkZXIoJ1BhcnNlVXNlcicsIFBhcnNlVXNlclByb3ZpZGVyKTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9Vc2VyLmpzXG4gKiogbW9kdWxlIGlkID0gN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIG5nUGFyc2VNb2R1bGUgPSByZXF1aXJlKCcuL21vZHVsZS5qcycpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBvYmplY3RcclxuICogQG5hbWUgbmdQYXJzZS5QYXJzZVV0aWxzXHJcbiAqXHJcbiAqIEByZXF1aXJlcyAkcVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVXRpbHMuXHJcbiAqL1xyXG5QYXJzZVV0aWxzU2VydmljZS4kaW5qZWN0ID0gWyckcSddO1xyXG5mdW5jdGlvbiBQYXJzZVV0aWxzU2VydmljZSgkcSkge1xyXG4gIHRoaXMud3JhcFByb21pc2UgPSB3cmFwUHJvbWlzZTtcclxuICB0aGlzLndyYXBNZXRob2RzID0gd3JhcE1ldGhvZHM7XHJcbiAgdGhpcy5kZWZpbmVBdHRyaWJ1dGVzID0gZGVmaW5lQXR0cmlidXRlcztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVV0aWxzI3dyYXBQcm9taXNlXHJcbiAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogV3JhcCBmdW5jdGlvbiB0aGF0IHJldHVybnMgW1BhcnNlLlByb21pc2Vde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUHJvbWlzZS5odG1sfVxyXG4gICAqIGludG8gZnVuY3Rpb24gdGhhdCByZXR1cm5zICRxIHByb21pc2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIEZ1bmN0aW9uIHRoYXQgcmV0dXJuc1xyXG4gICAqIFtQYXJzZS5Qcm9taXNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlByb21pc2UuaHRtbH0uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgcmV0dXJucyAkcSBwcm9taXNlLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHdyYXBQcm9taXNlKGZ1bmMpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuICAgICAgdmFyIHByb21pc2UgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICByZXR1cm4gJHEocHJvbWlzZS50aGVuLmJpbmQocHJvbWlzZSkpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIHdyYXBNZXRob2RcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFdyYXAgb2JqZWN0IG1ldGhvZCB0aGF0IHJldHVybnNcclxuICAgKiBbUGFyc2UuUHJvbWlzZV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5Qcm9taXNlLmh0bWx9XHJcbiAgICogaW50byBmdW5jdGlvbiB0aGF0IHJldHVybnMgJHEgcHJvbWlzZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgT2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIE1ldGhvZCBuYW1lLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHdyYXBNZXRob2Qob2JqZWN0LCBtZXRob2ROYW1lKSB7XHJcbiAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSB3cmFwUHJvbWlzZShvYmplY3RbbWV0aG9kTmFtZV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVV0aWxzI3dyYXBNZXRob2RzXHJcbiAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogV3JhcCBlYWNoIG9iamVjdCBtZXRob2QgdGhhdCByZXR1cm5zXHJcbiAgICogW1BhcnNlLlByb21pc2Vde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUHJvbWlzZS5odG1sfVxyXG4gICAqIGludG8gZnVuY3Rpb24gdGhhdCByZXR1cm5zICRxIHByb21pc2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IE9iamVjdC5cclxuICAgKiBAcGFyYW0gey4uLnN0cmluZ3xzdHJpbmdbXX0gbWV0aG9kTmFtZXMgTWV0aG9kIG5hbWVzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHdyYXBNZXRob2RzKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcclxuICAgIGlmICghKG1ldGhvZE5hbWVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgIG1ldGhvZE5hbWVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gbWV0aG9kTmFtZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgd3JhcE1ldGhvZChvYmplY3QsIG1ldGhvZE5hbWVzW2ldKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIGRlZmluZUF0dHJpYnV0ZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRGVmaW5lcyB0aGUgYXR0cmlidXRlIG9mIGFuIG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgT2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgQXR0cmlidXRlIG5hbWUuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZGVmaW5lQXR0cmlidXRlKG9iamVjdCwgYXR0cmlidXRlKSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBhdHRyaWJ1dGUsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KGF0dHJpYnV0ZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5zZXQoYXR0cmlidXRlLCB2YWx1ZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlVXRpbHMjZGVmaW5lQXR0cmlidXRlc1xyXG4gICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIERlZmluZXMgdGhlIGF0dHJpYnV0ZXMgb2YgYW4gb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IG9iamVjdCBPYmplY3QuXHJcbiAgICogQHBhcmFtIHsuLi5zdHJpbmd8c3RyaW5nW119IGF0dHJpYnV0ZXMgQXR0cmlidXRlIG5hbWVzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGRlZmluZUF0dHJpYnV0ZXMob2JqZWN0LCBhdHRyaWJ1dGVzKSB7XHJcbiAgICBpZiAoIShhdHRyaWJ1dGVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgIGF0dHJpYnV0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGRlZmluZUF0dHJpYnV0ZShvYmplY3QsIGF0dHJpYnV0ZXNbaV0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcbiAgLnNlcnZpY2UoJ1BhcnNlVXRpbHMnLCBQYXJzZVV0aWxzU2VydmljZSk7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvVXRpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgUGFyc2UgPSByZXF1aXJlKCdwYXJzZScpLlBhcnNlO1xyXG52YXIgbmdQYXJzZU1vZHVsZSA9IHJlcXVpcmUoJy4vbW9kdWxlLmpzJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgbmdQYXJzZS5QYXJzZU9iamVjdFxyXG4gKlxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVV0aWxzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIGlzIGEgd3JhcHBlciBmb3JcclxuICogW1BhcnNlLk9iamVjdF17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5PYmplY3QuaHRtbH0uXHJcbiAqL1xyXG5QYXJzZU9iamVjdEZhY3RvcnkuJGluamVjdCA9IFsnUGFyc2VVdGlscyddO1xyXG5mdW5jdGlvbiBQYXJzZU9iamVjdEZhY3RvcnkoUGFyc2VVdGlscykge1xyXG4gIHZhciBQYXJzZU9iamVjdCA9IFBhcnNlLk9iamVjdDtcclxuXHJcbiAgaWYgKFBhcnNlLiQkaW5pdCkgcmV0dXJuIFBhcnNlT2JqZWN0O1xyXG5cclxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFyc2VPYmplY3QucHJvdG90eXBlLCAnJGlkJywge1xyXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLiQkaWQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLiQkaWQgPT09IG51bGwgPyB0aGlzLmlkIDogdGhpcy4kJGlkO1xyXG4gICAgfSxcclxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgIHRoaXMuJCRpZCA9IHZhbHVlO1xyXG4gICAgfSxcclxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXHJcbiAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gIH0pO1xyXG5cclxuICBQYXJzZVV0aWxzLndyYXBNZXRob2RzKFBhcnNlT2JqZWN0LCBbJ2Rlc3Ryb3lBbGwnLCAnZmV0Y2hBbGwnLCAnZmV0Y2hBbGxJZk5lZWRlZCcsICdzYXZlQWxsJ10pO1xyXG4gIFBhcnNlVXRpbHMud3JhcE1ldGhvZHMoUGFyc2VPYmplY3QucHJvdG90eXBlLCBbJ2Rlc3Ryb3knLCAnZmV0Y2gnLCAnc2F2ZSddKTtcclxuXHJcbiAgLy9jb25mbGljdCB3aXRoIFBhcnNlVXNlci5wcm90b3R5cGUuZGVmaW5lQXR0cmlidXRlc1xyXG4gIC8vUGFyc2VPYmplY3QuZGVmaW5lQXR0cmlidXRlcyA9IFBhcnNlVXRpbHMuZGVmaW5lQXR0cmlidXRlcy5iaW5kKFBhcnNlVXRpbHMsIFBhcnNlT2JqZWN0LnByb3RvdHlwZSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VPYmplY3QucHJvdG90eXBlI2lzRGlydHlcclxuICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZU9iamVjdC5wcm90b3R5cGVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENoZWNrIHdoZXRoZXIgdGhlIG9iamVjdCBpcyBkaXJ0eS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGRpcnR5LlxyXG4gICAqL1xyXG4gIFBhcnNlT2JqZWN0LnByb3RvdHlwZS5pc0RpcnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5kaXJ0eUtleXMoKS5sZW5ndGgpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VPYmplY3QucHJvdG90eXBlI2lzQ3JlYXRlZFxyXG4gICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlT2JqZWN0LnByb3RvdHlwZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ2hlY2sgd2hldGhlciB0aGUgb2JqZWN0IGlzIGNyZWF0ZWQuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyBjcmVhdGVkLlxyXG4gICAqL1xyXG4gIFBhcnNlT2JqZWN0LnByb3RvdHlwZS5pc0NyZWF0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLmNyZWF0ZWRBdCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIFBhcnNlT2JqZWN0O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuICAuZmFjdG9yeSgnUGFyc2VPYmplY3QnLCBQYXJzZU9iamVjdEZhY3RvcnkpO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL09iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBQYXJzZSA9IHJlcXVpcmUoJ3BhcnNlJykuUGFyc2U7XHJcbnZhciBuZ1BhcnNlTW9kdWxlID0gcmVxdWlyZSgnLi9tb2R1bGUuanMnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUXVlcnlcclxuICpcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcbiAqIFtQYXJzZS5QYXJzZVF1ZXJ5XXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlF1ZXJ5Lmh0bWx9LlxyXG4gKi9cclxuUGFyc2VRdWVyeUZhY3RvcnkuJGluamVjdCA9IFsnUGFyc2VVdGlscyddO1xyXG5mdW5jdGlvbiBQYXJzZVF1ZXJ5RmFjdG9yeShQYXJzZVV0aWxzKSB7XHJcbiAgdmFyIFBhcnNlUXVlcnkgPSBQYXJzZS5RdWVyeTtcclxuXHJcbiAgaWYgKFBhcnNlLiQkaW5pdCkgcmV0dXJuIFBhcnNlUXVlcnk7XHJcblxyXG4gIFBhcnNlVXRpbHMud3JhcE1ldGhvZHMoUGFyc2VRdWVyeS5wcm90b3R5cGUsIFsnY291bnQnLCAnZWFjaCcsICdmaW5kJywgJ2ZpcnN0JywgJ2dldCddKTtcclxuXHJcbiAgcmV0dXJuIFBhcnNlUXVlcnk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG4gIC5mYWN0b3J5KCdQYXJzZVF1ZXJ5JywgUGFyc2VRdWVyeUZhY3RvcnkpO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL1F1ZXJ5LmpzXG4gKiogbW9kdWxlIGlkID0gMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBQYXJzZSA9IHJlcXVpcmUoJ3BhcnNlJykuUGFyc2U7XHJcbnZhciBuZ1BhcnNlTW9kdWxlID0gcmVxdWlyZSgnLi9tb2R1bGUuanMnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgb2JqZWN0XHJcbiAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbG91ZFxyXG4gKlxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVV0aWxzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIGlzIGEgd3JhcHBlciBmb3JcclxuICogW1BhcnNlLkNsb3VkXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLkNsb3VkLmh0bWx9LlxyXG4gKi9cclxuUGFyc2VDbG91ZEZhY3RvcnkuJGluamVjdCA9IFsnUGFyc2VVdGlscyddO1xyXG5mdW5jdGlvbiBQYXJzZUNsb3VkRmFjdG9yeShQYXJzZVV0aWxzKSB7XHJcbiAgdmFyIFBhcnNlQ2xvdWQgPSBQYXJzZS5DbG91ZDtcclxuXHJcbiAgaWYgKFBhcnNlLiQkaW5pdCkgcmV0dXJuIFBhcnNlQ2xvdWQ7XHJcblxyXG4gIFBhcnNlVXRpbHMud3JhcE1ldGhvZHMoUGFyc2VDbG91ZCwgWydydW4nXSk7XHJcblxyXG4gIHJldHVybiBQYXJzZUNsb3VkO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuICAuZmFjdG9yeSgnUGFyc2VDbG91ZCcsIFBhcnNlQ2xvdWRGYWN0b3J5KTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9DbG91ZC5qc1xuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9
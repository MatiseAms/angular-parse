!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(2),n(3),e.exports=n(1).name},function(e,t,n){var r=n(4);e.exports=r.module("ngParse",[])},function(e,t){e.exports=window.Parse},function(e,t,n){function r(){function e(t,n){return t instanceof o.Object?(n instanceof Array||(n=Array.prototype.slice.call(arguments,1)),void n.forEach(function(e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){this.set(e,t)},configurable:!0,enumerable:!0})})):"function"==typeof t?e(t.prototype,n):(n=t instanceof Array?t:Array.prototype.slice.call(arguments,0),function(t){e(t,n)})}function t(e){function t(e,n){return["_rejected","_rejectedCallbacks","_resolved","_resolvedCallbacks","_result","reject","resolve"].forEach(function(t){e[t]=n[t]}),["_continueWith","_thenRunCallbacks","always","done","fail"].forEach(function(t){e[t]=r(n[t])}),["then","catch"].forEach(function(r){var o=e[r];e[r]=function(){var e=Array.prototype.slice.call(arguments,0),r=o.apply(this,e);return t(r,n),r}}),e}function r(n){return function(){var r=Array.prototype.slice.call(arguments,0),o=n.apply(this,r),i=e(o.then.bind(o));return t(i,o),i}}function o(e,t){t instanceof Array||(t=Array.prototype.slice.call(arguments,1)),t.forEach(function(t){e[t]=r(e[t])})}return n.wrapObject=o,o(n.Cloud,["run"]),o(n.Config,["get"]),o(n.FacebookUtils,["link","logIn","unlink"]),o(n.File.prototype,["save"]),o(n.Object,["destroyAll","fetchAll","fetchAllIfNeeded","saveAll"]),o(n.Object.prototype,["destroy","fetch","save"]),o(n.Promise,["_continueWhile","as","error","when"]),o(n.Push,["send"]),o(n.Query.prototype,["count","each","find","first","get"]),o(n.Session,["current"]),o(n.User,["become","currentAsync","enableRevocableSession","logIn","logOut","requestPasswordReset","signUp"]),o(n.User.prototype,["logIn","signUp"]),n}var n=Object.create(o);Object.defineProperty(n.Object.prototype,"$id",{get:function(){return void 0===this.$$id||null===this.$$id?this.id:this.$$id},set:function(e){this.$$id=e},configurable:!0,enumerable:!1}),e(n.User,["email","password","username"]);var r=n;return r.defineAttributes=e,r.$get=t,t.$inject=["$q"],r}var o=n(2),i=n(1);r.$inject=[],i.provider("Parse",r)},function(e,t){e.exports=window.angular}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYW5ndWxhci1wYXJzZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZWEwY2JhNjc1MTRjOTE4ZTU5NmUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwid2luZG93LlBhcnNlXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhcnNlLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIndpbmRvdy5hbmd1bGFyXCIiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwibmFtZSIsImFuZ3VsYXIiLCJ3aW5kb3ciLCJQYXJzZSIsIlBhcnNlUHJvdmlkZXIiLCJkZWZpbmVBdHRyaWJ1dGVzIiwib2JqZWN0IiwiYXR0cmlidXRlcyIsIk9iamVjdCIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJhcmd1bWVudHMiLCJmb3JFYWNoIiwiYXR0cmlidXRlIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJ0aGlzIiwic2V0IiwidmFsdWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwidGFyZ2V0IiwiUGFyc2VGYWN0b3J5IiwiJHEiLCJ3cmFwUGFyc2VQcm9taXNlIiwicHJvbWlzZSIsInBhcnNlUHJvbWlzZSIsInByb3AiLCJtZXRob2QiLCJ3cmFwIiwiZnVuYyIsImFyZ3MiLCJhcHBseSIsInRoZW4iLCJiaW5kIiwid3JhcE9iamVjdCIsIm1ldGhvZHMiLCJBbmd1bGFyUGFyc2UiLCJDbG91ZCIsIkNvbmZpZyIsIkZhY2Vib29rVXRpbHMiLCJGaWxlIiwiUHJvbWlzZSIsIlB1c2giLCJRdWVyeSIsIlNlc3Npb24iLCJVc2VyIiwiY3JlYXRlIiwidW5kZWZpbmVk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UCxFQUFBRSxFQUFBTSxNQUFBLFNBR0FSLEVBQUFFLEVBQUFPLE1BQUFuQyxXQUFBLHNDQUdBMEIsRUFBQUUsRUFBQVEsU0FBQSxZQUdBVixFQUFBRSxFQUFBUyxNQUFBLG9HQUNBWCxFQUFBRSxFQUFBUyxLQUFBckMsV0FBQSxtQkFFQTRCLEVBN0lBLEdBQUFBLEdBQUE5QixPQUFBd0MsT0FBQTdDLEVBR0FLLFFBQUFPLGVBQUF1QixFQUFBOUIsT0FBQUUsVUFBQSxPQUNBTSxJQUFBLFdBQ0EsTUFBQWlDLFVBQUFoQyxLQUFBaUMsTUFBQSxPQUFBakMsS0FBQWlDLEtBQUFqQyxLQUFBdkIsR0FBQXVCLEtBQUFpQyxNQUVBaEMsSUFBQSxTQUFBQyxHQUNBRixLQUFBaUMsS0FBQS9CLEdBRUFDLGNBQUEsRUFDQUMsWUFBQSxJQUlBaEIsRUFBQWlDLEVBQUFTLE1BQUEsK0JBRUEsSUFBQUksR0FBQWIsQ0ErSEEsT0F0SEFhLEdBQUE5QyxtQkFXQThDLEVBQUFDLEtBQUE3QixFQUNBQSxFQUFBOEIsU0FBQSxNQTBHQUYsRUFqTUEsR0FBQWhELEdBQUFkLEVBQUEsR0FDQWlFLEVBQUFqRSxFQUFBLEVBU0FlLEdBQUFpRCxXQTBMQUMsRUFDQUgsU0FBQSxRQUFBL0MsSUxrRk0sU0FBU1gsRUFBUUQsR012UnZCQyxFQUFBRCxRQUFBVSxPQUFBRCIsImZpbGUiOiJhbmd1bGFyLXBhcnNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLm5hbWU7XHJcblxuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGFuZ3VsYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBuZ2RvYyBvdmVydmlld1xyXG5cdCAqIEBuYW1lIG5nUGFyc2VcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIEFuZ3VsYXIgd3JhcHBlciBmb3IgW1BhcnNlLmNvbSBKYXZhU2NyaXB0IFNES117QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvfS5cclxuXHQgKi9cclxuXHRtb2R1bGUuZXhwb3J0cyA9IGFuZ3VsYXIubW9kdWxlKCduZ1BhcnNlJywgW10pO1xyXG5cblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gd2luZG93LlBhcnNlO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlclxyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogUHJvdmlkZXIgZm9yIFBhcnNlIHNlcnZpY2UuXHJcblx0ICovXHJcblx0UGFyc2VQcm92aWRlci4kaW5qZWN0ID0gW107XHJcblx0ZnVuY3Rpb24gUGFyc2VQcm92aWRlcigpIHtcclxuXHQgIC8qKlxyXG5cdCAgICogRGVmaW5lcyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIGZvciB0aGUgYXR0cmlidXRlc1xyXG5cdCAgICogb2YgdGhlIGdpdmVuIG9iamVjdCBvciBmdW5jdGlvbiBwcm90b3R5cGUuXHJcblx0ICAgKiBPciBjcmVhdGUgYSBkZWNvcmF0b3IgdGhhdCBkZWZpbmVzIGdldHRlcnNcclxuXHQgICAqIGFuZCBzZXR0ZXJzIGZvciB0aGUgc3ViY2xhc3MgUGFyc2UuT2JqZWN0LlxyXG5cdCAgICpcclxuXHQgICAqIEBwYXJhbSB7T2JqZWN0fEZ1bmN0aW9ufFN0cmluZ3xTdHJpbmdbXX0gb2JqZWN0XHJcblx0ICAgKiBAcGFyYW0gey4uLlN0cmluZ3xTdHJpbmdbXT19IGF0dHJpYnV0ZXNcclxuXHQgICAqIEByZXR1cm5zIHsqfVxyXG5cdCAgICovXHJcblx0ICBmdW5jdGlvbiBkZWZpbmVBdHRyaWJ1dGVzKG9iamVjdCwgYXR0cmlidXRlcykge1xyXG5cdCAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgUGFyc2UuT2JqZWN0KSB7XHJcblx0ICAgICAgaWYgKCEoYXR0cmlidXRlcyBpbnN0YW5jZW9mIEFycmF5KSkgYXR0cmlidXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcblx0ICAgICAgYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcclxuXHQgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIGF0dHJpYnV0ZSwge1xyXG5cdCAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoYXR0cmlidXRlKTtcclxuXHQgICAgICAgICAgfSxcclxuXHQgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHQgICAgICAgICAgICB0aGlzLnNldChhdHRyaWJ1dGUsIHZhbHVlKTtcclxuXHQgICAgICAgICAgfSxcclxuXHQgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdCAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXHJcblx0ICAgICAgICB9KTtcclxuXHQgICAgICB9KTtcclxuXHQgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09ICdmdW5jdGlvbicpIHtcclxuXHQgICAgICByZXR1cm4gZGVmaW5lQXR0cmlidXRlcyhvYmplY3QucHJvdG90eXBlLCBhdHRyaWJ1dGVzKVxyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheSkgYXR0cmlidXRlcyA9IG9iamVjdDtcclxuXHQgICAgICBlbHNlIGF0dHJpYnV0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xyXG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiBkZWZpbmVBdHRyaWJ1dGVzRGVjb3JhdG9yKHRhcmdldCkge1xyXG5cdCAgICAgICAgZGVmaW5lQXR0cmlidXRlcyh0YXJnZXQsIGF0dHJpYnV0ZXMpO1xyXG5cdCAgICAgIH1cclxuXHQgICAgfVxyXG5cdCAgfVxyXG5cdFxyXG5cdCAgLy8gUGFyc2VcclxuXHQgIHZhciBBbmd1bGFyUGFyc2UgPSBPYmplY3QuY3JlYXRlKFBhcnNlKTtcclxuXHRcclxuXHQgIC8vIFBhcnNlT2JqZWN0XHJcblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5ndWxhclBhcnNlLk9iamVjdC5wcm90b3R5cGUsICckaWQnLCB7XHJcblx0ICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgIHJldHVybiB0aGlzLiQkaWQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLiQkaWQgPT09IG51bGwgPyB0aGlzLmlkIDogdGhpcy4kJGlkO1xyXG5cdCAgICB9LFxyXG5cdCAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdCAgICAgIHRoaXMuJCRpZCA9IHZhbHVlO1xyXG5cdCAgICB9LFxyXG5cdCAgICBjb25maWd1cmFibGU6IHRydWUsXHJcblx0ICAgIGVudW1lcmFibGU6IGZhbHNlXHJcblx0ICB9KTtcclxuXHRcclxuXHQgIC8vIFBhcnNlVXNlclxyXG5cdCAgZGVmaW5lQXR0cmlidXRlcyhBbmd1bGFyUGFyc2UuVXNlciwgWydlbWFpbCcsICdwYXNzd29yZCcsICd1c2VybmFtZSddKTtcclxuXHRcclxuXHQgIHZhciBwcm92aWRlciA9IEFuZ3VsYXJQYXJzZTtcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIG1ldGhvZFxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI2RlZmluZUF0dHJpYnV0ZXNcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuXHQgICAqIEBzdGF0aWNcclxuXHQgICAqIEBzZWUge0BsaW5rIGRlZmluZUF0dHJpYnV0ZXN9XHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLmRlZmluZUF0dHJpYnV0ZXMgPSBkZWZpbmVBdHRyaWJ1dGVzO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2Mgc2VydmljZVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVxyXG5cdCAgICpcclxuXHQgICAqIEByZXF1aXJlcyAkcVxyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yIFtQYXJzZV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvY2xhc3Nlcy9QYXJzZS5odG1sfS5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuJGdldCA9IFBhcnNlRmFjdG9yeTtcclxuXHQgIFBhcnNlRmFjdG9yeS4kaW5qZWN0ID0gWyckcSddO1xyXG5cdCAgZnVuY3Rpb24gUGFyc2VGYWN0b3J5KCRxKSB7XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBXcmFwcyBQcm9taXNlLlxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvbWlzZVxyXG5cdCAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyc2VQcm9taXNlXHJcblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcblx0ICAgICAqL1xyXG5cdCAgICBmdW5jdGlvbiB3cmFwUGFyc2VQcm9taXNlKHByb21pc2UsIHBhcnNlUHJvbWlzZSkge1xyXG5cdCAgICAgIFsnX3JlamVjdGVkJywgJ19yZWplY3RlZENhbGxiYWNrcycsICdfcmVzb2x2ZWQnLCAnX3Jlc29sdmVkQ2FsbGJhY2tzJywgJ19yZXN1bHQnLCAncmVqZWN0JywgJ3Jlc29sdmUnXVxyXG5cdCAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcclxuXHQgICAgICAgICAgcHJvbWlzZVtwcm9wXSA9IHBhcnNlUHJvbWlzZVtwcm9wXTtcclxuXHQgICAgICAgIH0pO1xyXG5cdFxyXG5cdCAgICAgIFsnX2NvbnRpbnVlV2l0aCcsICdfdGhlblJ1bkNhbGxiYWNrcycsICdhbHdheXMnLCAnZG9uZScsICdmYWlsJ10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XHJcblx0ICAgICAgICBwcm9taXNlW21ldGhvZF0gPSB3cmFwKHBhcnNlUHJvbWlzZVttZXRob2RdKTtcclxuXHQgICAgICB9KTtcclxuXHRcclxuXHQgICAgICBbJ3RoZW4nLCAnY2F0Y2gnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcclxuXHQgICAgICAgIHZhciBmdW5jID0gcHJvbWlzZVttZXRob2RdO1xyXG5cdCAgICAgICAgcHJvbWlzZVttZXRob2RdID0gZnVuY3Rpb24gd3JhcHBlZEFuZ3VsYXJQcm9taXNlKCkge1xyXG5cdCAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XHJcblx0ICAgICAgICAgIHZhciBwcm9taXNlID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHQgICAgICAgICAgd3JhcFBhcnNlUHJvbWlzZShwcm9taXNlLCBwYXJzZVByb21pc2UpO1xyXG5cdCAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuXHQgICAgICAgIH07XHJcblx0ICAgICAgfSk7XHJcblx0XHJcblx0ICAgICAgcmV0dXJuIHByb21pc2U7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIFdyYXBzIGZ1bmN0aW9uLlxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIEZ1bmN0aW9uIHRoYXQgcmV0dXJuc1xyXG5cdCAgICAgKiBbUGFyc2UuUHJvbWlzZV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvY2xhc3Nlcy9QYXJzZS5Qcm9taXNlLmh0bWx9LlxyXG5cdCAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgcmV0dXJucyAkcSBwcm9taXNlcy5cclxuXHQgICAgICovXHJcblx0ICAgIGZ1bmN0aW9uIHdyYXAoZnVuYykge1xyXG5cdCAgICAgIHJldHVybiBmdW5jdGlvbiB3cmFwcGVkUGFyc2VQcm9taXNlKCkge1xyXG5cdCAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xyXG5cdCAgICAgICAgdmFyIHBhcnNlUHJvbWlzZSA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XHJcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9ICRxKHBhcnNlUHJvbWlzZS50aGVuLmJpbmQocGFyc2VQcm9taXNlKSk7XHJcblx0ICAgICAgICB3cmFwUGFyc2VQcm9taXNlKHByb21pc2UsIHBhcnNlUHJvbWlzZSk7XHJcblx0ICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuXHQgICAgICB9O1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBXcmFwcyBvYmplY3QuXHJcblx0ICAgICAqXHJcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuXHQgICAgICogQHBhcmFtIHsuLi5TdHJpbmd8U3RyaW5nW109fSBtZXRob2RzXHJcblx0ICAgICAqL1xyXG5cdCAgICBmdW5jdGlvbiB3cmFwT2JqZWN0KG9iamVjdCwgbWV0aG9kcykge1xyXG5cdCAgICAgIGlmICghKG1ldGhvZHMgaW5zdGFuY2VvZiBBcnJheSkpIG1ldGhvZHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cdCAgICAgIG1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XHJcblx0ICAgICAgICBvYmplY3RbbWV0aG9kXSA9IHdyYXAob2JqZWN0W21ldGhvZF0pO1xyXG5cdCAgICAgIH0pO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBAbmdkb2MgbWV0aG9kXHJcblx0ICAgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2Ujd3JhcE9iamVjdFxyXG5cdCAgICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVxyXG5cdCAgICAgKiBAc3RhdGljXHJcblx0ICAgICAqIEBzZWUge0BsaW5rIHdyYXBPYmplY3R9XHJcblx0ICAgICAqL1xyXG5cdCAgICBBbmd1bGFyUGFyc2Uud3JhcE9iamVjdCA9IHdyYXBPYmplY3Q7XHJcblx0XHJcblx0ICAgIC8vIFBhcnNlQ2xvdWRcclxuXHQgICAgd3JhcE9iamVjdChBbmd1bGFyUGFyc2UuQ2xvdWQsIFsncnVuJ10pO1xyXG5cdFxyXG5cdCAgICAvLyBQYXJzZUNvbmZpZ1xyXG5cdCAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5Db25maWcsIFsnZ2V0J10pO1xyXG5cdFxyXG5cdCAgICAvL0ZhY2Vib29rVXRpbHNcclxuXHQgICAgd3JhcE9iamVjdChBbmd1bGFyUGFyc2UuRmFjZWJvb2tVdGlscywgWydsaW5rJywgJ2xvZ0luJywgJ3VubGluayddKTtcclxuXHRcclxuXHQgICAgLy8gUGFyc2VGaWxlXHJcblx0ICAgIHdyYXBPYmplY3QoQW5ndWxhclBhcnNlLkZpbGUucHJvdG90eXBlLCBbJ3NhdmUnXSk7XHJcblx0XHJcblx0ICAgIC8vIFBhcnNlT2JqZWN0XHJcblx0ICAgIHdyYXBPYmplY3QoQW5ndWxhclBhcnNlLk9iamVjdCwgWydkZXN0cm95QWxsJywgJ2ZldGNoQWxsJywgJ2ZldGNoQWxsSWZOZWVkZWQnLCAnc2F2ZUFsbCddKTtcclxuXHQgICAgd3JhcE9iamVjdChBbmd1bGFyUGFyc2UuT2JqZWN0LnByb3RvdHlwZSwgWydkZXN0cm95JywgJ2ZldGNoJywgJ3NhdmUnXSk7XHJcblx0XHJcblx0ICAgIC8vIFBhcnNlUHJvbWlzZVxyXG5cdCAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5Qcm9taXNlLCBbJ19jb250aW51ZVdoaWxlJywgJ2FzJywgJ2Vycm9yJywgJ3doZW4nXSk7XHJcblx0XHJcblx0ICAgIC8vIFBhcnNlUHVzaFxyXG5cdCAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5QdXNoLCBbJ3NlbmQnXSk7XHJcblx0XHJcblx0ICAgIC8vIFBhcnNlUXVlcnlcclxuXHQgICAgd3JhcE9iamVjdChBbmd1bGFyUGFyc2UuUXVlcnkucHJvdG90eXBlLCBbJ2NvdW50JywgJ2VhY2gnLCAnZmluZCcsICdmaXJzdCcsICdnZXQnXSk7XHJcblx0XHJcblx0ICAgIC8vIFBhcnNlU2Vzc2lvblxyXG5cdCAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5TZXNzaW9uLCBbJ2N1cnJlbnQnXSk7XHJcblx0XHJcblx0ICAgIC8vIFBhcnNlVXNlclxyXG5cdCAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5Vc2VyLCBbJ2JlY29tZScsICdjdXJyZW50QXN5bmMnLCAnZW5hYmxlUmV2b2NhYmxlU2Vzc2lvbicsICdsb2dJbicsICdsb2dPdXQnLCAncmVxdWVzdFBhc3N3b3JkUmVzZXQnLCAnc2lnblVwJ10pO1xyXG5cdCAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5Vc2VyLnByb3RvdHlwZSwgWydsb2dJbicsICdzaWduVXAnXSk7XHJcblx0XHJcblx0ICAgIHJldHVybiBBbmd1bGFyUGFyc2U7XHJcblx0ICB9XHJcblx0XHJcblx0ICByZXR1cm4gcHJvdmlkZXI7XHJcblx0fVxyXG5cdFxyXG5cdG5nUGFyc2VNb2R1bGVcclxuXHQgIC5wcm92aWRlcignUGFyc2UnLCBQYXJzZVByb3ZpZGVyKTtcclxuXG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5hbmd1bGFyO1xuXG4vKioqLyB9XG4vKioqKioqLyBdKTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBhbmd1bGFyLXBhcnNlLmpzXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCBlYTBjYmE2NzUxNGM5MThlNTk2ZVxuICoqLyIsInJlcXVpcmUoJ3BhcnNlJyk7XHJcbnJlcXVpcmUoJy4vUGFyc2UuanMnKTtcclxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL21vZHVsZS5qcycpLm5hbWU7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgYW5ndWxhciA9IHJlcXVpcmUoJ2FuZ3VsYXInKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgb3ZlcnZpZXdcclxuICogQG5hbWUgbmdQYXJzZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQW5ndWxhciB3cmFwcGVyIGZvciBbUGFyc2UuY29tIEphdmFTY3JpcHQgU0RLXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS99LlxyXG4gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBhbmd1bGFyLm1vZHVsZSgnbmdQYXJzZScsIFtdKTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9tb2R1bGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5QYXJzZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwid2luZG93LlBhcnNlXCJcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgUGFyc2UgPSByZXF1aXJlKCdwYXJzZScpO1xyXG52YXIgbmdQYXJzZU1vZHVsZSA9IHJlcXVpcmUoJy4vbW9kdWxlLmpzJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIG9iamVjdFxyXG4gKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFByb3ZpZGVyIGZvciBQYXJzZSBzZXJ2aWNlLlxyXG4gKi9cclxuUGFyc2VQcm92aWRlci4kaW5qZWN0ID0gW107XHJcbmZ1bmN0aW9uIFBhcnNlUHJvdmlkZXIoKSB7XHJcbiAgLyoqXHJcbiAgICogRGVmaW5lcyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIGZvciB0aGUgYXR0cmlidXRlc1xyXG4gICAqIG9mIHRoZSBnaXZlbiBvYmplY3Qgb3IgZnVuY3Rpb24gcHJvdG90eXBlLlxyXG4gICAqIE9yIGNyZWF0ZSBhIGRlY29yYXRvciB0aGF0IGRlZmluZXMgZ2V0dGVyc1xyXG4gICAqIGFuZCBzZXR0ZXJzIGZvciB0aGUgc3ViY2xhc3MgUGFyc2UuT2JqZWN0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R8RnVuY3Rpb258U3RyaW5nfFN0cmluZ1tdfSBvYmplY3RcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ3xTdHJpbmdbXT19IGF0dHJpYnV0ZXNcclxuICAgKiBAcmV0dXJucyB7Kn1cclxuICAgKi9cclxuICBmdW5jdGlvbiBkZWZpbmVBdHRyaWJ1dGVzKG9iamVjdCwgYXR0cmlidXRlcykge1xyXG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIFBhcnNlLk9iamVjdCkge1xyXG4gICAgICBpZiAoIShhdHRyaWJ1dGVzIGluc3RhbmNlb2YgQXJyYXkpKSBhdHRyaWJ1dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICAgICAgYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBhdHRyaWJ1dGUsIHtcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoYXR0cmlidXRlKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldChhdHRyaWJ1dGUsIHZhbHVlKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09ICdmdW5jdGlvbicpIHtcclxuICAgICAgcmV0dXJuIGRlZmluZUF0dHJpYnV0ZXMob2JqZWN0LnByb3RvdHlwZSwgYXR0cmlidXRlcylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheSkgYXR0cmlidXRlcyA9IG9iamVjdDtcclxuICAgICAgZWxzZSBhdHRyaWJ1dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlZmluZUF0dHJpYnV0ZXNEZWNvcmF0b3IodGFyZ2V0KSB7XHJcbiAgICAgICAgZGVmaW5lQXR0cmlidXRlcyh0YXJnZXQsIGF0dHJpYnV0ZXMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBQYXJzZVxyXG4gIHZhciBBbmd1bGFyUGFyc2UgPSBPYmplY3QuY3JlYXRlKFBhcnNlKTtcclxuXHJcbiAgLy8gUGFyc2VPYmplY3RcclxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQW5ndWxhclBhcnNlLk9iamVjdC5wcm90b3R5cGUsICckaWQnLCB7XHJcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuJCRpZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuJCRpZCA9PT0gbnVsbCA/IHRoaXMuaWQgOiB0aGlzLiQkaWQ7XHJcbiAgICB9LFxyXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgdGhpcy4kJGlkID0gdmFsdWU7XHJcbiAgICB9LFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgZW51bWVyYWJsZTogZmFsc2VcclxuICB9KTtcclxuXHJcbiAgLy8gUGFyc2VVc2VyXHJcbiAgZGVmaW5lQXR0cmlidXRlcyhBbmd1bGFyUGFyc2UuVXNlciwgWydlbWFpbCcsICdwYXNzd29yZCcsICd1c2VybmFtZSddKTtcclxuXHJcbiAgdmFyIHByb3ZpZGVyID0gQW5ndWxhclBhcnNlO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI2RlZmluZUF0dHJpYnV0ZXNcclxuICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcbiAgICogQHN0YXRpY1xyXG4gICAqIEBzZWUge0BsaW5rIGRlZmluZUF0dHJpYnV0ZXN9XHJcbiAgICovXHJcbiAgcHJvdmlkZXIuZGVmaW5lQXR0cmlidXRlcyA9IGRlZmluZUF0dHJpYnV0ZXM7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVxyXG4gICAqXHJcbiAgICogQHJlcXVpcmVzICRxXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3IgW1BhcnNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9jbGFzc2VzL1BhcnNlLmh0bWx9LlxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLiRnZXQgPSBQYXJzZUZhY3Rvcnk7XHJcbiAgUGFyc2VGYWN0b3J5LiRpbmplY3QgPSBbJyRxJ107XHJcbiAgZnVuY3Rpb24gUGFyc2VGYWN0b3J5KCRxKSB7XHJcbiAgICAvKipcclxuICAgICAqIFdyYXBzIFByb21pc2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb21pc2VcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJzZVByb21pc2VcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHdyYXBQYXJzZVByb21pc2UocHJvbWlzZSwgcGFyc2VQcm9taXNlKSB7XHJcbiAgICAgIFsnX3JlamVjdGVkJywgJ19yZWplY3RlZENhbGxiYWNrcycsICdfcmVzb2x2ZWQnLCAnX3Jlc29sdmVkQ2FsbGJhY2tzJywgJ19yZXN1bHQnLCAncmVqZWN0JywgJ3Jlc29sdmUnXVxyXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XHJcbiAgICAgICAgICBwcm9taXNlW3Byb3BdID0gcGFyc2VQcm9taXNlW3Byb3BdO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgWydfY29udGludWVXaXRoJywgJ190aGVuUnVuQ2FsbGJhY2tzJywgJ2Fsd2F5cycsICdkb25lJywgJ2ZhaWwnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcclxuICAgICAgICBwcm9taXNlW21ldGhvZF0gPSB3cmFwKHBhcnNlUHJvbWlzZVttZXRob2RdKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBbJ3RoZW4nLCAnY2F0Y2gnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcclxuICAgICAgICB2YXIgZnVuYyA9IHByb21pc2VbbWV0aG9kXTtcclxuICAgICAgICBwcm9taXNlW21ldGhvZF0gPSBmdW5jdGlvbiB3cmFwcGVkQW5ndWxhclByb21pc2UoKSB7XHJcbiAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XHJcbiAgICAgICAgICB2YXIgcHJvbWlzZSA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICB3cmFwUGFyc2VQcm9taXNlKHByb21pc2UsIHBhcnNlUHJvbWlzZSk7XHJcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV3JhcHMgZnVuY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBGdW5jdGlvbiB0aGF0IHJldHVybnNcclxuICAgICAqIFtQYXJzZS5Qcm9taXNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9jbGFzc2VzL1BhcnNlLlByb21pc2UuaHRtbH0uXHJcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgcmV0dXJucyAkcSBwcm9taXNlcy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gd3JhcChmdW5jKSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiB3cmFwcGVkUGFyc2VQcm9taXNlKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcclxuICAgICAgICB2YXIgcGFyc2VQcm9taXNlID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICB2YXIgcHJvbWlzZSA9ICRxKHBhcnNlUHJvbWlzZS50aGVuLmJpbmQocGFyc2VQcm9taXNlKSk7XHJcbiAgICAgICAgd3JhcFBhcnNlUHJvbWlzZShwcm9taXNlLCBwYXJzZVByb21pc2UpO1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV3JhcHMgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcclxuICAgICAqIEBwYXJhbSB7Li4uU3RyaW5nfFN0cmluZ1tdPX0gbWV0aG9kc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB3cmFwT2JqZWN0KG9iamVjdCwgbWV0aG9kcykge1xyXG4gICAgICBpZiAoIShtZXRob2RzIGluc3RhbmNlb2YgQXJyYXkpKSBtZXRob2RzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICAgICAgbWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcclxuICAgICAgICBvYmplY3RbbWV0aG9kXSA9IHdyYXAob2JqZWN0W21ldGhvZF0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2Ujd3JhcE9iamVjdFxyXG4gICAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBzZWUge0BsaW5rIHdyYXBPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIEFuZ3VsYXJQYXJzZS53cmFwT2JqZWN0ID0gd3JhcE9iamVjdDtcclxuXHJcbiAgICAvLyBQYXJzZUNsb3VkXHJcbiAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5DbG91ZCwgWydydW4nXSk7XHJcblxyXG4gICAgLy8gUGFyc2VDb25maWdcclxuICAgIHdyYXBPYmplY3QoQW5ndWxhclBhcnNlLkNvbmZpZywgWydnZXQnXSk7XHJcblxyXG4gICAgLy9GYWNlYm9va1V0aWxzXHJcbiAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5GYWNlYm9va1V0aWxzLCBbJ2xpbmsnLCAnbG9nSW4nLCAndW5saW5rJ10pO1xyXG5cclxuICAgIC8vIFBhcnNlRmlsZVxyXG4gICAgd3JhcE9iamVjdChBbmd1bGFyUGFyc2UuRmlsZS5wcm90b3R5cGUsIFsnc2F2ZSddKTtcclxuXHJcbiAgICAvLyBQYXJzZU9iamVjdFxyXG4gICAgd3JhcE9iamVjdChBbmd1bGFyUGFyc2UuT2JqZWN0LCBbJ2Rlc3Ryb3lBbGwnLCAnZmV0Y2hBbGwnLCAnZmV0Y2hBbGxJZk5lZWRlZCcsICdzYXZlQWxsJ10pO1xyXG4gICAgd3JhcE9iamVjdChBbmd1bGFyUGFyc2UuT2JqZWN0LnByb3RvdHlwZSwgWydkZXN0cm95JywgJ2ZldGNoJywgJ3NhdmUnXSk7XHJcblxyXG4gICAgLy8gUGFyc2VQcm9taXNlXHJcbiAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5Qcm9taXNlLCBbJ19jb250aW51ZVdoaWxlJywgJ2FzJywgJ2Vycm9yJywgJ3doZW4nXSk7XHJcblxyXG4gICAgLy8gUGFyc2VQdXNoXHJcbiAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5QdXNoLCBbJ3NlbmQnXSk7XHJcblxyXG4gICAgLy8gUGFyc2VRdWVyeVxyXG4gICAgd3JhcE9iamVjdChBbmd1bGFyUGFyc2UuUXVlcnkucHJvdG90eXBlLCBbJ2NvdW50JywgJ2VhY2gnLCAnZmluZCcsICdmaXJzdCcsICdnZXQnXSk7XHJcblxyXG4gICAgLy8gUGFyc2VTZXNzaW9uXHJcbiAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5TZXNzaW9uLCBbJ2N1cnJlbnQnXSk7XHJcblxyXG4gICAgLy8gUGFyc2VVc2VyXHJcbiAgICB3cmFwT2JqZWN0KEFuZ3VsYXJQYXJzZS5Vc2VyLCBbJ2JlY29tZScsICdjdXJyZW50QXN5bmMnLCAnZW5hYmxlUmV2b2NhYmxlU2Vzc2lvbicsICdsb2dJbicsICdsb2dPdXQnLCAncmVxdWVzdFBhc3N3b3JkUmVzZXQnLCAnc2lnblVwJ10pO1xyXG4gICAgd3JhcE9iamVjdChBbmd1bGFyUGFyc2UuVXNlci5wcm90b3R5cGUsIFsnbG9nSW4nLCAnc2lnblVwJ10pO1xyXG5cclxuICAgIHJldHVybiBBbmd1bGFyUGFyc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcHJvdmlkZXI7XHJcbn1cclxuXHJcbm5nUGFyc2VNb2R1bGVcclxuICAucHJvdmlkZXIoJ1BhcnNlJywgUGFyc2VQcm92aWRlcik7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvUGFyc2UuanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5hbmd1bGFyO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJ3aW5kb3cuYW5ndWxhclwiXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==
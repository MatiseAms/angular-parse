!function(e){function t(n){if(r[n])return r[n].exports;var s=r[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var n=r(1);r(11),r(4),r(5),r(6),r(7),r(2),r(8),r(9),e.exports=n.name},function(e,t,r){var n=r(10);e.exports=n.module("ngParse",[])},function(e,t,r){function n(e){function t(t){return function(){var r=Array.prototype.slice.call(arguments),n=t.apply(this,r);return e(n.then.bind(n))}}function r(e,r){e[r]=t(e[r])}function n(e,t){t instanceof Array||(t=Array.prototype.slice.call(arguments,1));for(var n=0,s=t.length;s>n;n++)r(e,t[n])}this.wrap=t,this.wrapMethod=r,this.wrapMethods=n}var s=r(1);n.$inject=["$q"],e.exports=s.service("ParsePromiseWrap",n)},function(e,t){e.exports=window.Parse&&window},function(e,t,r){function n(){function e(){function e(e,t,s){var i=n(e,t,s),o=a.isObject(t)&&a.isArray(t.$attributes)?t.$attributes:[];return r(i,o),i}function r(e,r){a.isArray(r)||(r=Array.prototype.slice.call(arguments,1)),e.$attributes=[],e.defineAttributes=function(t){a.isArray(t)||(t=Array.prototype.slice.call(arguments)),t.forEach(function(t){Object.defineProperty(e.prototype,t,{get:function(){return this.get(t)},set:function(e){this.set(t,e)},configurable:!0,enumerable:!0})}),s(e.$attributes,t)},e.defineAttributes(t.$attributes),e.defineAttributes(r)}var n=o.Object.extend.bind(o.Object);return e.defineAttributes=r,e.$classes=t.$classes,o.Class=e,e}var t=this;t.$classes={},t.$attributes=[],t.register=function(e){a.isArray(e)||(e=Array.prototype.slice.call(arguments));for(var r=0,n=e.length;n>r;r++)t.$classes[e[r]]=e[r]},t.defineAttributes=function(e){a.isArray(e)||(e=Array.prototype.slice.call(arguments)),s(t.$attributes,e)},t.$get=e,e.$inject=[]}function s(){for(var e,t=a.isArray(arguments[0])&&arguments[0]||[],r=Array.prototype.slice.call(arguments,1),n=0,s=r.length;s>n;n++)if(e=r[n],a.isArray(e))for(var i,o=0,u=e.length;u>o;o++)i=e[o],-1==t.indexOf(i)&&t.push(i);return t}function i(e,t){for(var r in t.$classes)t.$classes.hasOwnProperty(r)&&"string"==typeof t.$classes[r]&&(t.$classes[r]=e.get(r))}var a=r(10),o=r(3).Parse,u=r(1);n.$inject=[],i.$inject=["$injector","ParseClass"],e.exports=u.provider("ParseClass",n).run(i)},function(e,t,r){function n(e){var t=s.Cloud;return s.$$init||e.wrapMethods(t,["run"]),t}var s=r(3).Parse,i=r(1);r(2),n.$inject=["ParsePromiseWrap"],e.exports=i.factory("ParseCloud",n)},function(e,t,r){function n(){function e(e){var t=s.FacebookUtils;return s.$$init||e.wrapMethods(t,["link","logIn","unlink"]),t}var t=this;t.FacebookUtils=s.FacebookUtils,t.initialize=t.init=function(e){s.FacebookUtils.init(e)},t.$get=e,e.$inject=["ParsePromiseWrap"]}var s=r(3).Parse,i=r(1);r(2),n.$inject=[],e.exports=i.provider("ParseFacebookUtils",n)},function(e,t,r){function n(e){var t=s.Object;return s.$$init||(Object.defineProperty(t.prototype,"$id",{get:function(){return void 0===this.$$id||null===this.$$id?this.id:this.$$id},set:function(e){this.$$id=e},configurable:!1,enumerable:!1}),e.wrapMethods(t,["destroyAll","fetchAll","fetchAllIfNeeded","saveAll"]),e.wrapMethods(t.prototype,["destroy","fetch","save"]),t.prototype.isDirty=function(){return Boolean(this.dirtyKeys().length)},t.prototype.isCreated=function(){return Boolean(this.createdAt)}),t}var s=r(3).Parse,i=r(1);r(2),n.$inject=["ParsePromiseWrap"],e.exports=i.factory("ParseObject",n)},function(e,t,r){function n(e){var t=s.Query;return s.$$init||e.wrapMethods(t.prototype,["count","each","find","first","get"]),t}var s=r(3).Parse,i=r(1);r(2),n.$inject=["ParsePromiseWrap"],e.exports=i.factory("ParseQuery",n)},function(e,t,r){function n(){function e(e,r){var n=s.User;return s.$$init||(Object.defineProperties(n.prototype,{username:{get:function(){return this.getUsername()},set:function(e){this.setUsername(e)},configurable:!0,enumerable:!0},password:{get:function(){return this.get("password")},set:function(e){this.setPassword(e)},configurable:!0,enumerable:!0},email:{get:function(){return this.getEmail()},set:function(e){this.setEmail(e)},configurable:!0,enumerable:!0},auth:{get:function(){return this.authenticated()},configurable:!0,enumerable:!1},current:{get:function(){return this.isCurrent()},configurable:!0,enumerable:!1}}),e.wrapMethods(n,["become","enableRevocableSession","logIn","logOut","requestPasswordReset","signUp"]),e.wrapMethods(n.prototype,["logIn","signUp"])),r.defineAttributes(n,t.$attributes),r.$classes.ParseUser=n,n}var t=this;t.User=s.User,t.$attributes=[],t.authenticated=function(){return Boolean(s.User.current())},t.defineAttributes=function(e){e instanceof Array||(e=Array.prototype.slice.call(arguments)),t.$attributes.push.apply(t.$attributes,e)},t.$get=e,e.$inject=["ParsePromiseWrap","ParseClass"]}var s=r(3).Parse,i=r(1);r(4),r(2),n.$inject=[],e.exports=i.provider("ParseUser",n)},function(e,t){e.exports=window.angular},function(e,t,r){function n(e,t,r){function n(){return i}var s=this;s.Parse=i,s.Class=e,s.FacebookUtils=t,s.User=r,s.initialize=function(e,t){i.initialize(e,t)},s.$get=n,n.$inject=[]}function s(e,t,r,n,s,i,a,o){s.$$init=!0}var i=r(3).Parse,a=r(1);r(4),r(5),r(6),r(7),r(2),r(8),r(9),n.$inject=["ParseClassProvider","ParseFacebookUtilsProvider","ParseUserProvider"],s.$inject=["ParseClass","ParseCloud","ParseFacebookUtils","ParseObject","Parse","ParsePromiseWrap","ParseQuery","ParseUser"],e.exports=a.provider("Parse",n).run(s)}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYW5ndWxhci1wYXJzZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNTk4ZDkyOGVmOGQ4MWMzYjY1OWMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhcnNlUHJvbWlzZVdyYXAuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwid2luZG93LlBhcnNlICYmIHdpbmRvd1wiIiwid2VicGFjazovLy8uL3NyYy9QYXJzZUNsYXNzLmpzIiwid2VicGFjazovLy8uL3NyYy9QYXJzZUNsb3VkLmpzIiwid2VicGFjazovLy8uL3NyYy9QYXJzZUZhY2Vib29rVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhcnNlT2JqZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9QYXJzZVF1ZXJ5LmpzIiwid2VicGFjazovLy8uL3NyYy9QYXJzZVVzZXIuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwid2luZG93LmFuZ3VsYXJcIiIsIndlYnBhY2s6Ly8vLi9zcmMvUGFyc2UuanMiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwibmdQYXJzZU1vZHVsZSIsIm5hbWUiLCJhbmd1bGFyIiwiUGFyc2VQcm9taXNlV3JhcFNlcnZpY2UiLCIkcSIsIndyYXAiLCJmdW5jIiwiYXJncyIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJhcmd1bWVudHMiLCJwcm9taXNlIiwiYXBwbHkiLCJ0aGlzIiwidGhlbiIsImJpbmQiLCJ3cmFwTWV0aG9kIiwib2JqZWN0IiwibWV0aG9kTmFtZSIsIndyYXBNZXRob2RzIiwibWV0aG9kTmFtZXMiLCJpIiwibGVuZ3RoIiwiJGluamVjdCIsInNlcnZpY2UiLCJ3aW5kb3ciLCJQYXJzZSIsIlBhcnNlQ2xhc3NQcm92aWRlciIsIiRnZXQiLCJQYXJzZUNsYXNzIiwiY2xhc3NOYW1lIiwicHJvdG9Qcm9wcyIsImNsYXNzUHJvcHMiLCJwYXJzZUNsYXNzIiwiZXh0ZW5kIiwiYXR0cmlidXRlcyIsImlzT2JqZWN0IiwiaXNBcnJheSIsIiRhdHRyaWJ1dGVzIiwiZGVmaW5lQXR0cmlidXRlcyIsIkNsYXNzIiwiZm9yRWFjaCIsImF0dHJpYnV0ZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwidW5pb24iLCJwcm92aWRlciIsIiRjbGFzc2VzIiwicmVnaXN0ZXIiLCJjbGFzc2VzIiwiYXJyIiwiZHN0Iiwic3JjIiwic3JjTGVuZ3RoIiwidmFsIiwiaiIsImFyckxlbmd0aCIsImluZGV4T2YiLCJwdXNoIiwiaW5pdCIsIiRpbmplY3RvciIsImhhc093blByb3BlcnR5IiwicnVuIiwiUGFyc2VDbG91ZEZhY3RvcnkiLCJQYXJzZVByb21pc2VXcmFwIiwiUGFyc2VDbG91ZCIsIkNsb3VkIiwiJCRpbml0IiwiZmFjdG9yeSIsIlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyIiwiUGFyc2VGYWNlYm9va1V0aWxzIiwiRmFjZWJvb2tVdGlscyIsImluaXRpYWxpemUiLCJvcHRpb25zIiwiUGFyc2VPYmplY3RGYWN0b3J5IiwiUGFyc2VPYmplY3QiLCJ1bmRlZmluZWQiLCIkJGlkIiwiaXNEaXJ0eSIsIkJvb2xlYW4iLCJkaXJ0eUtleXMiLCJpc0NyZWF0ZWQiLCJjcmVhdGVkQXQiLCJQYXJzZVF1ZXJ5RmFjdG9yeSIsIlBhcnNlUXVlcnkiLCJRdWVyeSIsIlBhcnNlVXNlclByb3ZpZGVyIiwiUGFyc2VVc2VyIiwiVXNlciIsImRlZmluZVByb3BlcnRpZXMiLCJ1c2VybmFtZSIsImdldFVzZXJuYW1lIiwic2V0VXNlcm5hbWUiLCJwYXNzd29yZCIsInNldFBhc3N3b3JkIiwiZW1haWwiLCJnZXRFbWFpbCIsInNldEVtYWlsIiwiYXV0aCIsImF1dGhlbnRpY2F0ZWQiLCJjdXJyZW50IiwiaXNDdXJyZW50IiwiUGFyc2VQcm92aWRlciIsImFwcGxpY2F0aW9uSWQiLCJqYXZhU2NyaXB0S2V5Il0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQ0luQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsT0FHQSxJQUFBQyxHQUFBRixFQUFBRCxJQUNBRSxXQUNBRSxHQUFBSixFQUNBSyxRQUFBLEVBVUEsT0FOQVAsR0FBQUUsR0FBQU0sS0FBQUgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUgsR0FHQUksRUFBQUUsUUFBQSxFQUdBRixFQUFBRCxRQXZCQSxHQUFBRCxLQXFDQSxPQVRBRixHQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBUCxFQUdBRixFQUFBVSxFQUFBLEdBR0FWLEVBQUEsS0RNTSxTQUFTSSxFQUFRRCxFQUFTSCxHRTVDaEMsR0FBQVcsR0FBQVgsRUFBQSxFQUNBQSxHQUFBLElBQ0FBLEVBQUEsR0FDQUEsRUFBQSxHQUNBQSxFQUFBLEdBQ0FBLEVBQUEsR0FDQUEsRUFBQSxHQUNBQSxFQUFBLEdBQ0FBLEVBQUEsR0FFQUksRUFBQUQsUUFBQVEsRUFBQUMsTUZtRE0sU0FBU1IsRUFBUUQsRUFBU0gsR0c3RGhDLEdBQUFhLEdBQUFiLEVBQUEsR0FTQUksR0FBQUQsUUFBQVUsRUFBQVQsT0FBQSxlSG9FTSxTQUFTQSxFQUFRRCxFQUFTSCxHSWpFaEMsUUFBQWMsR0FBQUMsR0FvQkEsUUFBQUMsR0FBQUMsR0FDQSxrQkFDQSxHQUFBQyxHQUFBQyxNQUFBQyxVQUFBQyxNQUFBZCxLQUFBZSxXQUNBQyxFQUFBTixFQUFBTyxNQUFBQyxLQUFBUCxFQUNBLE9BQUFILEdBQUFRLEVBQUFHLEtBQUFDLEtBQUFKLEtBaUJBLFFBQUFLLEdBQUFDLEVBQUFDLEdBQ0FELEVBQUFDLEdBQUFkLEVBQUFhLEVBQUFDLElBZ0JBLFFBQUFDLEdBQUFGLEVBQUFHLEdBQ0FBLFlBQUFiLFNBQ0FhLEVBQUFiLE1BQUFDLFVBQUFDLE1BQUFkLEtBQUFlLFVBQUEsR0FHQSxRQUFBVyxHQUFBLEVBQUFDLEVBQUFGLEVBQUFFLE9BQWdEQSxFQUFBRCxFQUFZQSxJQUM1REwsRUFBQUMsRUFBQUcsRUFBQUMsSUEvREFSLEtBQUFULE9BQ0FTLEtBQUFHLGFBQ0FILEtBQUFNLGNBZkEsR0FBQXBCLEdBQUFYLEVBQUEsRUFXQWMsR0FBQXFCLFNBQUEsTUFzRUEvQixFQUFBRCxRQUFBUSxFQUNBeUIsUUFBQSxtQkFBQXRCLElKb0ZNLFNBQVNWLEVBQVFELEdLdEt2QkMsRUFBQUQsUUFBQWtDLE9BQUFDLE9BQUFELFFMNEtNLFNBQVNqQyxFQUFRRCxFQUFTSCxHTWhLaEMsUUFBQXVDLEtBeUVBLFFBQUFDLEtBR0EsUUFBQUMsR0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBQyxHQUFBQyxFQUFBSixFQUFBQyxFQUFBQyxHQUNBRyxFQUFBbEMsRUFBQW1DLFNBQUFMLElBQUE5QixFQUFBb0MsUUFBQU4sRUFBQU8sYUFDQVAsRUFBQU8sY0FJQSxPQUZBQyxHQUFBTixFQUFBRSxHQUVBRixFQWVBLFFBQUFNLEdBQUFDLEVBQUFMLEdBQ0FsQyxFQUFBb0MsUUFBQUYsS0FDQUEsRUFBQTVCLE1BQUFDLFVBQUFDLE1BQUFkLEtBQUFlLFVBQUEsSUFHQThCLEVBQUFGLGVBRUFFLEVBQUFELGlCQUFBLFNBQUFKLEdBQ0FsQyxFQUFBb0MsUUFBQUYsS0FDQUEsRUFBQTVCLE1BQUFDLFVBQUFDLE1BQUFkLEtBQUFlLFlBR0F5QixFQUFBTSxRQUFBLFNBQUFDLEdBQ0FDLE9BQUFDLGVBQUFKLEVBQUFoQyxVQUFBa0MsR0FDQUcsSUFBQSxXQUNBLE1BQUFoQyxNQUFBZ0MsSUFBQUgsSUFFQUksSUFBQSxTQUFBQyxHQUNBbEMsS0FBQWlDLElBQUFKLEVBQUFLLElBRUFDLGNBQUEsRUFDQUMsWUFBQSxNQUlBQyxFQUFBVixFQUFBRixZQUFBSCxJQUdBSyxFQUFBRCxpQkFBQVksRUFBQWIsYUFDQUUsRUFBQUQsaUJBQUFKLEdBckRBLEdBQUFELEdBQUFSLEVBQUFpQixPQUFBVCxPQUFBbkIsS0FBQVcsRUFBQWlCLE9Bb0VBLE9BN0NBZCxHQUFBVSxtQkF5Q0FWLEVBQUF1QixTQUFBRCxFQUFBQyxTQUVBMUIsRUFBQWMsTUFBQVgsRUFFQUEsRUE3SUEsR0FBQXNCLEdBQUF0QyxJQVVBc0MsR0FBQUMsWUFVQUQsRUFBQWIsZUFhQWEsRUFBQUUsU0FBQSxTQUFBQyxHQUNBckQsRUFBQW9DLFFBQUFpQixLQUNBQSxFQUFBL0MsTUFBQUMsVUFBQUMsTUFBQWQsS0FBQWUsV0FHQSxRQUFBVyxHQUFBLEVBQUFDLEVBQUFnQyxFQUFBaEMsT0FBNENBLEVBQUFELEVBQVlBLElBQ3hEOEIsRUFBQUMsU0FBQUUsRUFBQWpDLElBQUFpQyxFQUFBakMsSUFjQThCLEVBQUFaLGlCQUFBLFNBQUFKLEdBQ0FsQyxFQUFBb0MsUUFBQUYsS0FDQUEsRUFBQTVCLE1BQUFDLFVBQUFDLE1BQUFkLEtBQUFlLFlBR0F3QyxFQUFBQyxFQUFBYixZQUFBSCxJQVlBZ0IsRUFBQXZCLE9BQ0FBLEVBQUFMLFdBOEVBLFFBQUEyQixLQUlBLE9BQUFLLEdBSEFDLEVBQUF2RCxFQUFBb0MsUUFBQTNCLFVBQUEsS0FBQUEsVUFBQSxPQUNBK0MsRUFBQWxELE1BQUFDLFVBQUFDLE1BQUFkLEtBQUFlLFVBQUEsR0FFQVcsRUFBQSxFQUFBcUMsRUFBQUQsRUFBQW5DLE9BQThDb0MsRUFBQXJDLEVBQWVBLElBRTdELEdBREFrQyxFQUFBRSxFQUFBcEMsR0FDQXBCLEVBQUFvQyxRQUFBa0IsR0FDQSxPQUFBSSxHQUFBQyxFQUFBLEVBQUFDLEVBQUFOLEVBQUFqQyxPQUFnRHVDLEVBQUFELEVBQWVBLElBQy9ERCxFQUFBSixFQUFBSyxHQUNBLElBQUFKLEVBQUFNLFFBQUFILElBQUFILEVBQUFPLEtBQUFKLEVBSUEsT0FBQUgsR0FjQSxRQUFBUSxHQUFBQyxFQUFBcEMsR0FDQSxPQUFBUixLQUFBUSxHQUFBdUIsU0FDQXZCLEVBQUF1QixTQUFBYyxlQUFBN0MsSUFDQSxnQkFBQVEsR0FBQXVCLFNBQUEvQixLQUNBUSxFQUFBdUIsU0FBQS9CLEdBQUE0QyxFQUFBcEIsSUFBQXhCLElBak1BLEdBQUFwQixHQUFBYixFQUFBLElBQ0FzQyxFQUFBdEMsRUFBQSxHQUFBc0MsTUFDQTNCLEVBQUFYLEVBQUEsRUFTQXVDLEdBQUFKLFdBaUxBeUMsRUFBQXpDLFNBQUEsMEJBU0EvQixFQUFBRCxRQUFBUSxFQUNBb0QsU0FBQSxhQUFBeEIsR0FDQXdDLElBQUFILElObUxNLFNBQVN4RSxFQUFRRCxFQUFTSCxHTzNXaEMsUUFBQWdGLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQTVDLEVBQUE2QyxLQU1BLE9BSkE3QyxHQUFBOEMsUUFDQUgsRUFBQWxELFlBQUFtRCxHQUFBLFFBR0FBLEVBdEJBLEdBQUE1QyxHQUFBdEMsRUFBQSxHQUFBc0MsTUFDQTNCLEVBQUFYLEVBQUEsRUFDQUEsR0FBQSxHQVlBZ0YsRUFBQTdDLFNBQUEsb0JBV0EvQixFQUFBRCxRQUFBUSxFQUNBMEUsUUFBQSxhQUFBTCxJUGlZTSxTQUFTNUUsRUFBUUQsRUFBU0gsR1EvWWhDLFFBQUFzRixLQTBDQSxRQUFBOUMsR0FBQXlDLEdBQ0EsR0FBQU0sR0FBQWpELEVBQUFrRCxhQU1BLE9BSkFsRCxHQUFBOEMsUUFDQUgsRUFBQWxELFlBQUF3RCxHQUFBLDBCQUdBQSxFQWhEQSxHQUFBeEIsR0FBQXRDLElBVUFzQyxHQUFBeUIsY0FBQWxELEVBQUFrRCxjQWVBekIsRUFBQTBCLFdBQUExQixFQUFBYSxLQUFBLFNBQUFjLEdBQ0FwRCxFQUFBa0QsY0FBQVosS0FBQWMsSUFhQTNCLEVBQUF2QixPQUNBQSxFQUFBTCxTQUFBLG9CQXJEQSxHQUFBRyxHQUFBdEMsRUFBQSxHQUFBc0MsTUFDQTNCLEVBQUFYLEVBQUEsRUFDQUEsR0FBQSxHQVNBc0YsRUFBQW5ELFdBc0RBL0IsRUFBQUQsUUFBQVEsRUFDQW9ELFNBQUEscUJBQUF1QixJUmthTSxTQUFTbEYsRUFBUUQsRUFBU0gsR1NyZGhDLFFBQUEyRixHQUFBVixHQUNBLEdBQUFXLEdBQUF0RCxFQUFBaUIsTUE4Q0EsT0E1Q0FqQixHQUFBOEMsU0FDQTdCLE9BQUFDLGVBQUFvQyxFQUFBeEUsVUFBQSxPQUNBcUMsSUFBQSxXQUNBLE1BQUFvQyxVQUFBcEUsS0FBQXFFLE1BQUEsT0FBQXJFLEtBQUFxRSxLQUFBckUsS0FBQXBCLEdBQUFvQixLQUFBcUUsTUFFQXBDLElBQUEsU0FBQUMsR0FDQWxDLEtBQUFxRSxLQUFBbkMsR0FFQUMsY0FBQSxFQUNBQyxZQUFBLElBR0FvQixFQUFBbEQsWUFBQTZELEdBQUEsdURBQ0FYLEVBQUFsRCxZQUFBNkQsRUFBQXhFLFdBQUEsMkJBWUF3RSxFQUFBeEUsVUFBQTJFLFFBQUEsV0FDQSxNQUFBQyxTQUFBdkUsS0FBQXdFLFlBQUEvRCxTQWFBMEQsRUFBQXhFLFVBQUE4RSxVQUFBLFdBQ0EsTUFBQUYsU0FBQXZFLEtBQUEwRSxhQUlBUCxFQTlEQSxHQUFBdEQsR0FBQXRDLEVBQUEsR0FBQXNDLE1BQ0EzQixFQUFBWCxFQUFBLEVBQ0FBLEdBQUEsR0FZQTJGLEVBQUF4RCxTQUFBLG9CQW1EQS9CLEVBQUFELFFBQUFRLEVBQ0EwRSxRQUFBLGNBQUFNLElUMmVNLFNBQVN2RixFQUFRRCxFQUFTSCxHVTloQmhDLFFBQUFvRyxHQUFBbkIsR0FDQSxHQUFBb0IsR0FBQS9ELEVBQUFnRSxLQU1BLE9BSkFoRSxHQUFBOEMsUUFDQUgsRUFBQWxELFlBQUFzRSxFQUFBakYsV0FBQSxzQ0FHQWlGLEVBdEJBLEdBQUEvRCxHQUFBdEMsRUFBQSxHQUFBc0MsTUFDQTNCLEVBQUFYLEVBQUEsRUFDQUEsR0FBQSxHQVlBb0csRUFBQWpFLFNBQUEsb0JBV0EvQixFQUFBRCxRQUFBUSxFQUNBMEUsUUFBQSxhQUFBZSxJVm9qQk0sU0FBU2hHLEVBQVFELEVBQVNILEdXamtCaEMsUUFBQXVHLEtBeURBLFFBQUEvRCxHQUFBeUMsRUFBQXhDLEdBQ0EsR0FBQStELEdBQUFsRSxFQUFBbUUsSUEwREEsT0F4REFuRSxHQUFBOEMsU0FDQTdCLE9BQUFtRCxpQkFBQUYsRUFBQXBGLFdBQ0F1RixVQUNBbEQsSUFBQSxXQUNBLE1BQUFoQyxNQUFBbUYsZUFFQWxELElBQUEsU0FBQUMsR0FDQWxDLEtBQUFvRixZQUFBbEQsSUFFQUMsY0FBQSxFQUNBQyxZQUFBLEdBRUFpRCxVQUNBckQsSUFBQSxXQUNBLE1BQUFoQyxNQUFBZ0MsSUFBQSxhQUVBQyxJQUFBLFNBQUFDLEdBQ0FsQyxLQUFBc0YsWUFBQXBELElBRUFDLGNBQUEsRUFDQUMsWUFBQSxHQUVBbUQsT0FDQXZELElBQUEsV0FDQSxNQUFBaEMsTUFBQXdGLFlBRUF2RCxJQUFBLFNBQUFDLEdBQ0FsQyxLQUFBeUYsU0FBQXZELElBRUFDLGNBQUEsRUFDQUMsWUFBQSxHQUVBc0QsTUFDQTFELElBQUEsV0FDQSxNQUFBaEMsTUFBQTJGLGlCQUVBeEQsY0FBQSxFQUNBQyxZQUFBLEdBRUF3RCxTQUNBNUQsSUFBQSxXQUNBLE1BQUFoQyxNQUFBNkYsYUFFQTFELGNBQUEsRUFDQUMsWUFBQSxLQUlBb0IsRUFBQWxELFlBQUF5RSxHQUFBLHFGQUNBdkIsRUFBQWxELFlBQUF5RSxFQUFBcEYsV0FBQSxvQkFHQXFCLEVBQUFVLGlCQUFBcUQsRUFBQXpDLEVBQUFiLGFBRUFULEVBQUF1QixTQUFBLFVBQUF3QyxFQUVBQSxFQW5IQSxHQUFBekMsR0FBQXRDLElBQ0FzQyxHQUFBMEMsS0FBQW5FLEVBQUFtRSxLQVVBMUMsRUFBQWIsZUFVQWEsRUFBQXFELGNBQUEsV0FDQSxNQUFBcEIsU0FBQTFELEVBQUFtRSxLQUFBWSxZQWFBdEQsRUFBQVosaUJBQUEsU0FBQUosR0FDQUEsWUFBQTVCLFNBQ0E0QixFQUFBNUIsTUFBQUMsVUFBQUMsTUFBQWQsS0FBQWUsWUFHQXlDLEVBQUFiLFlBQUF5QixLQUFBbkQsTUFBQXVDLEVBQUFiLFlBQUFILElBY0FnQixFQUFBdkIsT0FDQUEsRUFBQUwsU0FBQSxpQ0FyRUEsR0FBQUcsR0FBQXRDLEVBQUEsR0FBQXNDLE1BQ0EzQixFQUFBWCxFQUFBLEVBQ0FBLEdBQUEsR0FDQUEsRUFBQSxHQVNBdUcsRUFBQXBFLFdBeUhBL0IsRUFBQUQsUUFBQVEsRUFDQW9ELFNBQUEsWUFBQXdDLElYcWxCTSxTQUFTbkcsRUFBUUQsR1kzdEJ2QkMsRUFBQUQsUUFBQWtDLE9BQUF4QixTWml1Qk0sU0FBU1QsRUFBUUQsRUFBU0gsR2Ezc0JoQyxRQUFBdUgsR0FBQWhGLEVBQUErQyxFQUFBaUIsR0F3REEsUUFBQS9ELEtBQ0EsTUFBQUYsR0F4REEsR0FBQXlCLEdBQUF0QyxJQU9Bc0MsR0FBQXpCLFFBT0F5QixFQUFBWCxNQUFBYixFQU9Bd0IsRUFBQXlCLGNBQUFGLEVBT0F2QixFQUFBMEMsS0FBQUYsRUFjQXhDLEVBQUEwQixXQUFBLFNBQUErQixFQUFBQyxHQUNBbkYsRUFBQW1ELFdBQUErQixFQUFBQyxJQVVBMUQsRUFBQXZCLE9BQ0FBLEVBQUFMLFdBdUJBLFFBQUF5QyxHQUFBbkMsRUFBQXlDLEVBQUFLLEVBQUFLLEVBQUF0RCxFQUFBMkMsRUFBQW9CLEVBQUFHLEdBQ0FsRSxFQUFBOEMsUUFBQSxFQXJHQSxHQUFBOUMsR0FBQXRDLEVBQUEsR0FBQXNDLE1BQ0EzQixFQUFBWCxFQUFBLEVBQ0FBLEdBQUEsR0FDQUEsRUFBQSxHQUNBQSxFQUFBLEdBQ0FBLEVBQUEsR0FDQUEsRUFBQSxHQUNBQSxFQUFBLEdBQ0FBLEVBQUEsR0FhQXVILEVBQUFwRixTQUFBLHVFQThFQXlDLEVBQUF6QyxTQUFBLGtIQUtBL0IsRUFBQUQsUUFBQVEsRUFDQW9ELFNBQUEsUUFBQXdELEdBQ0F4QyxJQUFBSCIsImZpbGUiOiJhbmd1bGFyLXBhcnNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcclxuXHRcclxuXHRtb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGUubmFtZTtcclxuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBuZ2RvYyBvdmVydmlld1xyXG5cdCAqIEBuYW1lIG5nUGFyc2VcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIEFuZ3VsYXIgd3JhcHBlciBmb3IgW1BhcnNlLmNvbSBKYXZhU2NyaXB0IFNES117QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9ndWlkZX0uXHJcblx0ICovXHJcblx0bW9kdWxlLmV4cG9ydHMgPSBhbmd1bGFyLm1vZHVsZSgnbmdQYXJzZScsIFtdKTtcclxuXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcFxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzICRxXHJcblx0ICpcclxuXHQgKiBAZGVzY3JpcHRpb25cclxuXHQgKiBXcmFwIFtQYXJzZS5Qcm9taXNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlByb21pc2UuaHRtbH0uXHJcblx0ICovXHJcblx0UGFyc2VQcm9taXNlV3JhcFNlcnZpY2UuJGluamVjdCA9IFsnJHEnXTtcclxuXHRmdW5jdGlvbiBQYXJzZVByb21pc2VXcmFwU2VydmljZSgkcSkge1xyXG5cdCAgdGhpcy53cmFwID0gd3JhcDtcclxuXHQgIHRoaXMud3JhcE1ldGhvZCA9IHdyYXBNZXRob2Q7XHJcblx0ICB0aGlzLndyYXBNZXRob2RzID0gd3JhcE1ldGhvZHM7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBtZXRob2RcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcCN3cmFwXHJcblx0ICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVByb21pc2VXcmFwXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBXcmFwIGZ1bmN0aW9uIHRoYXQgcmV0dXJuc1xyXG5cdCAgICogW1BhcnNlLlByb21pc2Vde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUHJvbWlzZS5odG1sfVxyXG5cdCAgICogaW50byBmdW5jdGlvbiB0aGF0IHJldHVybnMgJHEgcHJvbWlzZS5cclxuXHQgICAqXHJcblx0ICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIEZ1bmN0aW9uIHRoYXQgcmV0dXJuc1xyXG5cdCAgICogW1BhcnNlLlByb21pc2Vde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUHJvbWlzZS5odG1sfS5cclxuXHQgICAqXHJcblx0ICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgcmV0dXJucyAkcSBwcm9taXNlLlxyXG5cdCAgICovXHJcblx0ICBmdW5jdGlvbiB3cmFwKGZ1bmMpIHtcclxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcblx0ICAgICAgdmFyIHByb21pc2UgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG5cdCAgICAgIHJldHVybiAkcShwcm9taXNlLnRoZW4uYmluZChwcm9taXNlKSk7XHJcblx0ICAgIH07XHJcblx0ICB9XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBtZXRob2RcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcCN3cmFwTWV0aG9kXHJcblx0ICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVByb21pc2VXcmFwXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBXcmFwIG9iamVjdCBtZXRob2QgdGhhdCByZXR1cm5zXHJcblx0ICAgKiBbUGFyc2UuUHJvbWlzZV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5Qcm9taXNlLmh0bWx9XHJcblx0ICAgKiBpbnRvIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyAkcSBwcm9taXNlLlxyXG5cdCAgICpcclxuXHQgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgT2JqZWN0LlxyXG5cdCAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgTWV0aG9kIG5hbWUuXHJcblx0ICAgKi9cclxuXHQgIGZ1bmN0aW9uIHdyYXBNZXRob2Qob2JqZWN0LCBtZXRob2ROYW1lKSB7XHJcblx0ICAgIG9iamVjdFttZXRob2ROYW1lXSA9IHdyYXAob2JqZWN0W21ldGhvZE5hbWVdKTtcclxuXHQgIH1cclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIG1ldGhvZFxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb21pc2VXcmFwI3dyYXBNZXRob2RzXHJcblx0ICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVByb21pc2VXcmFwXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBXcmFwIGVhY2ggb2JqZWN0IG1ldGhvZCB0aGF0IHJldHVybnNcclxuXHQgICAqIFtQYXJzZS5Qcm9taXNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlByb21pc2UuaHRtbH1cclxuXHQgICAqIGludG8gZnVuY3Rpb24gdGhhdCByZXR1cm5zICRxIHByb21pc2UuXHJcblx0ICAgKlxyXG5cdCAgICogQHBhcmFtIHtvYmplY3R9IG9iamVjdCBPYmplY3QuXHJcblx0ICAgKiBAcGFyYW0gey4uLnN0cmluZ3xzdHJpbmdbXX0gbWV0aG9kTmFtZXMgTWV0aG9kIG5hbWVzLlxyXG5cdCAgICovXHJcblx0ICBmdW5jdGlvbiB3cmFwTWV0aG9kcyhvYmplY3QsIG1ldGhvZE5hbWVzKSB7XHJcblx0ICAgIGlmICghKG1ldGhvZE5hbWVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcblx0ICAgICAgbWV0aG9kTmFtZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBtZXRob2ROYW1lcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cdCAgICAgIHdyYXBNZXRob2Qob2JqZWN0LCBtZXRob2ROYW1lc1tpXSk7XHJcblx0ICAgIH1cclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAuc2VydmljZSgnUGFyc2VQcm9taXNlV3JhcCcsIFBhcnNlUHJvbWlzZVdyYXBTZXJ2aWNlKTtcclxuXG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5QYXJzZSAmJiB3aW5kb3c7XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xyXG5cdHZhciBQYXJzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMykuUGFyc2U7XHJcblx0dmFyIG5nUGFyc2VNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBuZ2RvYyBvYmplY3RcclxuXHQgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlclxyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogUHJvdmlkZXIgZm9yIFBhcnNlQ2xhc3Mgc2VydmljZS5cclxuXHQgKi9cclxuXHRQYXJzZUNsYXNzUHJvdmlkZXIuJGluamVjdCA9IFtdO1xyXG5cdGZ1bmN0aW9uIFBhcnNlQ2xhc3NQcm92aWRlcigpIHtcclxuXHQgIHZhciBwcm92aWRlciA9IHRoaXM7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXIjJGNsYXNzZXNcclxuXHQgICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBDbGFzcyBuYW1lcyBmb3IgcmVnaXN0cmF0aW9uLlxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci4kY2xhc3NlcyA9IHt9O1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgcHJvcGVydHlcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyIyRhdHRyaWJ1dGVzXHJcblx0ICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlclxyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogVGhlIG5hbWVzIG9mIHRoZSBhdHRyaWJ1dGVzIHRvIGNyZWF0ZSBnZXR0ZXJzIGFuZCBzZXR0ZXJzLlxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci4kYXR0cmlidXRlcyA9IFtdO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgbWV0aG9kXHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlciNyZWdpc3RlclxyXG5cdCAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBSZWdpc3RlciBmYWN0b3JpZXMsIHdoaWNoIGNyZWF0ZSBQYXJzZSBjbGFzc2VzLlxyXG5cdCAgICogSXQgbWF5IGJlIGhlbHBmdWwgdG8gSW5pdGlhbGl6ZSBQYXJzZSBjbGFzc2VzIGJlZm9yZSB1c2luZy5cclxuXHQgICAqXHJcblx0ICAgKiBAcGFyYW0gey4uLnN0cmluZ3xzdHJpbmdbXX0gY2xhc3NlcyBDbGFzcyBuYW1lcyBmb3IgcmVnaXN0cmF0aW9uLlxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci5yZWdpc3RlciA9IGZ1bmN0aW9uIChjbGFzc2VzKSB7XHJcblx0ICAgIGlmICghYW5ndWxhci5pc0FycmF5KGNsYXNzZXMpKSB7XHJcblx0ICAgICAgY2xhc3NlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGNsYXNzZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHQgICAgICBwcm92aWRlci4kY2xhc3Nlc1tjbGFzc2VzW2ldXSA9IGNsYXNzZXNbaV07XHJcblx0ICAgIH1cclxuXHQgIH07XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBtZXRob2RcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyI2RlZmluZUF0dHJpYnV0ZXNcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlclxyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogRGVmaW5lcyBhdHRyaWJ1dGVzIGZvciBhbGwgY2xhc3Nlcy5cclxuXHQgICAqXHJcblx0ICAgKiBAcGFyYW0gey4uLnN0cmluZ3xzdHJpbmdbXX0gYXR0cmlidXRlcyBDbGFzcyBuYW1lcyBmb3IgcmVnaXN0cmF0aW9uLlxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci5kZWZpbmVBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcclxuXHQgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkoYXR0cmlidXRlcykpIHtcclxuXHQgICAgICBhdHRyaWJ1dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICB1bmlvbihwcm92aWRlci4kYXR0cmlidXRlcywgYXR0cmlidXRlcyk7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2Mgc2VydmljZVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3JcclxuXHQgICAqIFtgUGFyc2UuT2JqZWN0LmV4dGVuZGBde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuT2JqZWN0Lmh0bWwjLmV4dGVuZH0uXHJcblx0ICAgKiBDcmVhdGVzIGEgbmV3IHN1YmNsYXNzIG9mIFBhcnNlLk9iamVjdCBmb3IgdGhlIGdpdmVuIFBhcnNlIGNsYXNzIG5hbWUuXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLiRnZXQgPSAkZ2V0O1xyXG5cdCAgJGdldC4kaW5qZWN0ID0gW107XHJcblx0ICBmdW5jdGlvbiAkZ2V0KCkge1xyXG5cdCAgICB2YXIgZXh0ZW5kID0gUGFyc2UuT2JqZWN0LmV4dGVuZC5iaW5kKFBhcnNlLk9iamVjdCk7XHJcblx0XHJcblx0ICAgIGZ1bmN0aW9uIFBhcnNlQ2xhc3MoY2xhc3NOYW1lLCBwcm90b1Byb3BzLCBjbGFzc1Byb3BzKSB7XHJcblx0ICAgICAgdmFyIHBhcnNlQ2xhc3MgPSBleHRlbmQoY2xhc3NOYW1lLCBwcm90b1Byb3BzLCBjbGFzc1Byb3BzKTtcclxuXHQgICAgICB2YXIgYXR0cmlidXRlcyA9IGFuZ3VsYXIuaXNPYmplY3QocHJvdG9Qcm9wcykgJiYgYW5ndWxhci5pc0FycmF5KHByb3RvUHJvcHMuJGF0dHJpYnV0ZXMpID9cclxuXHQgICAgICAgIHByb3RvUHJvcHMuJGF0dHJpYnV0ZXMgOiBbXTtcclxuXHRcclxuXHQgICAgICBkZWZpbmVBdHRyaWJ1dGVzKHBhcnNlQ2xhc3MsIGF0dHJpYnV0ZXMpO1xyXG5cdFxyXG5cdCAgICAgIHJldHVybiBwYXJzZUNsYXNzO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIC8qKlxyXG5cdCAgICAgKiBAbmdkb2MgbWV0aG9kXHJcblx0ICAgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzcyNkZWZpbmVBdHRyaWJ1dGVzXHJcblx0ICAgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlQ2xhc3NcclxuXHQgICAgICpcclxuXHQgICAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgICAqIERlZmluZXMgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIGNsYXNzLlxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBAcGFyYW0ge29iamVjdH0gQ2xhc3MgU3ViY2xhc3Mgb2YgUGFyc2UuT2JqZWN0LlxyXG5cdCAgICAgKiBAcGFyYW0gey4uLnN0cmluZ3xzdHJpbmdbXX0gYXR0cmlidXRlcyBBdHRyaWJ1dGUgbmFtZXMuXHJcblx0ICAgICAqL1xyXG5cdCAgICBQYXJzZUNsYXNzLmRlZmluZUF0dHJpYnV0ZXMgPSBkZWZpbmVBdHRyaWJ1dGVzO1xyXG5cdCAgICBmdW5jdGlvbiBkZWZpbmVBdHRyaWJ1dGVzKENsYXNzLCBhdHRyaWJ1dGVzKSB7XHJcblx0ICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkoYXR0cmlidXRlcykpIHtcclxuXHQgICAgICAgIGF0dHJpYnV0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cdCAgICAgIH1cclxuXHRcclxuXHQgICAgICBDbGFzcy4kYXR0cmlidXRlcyA9IFtdO1xyXG5cdFxyXG5cdCAgICAgIENsYXNzLmRlZmluZUF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xyXG5cdCAgICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkoYXR0cmlidXRlcykpIHtcclxuXHQgICAgICAgICAgYXR0cmlidXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcblx0ICAgICAgICB9XHJcblx0XHJcblx0ICAgICAgICBhdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xyXG5cdCAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2xhc3MucHJvdG90eXBlLCBhdHRyaWJ1dGUsIHtcclxuXHQgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChhdHRyaWJ1dGUpO1xyXG5cdCAgICAgICAgICAgIH0sXHJcblx0ICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHQgICAgICAgICAgICAgIHRoaXMuc2V0KGF0dHJpYnV0ZSwgdmFsdWUpO1xyXG5cdCAgICAgICAgICAgIH0sXHJcblx0ICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdCAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcclxuXHQgICAgICAgICAgfSk7XHJcblx0ICAgICAgICB9KTtcclxuXHRcclxuXHQgICAgICAgIHVuaW9uKENsYXNzLiRhdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzKTtcclxuXHQgICAgICB9O1xyXG5cdFxyXG5cdCAgICAgIENsYXNzLmRlZmluZUF0dHJpYnV0ZXMocHJvdmlkZXIuJGF0dHJpYnV0ZXMpO1xyXG5cdCAgICAgIENsYXNzLmRlZmluZUF0dHJpYnV0ZXMoYXR0cmlidXRlcyk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdCAgICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlciMkY2xhc3Nlc1xyXG5cdCAgICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlQ2xhc3NcclxuXHQgICAgICpcclxuXHQgICAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgICAqIFJlZ2lzdGVyZWQgY2xhc3Nlcy5cclxuXHQgICAgICovXHJcblx0ICAgIFBhcnNlQ2xhc3MuJGNsYXNzZXMgPSBwcm92aWRlci4kY2xhc3NlcztcclxuXHRcclxuXHQgICAgUGFyc2UuQ2xhc3MgPSBQYXJzZUNsYXNzO1xyXG5cdFxyXG5cdCAgICByZXR1cm4gUGFyc2VDbGFzcztcclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlcixcclxuXHQgKiBmcm9tIGFsbCBvZiB0aGUgcHJvdmlkZWQgYXJyYXlzLlxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIHVuaW9uKCkge1xyXG5cdCAgdmFyIGRzdCA9IGFuZ3VsYXIuaXNBcnJheShhcmd1bWVudHNbMF0pICYmIGFyZ3VtZW50c1swXSB8fCBbXTtcclxuXHQgIHZhciBzcmMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cdFxyXG5cdCAgZm9yICh2YXIgaSA9IDAsIHNyY0xlbmd0aCA9IHNyYy5sZW5ndGgsIGFycjsgaSA8IHNyY0xlbmd0aDsgaSsrKSB7XHJcblx0ICAgIGFyciA9IHNyY1tpXTtcclxuXHQgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkoYXJyKSkgY29udGludWU7XHJcblx0ICAgIGZvciAodmFyIGogPSAwLCBhcnJMZW5ndGggPSBhcnIubGVuZ3RoLCB2YWw7IGogPCBhcnJMZW5ndGg7IGorKykge1xyXG5cdCAgICAgIHZhbCA9IGFycltqXTtcclxuXHQgICAgICBpZiAoZHN0LmluZGV4T2YodmFsKSA9PSAtMSkgZHN0LnB1c2godmFsKTtcclxuXHQgICAgfVxyXG5cdCAgfVxyXG5cdFxyXG5cdCAgcmV0dXJuIGRzdDtcclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0ICogQG5hbWUgaW5pdFxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzICRpbmplY3RvclxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlQ2xhc3NcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIEluaXRpYWxpemVzIHJlZ2lzdGVyZWQgY2xhc3Nlcy5cclxuXHQgKi9cclxuXHRpbml0LiRpbmplY3QgPSBbJyRpbmplY3RvcicsICdQYXJzZUNsYXNzJ107XHJcblx0ZnVuY3Rpb24gaW5pdCgkaW5qZWN0b3IsIFBhcnNlQ2xhc3MpIHtcclxuXHQgIGZvciAodmFyIGkgaW4gUGFyc2VDbGFzcy4kY2xhc3Nlcykge1xyXG5cdCAgICBpZiAoIVBhcnNlQ2xhc3MuJGNsYXNzZXMuaGFzT3duUHJvcGVydHkoaSkpIGNvbnRpbnVlO1xyXG5cdCAgICBpZiAodHlwZW9mIFBhcnNlQ2xhc3MuJGNsYXNzZXNbaV0gIT0gJ3N0cmluZycpIGNvbnRpbnVlO1xyXG5cdCAgICBQYXJzZUNsYXNzLiRjbGFzc2VzW2ldID0gJGluamVjdG9yLmdldChpKTtcclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAucHJvdmlkZXIoJ1BhcnNlQ2xhc3MnLCBQYXJzZUNsYXNzUHJvdmlkZXIpXHJcblx0ICAucnVuKGluaXQpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBQYXJzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMykuUGFyc2U7XHJcblx0dmFyIG5nUGFyc2VNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbG91ZFxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcFxyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcblx0ICogW1BhcnNlLkNsb3VkXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLkNsb3VkLmh0bWx9LlxyXG5cdCAqL1xyXG5cdFBhcnNlQ2xvdWRGYWN0b3J5LiRpbmplY3QgPSBbJ1BhcnNlUHJvbWlzZVdyYXAnXTtcclxuXHRmdW5jdGlvbiBQYXJzZUNsb3VkRmFjdG9yeShQYXJzZVByb21pc2VXcmFwKSB7XHJcblx0ICB2YXIgUGFyc2VDbG91ZCA9IFBhcnNlLkNsb3VkO1xyXG5cdFxyXG5cdCAgaWYgKCFQYXJzZS4kJGluaXQpIHtcclxuXHQgICAgUGFyc2VQcm9taXNlV3JhcC53cmFwTWV0aG9kcyhQYXJzZUNsb3VkLCBbJ3J1biddKTtcclxuXHQgIH1cclxuXHRcclxuXHQgIHJldHVybiBQYXJzZUNsb3VkO1xyXG5cdH1cclxuXHRcclxuXHRtb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuXHQgIC5mYWN0b3J5KCdQYXJzZUNsb3VkJywgUGFyc2VDbG91ZEZhY3RvcnkpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBQYXJzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMykuUGFyc2U7XHJcblx0dmFyIG5nUGFyc2VNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXJcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIFByb3ZpZGVyIGZvciBQYXJzZUZhY2Vib29rVXRpbHMgc2VydmljZS5cclxuXHQgKi9cclxuXHRQYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlci4kaW5qZWN0ID0gW107XHJcblx0ZnVuY3Rpb24gUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIoKSB7XHJcblx0ICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgcHJvcGVydHlcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIjRmFjZWJvb2tVdGlsc1xyXG5cdCAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlclxyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogU2VlIFtGYWNlYm9va1V0aWxzXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLkZhY2Vib29rVXRpbHMuaHRtbH1cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuRmFjZWJvb2tVdGlscyA9IFBhcnNlLkZhY2Vib29rVXRpbHM7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBtZXRob2RcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIjaW5pdGlhbGl6ZVxyXG5cdCAgICogQGFsaWFzIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIjaW5pdFxyXG5cdCAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXJcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIEluaXRpYWxpemVzIFBhcnNlIEZhY2Vib29rIGludGVncmF0aW9uLlxyXG5cdCAgICogU2VlIFtgUGFyc2UuRmFjZWJvb2tVdGlscy5pbml0YF17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5GYWNlYm9va1V0aWxzLmh0bWwjLmluaXR9LlxyXG5cdCAgICpcclxuXHQgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIEZhY2Vib29rIG9wdGlvbnMgYXJndW1lbnQuXHJcblx0ICAgKiBTZWUgW2BQYXJzZS5GYWNlYm9va1V0aWxzLmluaXRgXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLkZhY2Vib29rVXRpbHMuaHRtbCMuaW5pdH0uXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLmluaXRpYWxpemUgPSBwcm92aWRlci5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHQgICAgUGFyc2UuRmFjZWJvb2tVdGlscy5pbml0KG9wdGlvbnMpO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIG9iamVjdFxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNcclxuXHQgICAqXHJcblx0ICAgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVByb21pc2VXcmFwXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3JcclxuXHQgICAqIFtQYXJzZS5GYWNlYm9va1V0aWxzXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLkZhY2Vib29rVXRpbHMuaHRtbH0uXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLiRnZXQgPSAkZ2V0O1xyXG5cdCAgJGdldC4kaW5qZWN0ID0gWydQYXJzZVByb21pc2VXcmFwJ107XHJcblx0ICBmdW5jdGlvbiAkZ2V0KFBhcnNlUHJvbWlzZVdyYXApIHtcclxuXHQgICAgdmFyIFBhcnNlRmFjZWJvb2tVdGlscyA9IFBhcnNlLkZhY2Vib29rVXRpbHM7XHJcblx0XHJcblx0ICAgIGlmICghUGFyc2UuJCRpbml0KSB7XHJcblx0ICAgICAgUGFyc2VQcm9taXNlV3JhcC53cmFwTWV0aG9kcyhQYXJzZUZhY2Vib29rVXRpbHMsIFsnbGluaycsICdsb2dJbicsICd1bmxpbmsnXSk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgcmV0dXJuIFBhcnNlRmFjZWJvb2tVdGlscztcclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAucHJvdmlkZXIoJ1BhcnNlRmFjZWJvb2tVdGlscycsIFBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyKTtcclxuXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgUGFyc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLlBhcnNlO1xyXG5cdHZhciBuZ1BhcnNlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBuZ2RvYyBzZXJ2aWNlXHJcblx0ICogQG5hbWUgbmdQYXJzZS5QYXJzZU9iamVjdFxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcFxyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcblx0ICogW1BhcnNlLk9iamVjdF17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5PYmplY3QuaHRtbH0uXHJcblx0ICovXHJcblx0UGFyc2VPYmplY3RGYWN0b3J5LiRpbmplY3QgPSBbJ1BhcnNlUHJvbWlzZVdyYXAnXTtcclxuXHRmdW5jdGlvbiBQYXJzZU9iamVjdEZhY3RvcnkoUGFyc2VQcm9taXNlV3JhcCkge1xyXG5cdCAgdmFyIFBhcnNlT2JqZWN0ID0gUGFyc2UuT2JqZWN0O1xyXG5cdFxyXG5cdCAgaWYgKCFQYXJzZS4kJGluaXQpIHtcclxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcnNlT2JqZWN0LnByb3RvdHlwZSwgJyRpZCcsIHtcclxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHJldHVybiB0aGlzLiQkaWQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLiQkaWQgPT09IG51bGwgPyB0aGlzLmlkIDogdGhpcy4kJGlkO1xyXG5cdCAgICAgIH0sXHJcblx0ICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHQgICAgICAgIHRoaXMuJCRpZCA9IHZhbHVlO1xyXG5cdCAgICAgIH0sXHJcblx0ICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcclxuXHQgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG5cdCAgICB9KTtcclxuXHRcclxuXHQgICAgUGFyc2VQcm9taXNlV3JhcC53cmFwTWV0aG9kcyhQYXJzZU9iamVjdCwgWydkZXN0cm95QWxsJywgJ2ZldGNoQWxsJywgJ2ZldGNoQWxsSWZOZWVkZWQnLCAnc2F2ZUFsbCddKTtcclxuXHQgICAgUGFyc2VQcm9taXNlV3JhcC53cmFwTWV0aG9kcyhQYXJzZU9iamVjdC5wcm90b3R5cGUsIFsnZGVzdHJveScsICdmZXRjaCcsICdzYXZlJ10pO1xyXG5cdFxyXG5cdCAgICAvKipcclxuXHQgICAgICogQG5nZG9jIG1ldGhvZFxyXG5cdCAgICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlT2JqZWN0LnByb3RvdHlwZSNpc0RpcnR5XHJcblx0ICAgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlT2JqZWN0LnByb3RvdHlwZVxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAgICogQ2hlY2sgd2hldGhlciB0aGUgb2JqZWN0IGlzIGRpcnR5LlxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyBkaXJ0eS5cclxuXHQgICAgICovXHJcblx0ICAgIFBhcnNlT2JqZWN0LnByb3RvdHlwZS5pc0RpcnR5ID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuZGlydHlLZXlzKCkubGVuZ3RoKTtcclxuXHQgICAgfTtcclxuXHRcclxuXHQgICAgLyoqXHJcblx0ICAgICAqIEBuZ2RvYyBtZXRob2RcclxuXHQgICAgICogQG5hbWUgbmdQYXJzZS5QYXJzZU9iamVjdC5wcm90b3R5cGUjaXNDcmVhdGVkXHJcblx0ICAgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlT2JqZWN0LnByb3RvdHlwZVxyXG5cdCAgICAgKlxyXG5cdCAgICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAgICogQ2hlY2sgd2hldGhlciB0aGUgb2JqZWN0IGlzIGNyZWF0ZWQuXHJcblx0ICAgICAqXHJcblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGNyZWF0ZWQuXHJcblx0ICAgICAqL1xyXG5cdCAgICBQYXJzZU9iamVjdC5wcm90b3R5cGUuaXNDcmVhdGVkID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuY3JlYXRlZEF0KTtcclxuXHQgICAgfTtcclxuXHQgIH1cclxuXHRcclxuXHQgIHJldHVybiBQYXJzZU9iamVjdDtcclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAuZmFjdG9yeSgnUGFyc2VPYmplY3QnLCBQYXJzZU9iamVjdEZhY3RvcnkpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBQYXJzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMykuUGFyc2U7XHJcblx0dmFyIG5nUGFyc2VNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIHNlcnZpY2VcclxuXHQgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUXVlcnlcclxuXHQgKlxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlUHJvbWlzZVdyYXBcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIFRoaXMgaXMgYSB3cmFwcGVyIGZvclxyXG5cdCAqIFtQYXJzZS5QYXJzZVF1ZXJ5XXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlF1ZXJ5Lmh0bWx9LlxyXG5cdCAqL1xyXG5cdFBhcnNlUXVlcnlGYWN0b3J5LiRpbmplY3QgPSBbJ1BhcnNlUHJvbWlzZVdyYXAnXTtcclxuXHRmdW5jdGlvbiBQYXJzZVF1ZXJ5RmFjdG9yeShQYXJzZVByb21pc2VXcmFwKSB7XHJcblx0ICB2YXIgUGFyc2VRdWVyeSA9IFBhcnNlLlF1ZXJ5O1xyXG5cdFxyXG5cdCAgaWYgKCFQYXJzZS4kJGluaXQpIHtcclxuXHQgICAgUGFyc2VQcm9taXNlV3JhcC53cmFwTWV0aG9kcyhQYXJzZVF1ZXJ5LnByb3RvdHlwZSwgWydjb3VudCcsICdlYWNoJywgJ2ZpbmQnLCAnZmlyc3QnLCAnZ2V0J10pO1xyXG5cdCAgfVxyXG5cdFxyXG5cdCAgcmV0dXJuIFBhcnNlUXVlcnk7XHJcblx0fVxyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG5cdCAgLmZhY3RvcnkoJ1BhcnNlUXVlcnknLCBQYXJzZVF1ZXJ5RmFjdG9yeSk7XHJcblxuXG4vKioqLyB9LFxuLyogOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKS5QYXJzZTtcclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBuZ2RvYyBvYmplY3RcclxuXHQgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyXHJcblx0ICpcclxuXHQgKiBAZGVzY3JpcHRpb25cclxuXHQgKiBQcm92aWRlciBmb3IgUGFyc2VVc2VyIHNlcnZpY2UuXHJcblx0ICovXHJcblx0UGFyc2VVc2VyUHJvdmlkZXIuJGluamVjdCA9IFtdO1xyXG5cdGZ1bmN0aW9uIFBhcnNlVXNlclByb3ZpZGVyKCkge1xyXG5cdCAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuXHQgIHByb3ZpZGVyLlVzZXIgPSBQYXJzZS5Vc2VyO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgcHJvcGVydHlcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXIjJGF0dHJpYnV0ZXNcclxuXHQgICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXJcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIFRoZSBuYW1lcyBvZiB0aGUgYXR0cmlidXRlcyB0byBjcmVhdGUgZ2V0dGVycyBhbmQgc2V0dGVycy5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuJGF0dHJpYnV0ZXMgPSBbXTtcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIG1ldGhvZFxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVVzZXJQcm92aWRlciNyZWdpc3RlclxyXG5cdCAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXJcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIENoZWNrcyB3aGV0aGVyIHRoaXMgdXNlciBpcyB0aGUgY3VycmVudCB1c2VyIGFuZCBoYXMgYmVlbiBhdXRoZW50aWNhdGVkLlxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci5hdXRoZW50aWNhdGVkID0gZnVuY3Rpb24gKCkge1xyXG5cdCAgICByZXR1cm4gQm9vbGVhbihQYXJzZS5Vc2VyLmN1cnJlbnQoKSk7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgbWV0aG9kXHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyI2RlZmluZUF0dHJpYnV0ZXNcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBEZWZpbmVzIGF0dHJpYnV0ZXMgZm9yIFBhcnNlLlVzZXIuXHJcblx0ICAgKlxyXG5cdCAgICogQHBhcmFtIHsuLi5zdHJpbmd8c3RyaW5nW119IGF0dHJpYnV0ZXMgQ2xhc3MgbmFtZXMgZm9yIHJlZ2lzdHJhdGlvbi5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuZGVmaW5lQXR0cmlidXRlcyA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVzKSB7XHJcblx0ICAgIGlmICghKGF0dHJpYnV0ZXMgaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuXHQgICAgICBhdHRyaWJ1dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuXHQgICAgfVxyXG5cdFxyXG5cdCAgICBwcm92aWRlci4kYXR0cmlidXRlcy5wdXNoLmFwcGx5KHByb3ZpZGVyLiRhdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzKTtcclxuXHQgIH07XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlVXNlclxyXG5cdCAgICpcclxuXHQgICAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlUHJvbWlzZVdyYXBcclxuXHQgICAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlQ2xhc3NcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIFRoaXMgaXMgYSB3cmFwcGVyIGZvclxyXG5cdCAgICogW1BhcnNlLlBhcnNlVXNlcl17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5Vc2VyLmh0bWx9LlxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci4kZ2V0ID0gJGdldDtcclxuXHQgICRnZXQuJGluamVjdCA9IFsnUGFyc2VQcm9taXNlV3JhcCcsICdQYXJzZUNsYXNzJ107XHJcblx0ICBmdW5jdGlvbiAkZ2V0KFBhcnNlUHJvbWlzZVdyYXAsIFBhcnNlQ2xhc3MpIHtcclxuXHQgICAgdmFyIFBhcnNlVXNlciA9IFBhcnNlLlVzZXI7XHJcblx0XHJcblx0ICAgIGlmICghUGFyc2UuJCRpbml0KSB7XHJcblx0ICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUGFyc2VVc2VyLnByb3RvdHlwZSwge1xyXG5cdCAgICAgICAgdXNlcm5hbWU6IHtcclxuXHQgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXNlcm5hbWUoKTtcclxuXHQgICAgICAgICAgfSxcclxuXHQgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHQgICAgICAgICAgICB0aGlzLnNldFVzZXJuYW1lKHZhbHVlKTtcclxuXHQgICAgICAgICAgfSxcclxuXHQgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdCAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgcGFzc3dvcmQ6IHtcclxuXHQgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdwYXNzd29yZCcpO1xyXG5cdCAgICAgICAgICB9LFxyXG5cdCAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuc2V0UGFzc3dvcmQodmFsdWUpO1xyXG5cdCAgICAgICAgICB9LFxyXG5cdCAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcblx0ICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBlbWFpbDoge1xyXG5cdCAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRFbWFpbCgpO1xyXG5cdCAgICAgICAgICB9LFxyXG5cdCAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdCAgICAgICAgICAgIHRoaXMuc2V0RW1haWwodmFsdWUpO1xyXG5cdCAgICAgICAgICB9LFxyXG5cdCAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcblx0ICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBhdXRoOiB7XHJcblx0ICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGhlbnRpY2F0ZWQoKTtcclxuXHQgICAgICAgICAgfSxcclxuXHQgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdCAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIGN1cnJlbnQ6IHtcclxuXHQgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNDdXJyZW50KCk7XHJcblx0ICAgICAgICAgIH0sXHJcblx0ICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHQgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9KTtcclxuXHRcclxuXHQgICAgICBQYXJzZVByb21pc2VXcmFwLndyYXBNZXRob2RzKFBhcnNlVXNlciwgWydiZWNvbWUnLCAnZW5hYmxlUmV2b2NhYmxlU2Vzc2lvbicsICdsb2dJbicsICdsb2dPdXQnLCAncmVxdWVzdFBhc3N3b3JkUmVzZXQnLCAnc2lnblVwJ10pO1xyXG5cdCAgICAgIFBhcnNlUHJvbWlzZVdyYXAud3JhcE1ldGhvZHMoUGFyc2VVc2VyLnByb3RvdHlwZSwgWydsb2dJbicsICdzaWduVXAnXSk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgUGFyc2VDbGFzcy5kZWZpbmVBdHRyaWJ1dGVzKFBhcnNlVXNlciwgcHJvdmlkZXIuJGF0dHJpYnV0ZXMpO1xyXG5cdFxyXG5cdCAgICBQYXJzZUNsYXNzLiRjbGFzc2VzWydQYXJzZVVzZXInXSA9IFBhcnNlVXNlcjtcclxuXHRcclxuXHQgICAgcmV0dXJuIFBhcnNlVXNlcjtcclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAucHJvdmlkZXIoJ1BhcnNlVXNlcicsIFBhcnNlVXNlclByb3ZpZGVyKTtcclxuXG5cbi8qKiovIH0sXG4vKiAxMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuYW5ndWxhcjtcblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgUGFyc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLlBhcnNlO1xyXG5cdHZhciBuZ1BhcnNlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBuZ2RvYyBvYmplY3RcclxuXHQgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuXHQgKlxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlclxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXJcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIFByb3ZpZGVyIGZvciBQYXJzZSBzZXJ2aWNlLlxyXG5cdCAqL1xyXG5cdFBhcnNlUHJvdmlkZXIuJGluamVjdCA9IFsnUGFyc2VDbGFzc1Byb3ZpZGVyJywgJ1BhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyJywgJ1BhcnNlVXNlclByb3ZpZGVyJ107XHJcblx0ZnVuY3Rpb24gUGFyc2VQcm92aWRlcihQYXJzZUNsYXNzUHJvdmlkZXIsIFBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyLCBQYXJzZVVzZXJQcm92aWRlcikge1xyXG5cdCAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIHByb3BlcnR5XHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUHJvdmlkZXIjUGFyc2VcclxuXHQgICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VQcm92aWRlclxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci5QYXJzZSA9IFBhcnNlO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgcHJvcGVydHlcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlciNDbGFzc1xyXG5cdCAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLkNsYXNzID0gUGFyc2VDbGFzc1Byb3ZpZGVyO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgcHJvcGVydHlcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlciNGYWNlYm9va1V0aWxzXHJcblx0ICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuRmFjZWJvb2tVdGlscyA9IFBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgcHJvcGVydHlcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlciNVc2VyXHJcblx0ICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuVXNlciA9IFBhcnNlVXNlclByb3ZpZGVyO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgbWV0aG9kXHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUHJvdmlkZXIjaW5pdGlhbGl6ZVxyXG5cdCAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VQcm92aWRlclxyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogSW5pdGlhbGl6ZXMgUGFyc2UuXHJcblx0ICAgKiBTZWUgW1BhcnNlLmluaXRpYWxpemVde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuaHRtbCMuaW5pdGlhbGl6ZX0uXHJcblx0ICAgKlxyXG5cdCAgICogQHBhcmFtIHtzdHJpbmd9IGFwcGxpY2F0aW9uSWQgWW91ciBQYXJzZSBBcHBsaWNhdGlvbiBJRC5cclxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBqYXZhU2NyaXB0S2V5IFlvdXIgUGFyc2UgSmF2YVNjcmlwdCBLZXkuXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoYXBwbGljYXRpb25JZCwgamF2YVNjcmlwdEtleSkge1xyXG5cdCAgICBQYXJzZS5pbml0aWFsaXplKGFwcGxpY2F0aW9uSWQsIGphdmFTY3JpcHRLZXkpO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIG9iamVjdFxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVxyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yIFtQYXJzZV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5odG1sfS5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuJGdldCA9ICRnZXQ7XHJcblx0ICAkZ2V0LiRpbmplY3QgPSBbXTtcclxuXHQgIGZ1bmN0aW9uICRnZXQoKSB7XHJcblx0ICAgIHJldHVybiBQYXJzZTtcclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0ICogQG5hbWUgaW5pdFxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VDbGFzc1xyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlQ2xvdWRcclxuXHQgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNcclxuXHQgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZU9iamVjdFxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcFxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlUXVlcnlcclxuXHQgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVVzZXJcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIEluaXRpYWxpemVzIG5nUGFyc2Ugc2VydmljZXMuXHJcblx0ICovXHJcblx0aW5pdC4kaW5qZWN0ID0gWydQYXJzZUNsYXNzJywgJ1BhcnNlQ2xvdWQnLCAnUGFyc2VGYWNlYm9va1V0aWxzJywgJ1BhcnNlT2JqZWN0JywgJ1BhcnNlJywgJ1BhcnNlUHJvbWlzZVdyYXAnLCAnUGFyc2VRdWVyeScsICdQYXJzZVVzZXInXTtcclxuXHRmdW5jdGlvbiBpbml0KFBhcnNlQ2xhc3MsIFBhcnNlQ2xvdWQsIFBhcnNlRmFjZWJvb2tVdGlscywgUGFyc2VPYmplY3QsIFBhcnNlLCBQYXJzZVByb21pc2VXcmFwLCBQYXJzZVF1ZXJ5LCBQYXJzZVVzZXIpIHtcclxuXHQgIFBhcnNlLiQkaW5pdCA9IHRydWU7XHJcblx0fVxyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG5cdCAgLnByb3ZpZGVyKCdQYXJzZScsIFBhcnNlUHJvdmlkZXIpXHJcblx0ICAucnVuKGluaXQpO1xyXG5cblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogYW5ndWxhci1wYXJzZS5qc1xuICoqLyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgNTk4ZDkyOGVmOGQ4MWMzYjY1OWNcbiAqKi8iLCJ2YXIgbmdQYXJzZU1vZHVsZSA9IHJlcXVpcmUoJy4vbW9kdWxlLmpzJyk7XHJcbnJlcXVpcmUoJy4vUGFyc2UuanMnKTtcclxucmVxdWlyZSgnLi9QYXJzZUNsYXNzLmpzJyk7XHJcbnJlcXVpcmUoJy4vUGFyc2VDbG91ZC5qcycpO1xyXG5yZXF1aXJlKCcuL1BhcnNlRmFjZWJvb2tVdGlscycpO1xyXG5yZXF1aXJlKCcuL1BhcnNlT2JqZWN0LmpzJyk7XHJcbnJlcXVpcmUoJy4vUGFyc2VQcm9taXNlV3JhcC5qcycpO1xyXG5yZXF1aXJlKCcuL1BhcnNlUXVlcnkuanMnKTtcclxucmVxdWlyZSgnLi9QYXJzZVVzZXIuanMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZS5uYW1lO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGFuZ3VsYXIgPSByZXF1aXJlKCdhbmd1bGFyJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIG92ZXJ2aWV3XHJcbiAqIEBuYW1lIG5nUGFyc2VcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEFuZ3VsYXIgd3JhcHBlciBmb3IgW1BhcnNlLmNvbSBKYXZhU2NyaXB0IFNES117QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9ndWlkZX0uXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IGFuZ3VsYXIubW9kdWxlKCduZ1BhcnNlJywgW10pO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL21vZHVsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBuZ1BhcnNlTW9kdWxlID0gcmVxdWlyZSgnLi9tb2R1bGUuanMnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgb2JqZWN0XHJcbiAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcFxyXG4gKlxyXG4gKiBAcmVxdWlyZXMgJHFcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFdyYXAgW1BhcnNlLlByb21pc2Vde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUHJvbWlzZS5odG1sfS5cclxuICovXHJcblBhcnNlUHJvbWlzZVdyYXBTZXJ2aWNlLiRpbmplY3QgPSBbJyRxJ107XHJcbmZ1bmN0aW9uIFBhcnNlUHJvbWlzZVdyYXBTZXJ2aWNlKCRxKSB7XHJcbiAgdGhpcy53cmFwID0gd3JhcDtcclxuICB0aGlzLndyYXBNZXRob2QgPSB3cmFwTWV0aG9kO1xyXG4gIHRoaXMud3JhcE1ldGhvZHMgPSB3cmFwTWV0aG9kcztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcCN3cmFwXHJcbiAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogV3JhcCBmdW5jdGlvbiB0aGF0IHJldHVybnNcclxuICAgKiBbUGFyc2UuUHJvbWlzZV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5Qcm9taXNlLmh0bWx9XHJcbiAgICogaW50byBmdW5jdGlvbiB0aGF0IHJldHVybnMgJHEgcHJvbWlzZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgRnVuY3Rpb24gdGhhdCByZXR1cm5zXHJcbiAgICogW1BhcnNlLlByb21pc2Vde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUHJvbWlzZS5odG1sfS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtmdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCByZXR1cm5zICRxIHByb21pc2UuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gd3JhcChmdW5jKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcbiAgICAgIHZhciBwcm9taXNlID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgcmV0dXJuICRxKHByb21pc2UudGhlbi5iaW5kKHByb21pc2UpKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb21pc2VXcmFwI3dyYXBNZXRob2RcclxuICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVByb21pc2VXcmFwXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBXcmFwIG9iamVjdCBtZXRob2QgdGhhdCByZXR1cm5zXHJcbiAgICogW1BhcnNlLlByb21pc2Vde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUHJvbWlzZS5odG1sfVxyXG4gICAqIGludG8gZnVuY3Rpb24gdGhhdCByZXR1cm5zICRxIHByb21pc2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IE9iamVjdC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBNZXRob2QgbmFtZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiB3cmFwTWV0aG9kKG9iamVjdCwgbWV0aG9kTmFtZSkge1xyXG4gICAgb2JqZWN0W21ldGhvZE5hbWVdID0gd3JhcChvYmplY3RbbWV0aG9kTmFtZV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcCN3cmFwTWV0aG9kc1xyXG4gICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlUHJvbWlzZVdyYXBcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFdyYXAgZWFjaCBvYmplY3QgbWV0aG9kIHRoYXQgcmV0dXJuc1xyXG4gICAqIFtQYXJzZS5Qcm9taXNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlByb21pc2UuaHRtbH1cclxuICAgKiBpbnRvIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyAkcSBwcm9taXNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IG9iamVjdCBPYmplY3QuXHJcbiAgICogQHBhcmFtIHsuLi5zdHJpbmd8c3RyaW5nW119IG1ldGhvZE5hbWVzIE1ldGhvZCBuYW1lcy5cclxuICAgKi9cclxuICBmdW5jdGlvbiB3cmFwTWV0aG9kcyhvYmplY3QsIG1ldGhvZE5hbWVzKSB7XHJcbiAgICBpZiAoIShtZXRob2ROYW1lcyBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICBtZXRob2ROYW1lcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG1ldGhvZE5hbWVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHdyYXBNZXRob2Qob2JqZWN0LCBtZXRob2ROYW1lc1tpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuICAuc2VydmljZSgnUGFyc2VQcm9taXNlV3JhcCcsIFBhcnNlUHJvbWlzZVdyYXBTZXJ2aWNlKTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9QYXJzZVByb21pc2VXcmFwLmpzXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuUGFyc2UgJiYgd2luZG93O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJ3aW5kb3cuUGFyc2UgJiYgd2luZG93XCJcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgYW5ndWxhciA9IHJlcXVpcmUoJ2FuZ3VsYXInKTtcclxudmFyIFBhcnNlID0gcmVxdWlyZSgncGFyc2UnKS5QYXJzZTtcclxudmFyIG5nUGFyc2VNb2R1bGUgPSByZXF1aXJlKCcuL21vZHVsZS5qcycpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBvYmplY3RcclxuICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFByb3ZpZGVyIGZvciBQYXJzZUNsYXNzIHNlcnZpY2UuXHJcbiAqL1xyXG5QYXJzZUNsYXNzUHJvdmlkZXIuJGluamVjdCA9IFtdO1xyXG5mdW5jdGlvbiBQYXJzZUNsYXNzUHJvdmlkZXIoKSB7XHJcbiAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXIjJGNsYXNzZXNcclxuICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ2xhc3MgbmFtZXMgZm9yIHJlZ2lzdHJhdGlvbi5cclxuICAgKi9cclxuICBwcm92aWRlci4kY2xhc3NlcyA9IHt9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlciMkYXR0cmlidXRlc1xyXG4gICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgbmFtZXMgb2YgdGhlIGF0dHJpYnV0ZXMgdG8gY3JlYXRlIGdldHRlcnMgYW5kIHNldHRlcnMuXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuJGF0dHJpYnV0ZXMgPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyI3JlZ2lzdGVyXHJcbiAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZWdpc3RlciBmYWN0b3JpZXMsIHdoaWNoIGNyZWF0ZSBQYXJzZSBjbGFzc2VzLlxyXG4gICAqIEl0IG1heSBiZSBoZWxwZnVsIHRvIEluaXRpYWxpemUgUGFyc2UgY2xhc3NlcyBiZWZvcmUgdXNpbmcuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gey4uLnN0cmluZ3xzdHJpbmdbXX0gY2xhc3NlcyBDbGFzcyBuYW1lcyBmb3IgcmVnaXN0cmF0aW9uLlxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGNsYXNzZXMpIHtcclxuICAgIGlmICghYW5ndWxhci5pc0FycmF5KGNsYXNzZXMpKSB7XHJcbiAgICAgIGNsYXNzZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBjbGFzc2VzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHByb3ZpZGVyLiRjbGFzc2VzW2NsYXNzZXNbaV1dID0gY2xhc3Nlc1tpXTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXIjZGVmaW5lQXR0cmlidXRlc1xyXG4gICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRGVmaW5lcyBhdHRyaWJ1dGVzIGZvciBhbGwgY2xhc3Nlcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Li4uc3RyaW5nfHN0cmluZ1tdfSBhdHRyaWJ1dGVzIENsYXNzIG5hbWVzIGZvciByZWdpc3RyYXRpb24uXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuZGVmaW5lQXR0cmlidXRlcyA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVzKSB7XHJcbiAgICBpZiAoIWFuZ3VsYXIuaXNBcnJheShhdHRyaWJ1dGVzKSkge1xyXG4gICAgICBhdHRyaWJ1dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICB1bmlvbihwcm92aWRlci4kYXR0cmlidXRlcywgYXR0cmlidXRlcyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlQ2xhc3NcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgaXMgYSB3cmFwcGVyIGZvclxyXG4gICAqIFtgUGFyc2UuT2JqZWN0LmV4dGVuZGBde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuT2JqZWN0Lmh0bWwjLmV4dGVuZH0uXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBzdWJjbGFzcyBvZiBQYXJzZS5PYmplY3QgZm9yIHRoZSBnaXZlbiBQYXJzZSBjbGFzcyBuYW1lLlxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLiRnZXQgPSAkZ2V0O1xyXG4gICRnZXQuJGluamVjdCA9IFtdO1xyXG4gIGZ1bmN0aW9uICRnZXQoKSB7XHJcbiAgICB2YXIgZXh0ZW5kID0gUGFyc2UuT2JqZWN0LmV4dGVuZC5iaW5kKFBhcnNlLk9iamVjdCk7XHJcblxyXG4gICAgZnVuY3Rpb24gUGFyc2VDbGFzcyhjbGFzc05hbWUsIHByb3RvUHJvcHMsIGNsYXNzUHJvcHMpIHtcclxuICAgICAgdmFyIHBhcnNlQ2xhc3MgPSBleHRlbmQoY2xhc3NOYW1lLCBwcm90b1Byb3BzLCBjbGFzc1Byb3BzKTtcclxuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBhbmd1bGFyLmlzT2JqZWN0KHByb3RvUHJvcHMpICYmIGFuZ3VsYXIuaXNBcnJheShwcm90b1Byb3BzLiRhdHRyaWJ1dGVzKSA/XHJcbiAgICAgICAgcHJvdG9Qcm9wcy4kYXR0cmlidXRlcyA6IFtdO1xyXG5cclxuICAgICAgZGVmaW5lQXR0cmlidXRlcyhwYXJzZUNsYXNzLCBhdHRyaWJ1dGVzKTtcclxuXHJcbiAgICAgIHJldHVybiBwYXJzZUNsYXNzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzI2RlZmluZUF0dHJpYnV0ZXNcclxuICAgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlQ2xhc3NcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIERlZmluZXMgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBDbGFzcyBTdWJjbGFzcyBvZiBQYXJzZS5PYmplY3QuXHJcbiAgICAgKiBAcGFyYW0gey4uLnN0cmluZ3xzdHJpbmdbXX0gYXR0cmlidXRlcyBBdHRyaWJ1dGUgbmFtZXMuXHJcbiAgICAgKi9cclxuICAgIFBhcnNlQ2xhc3MuZGVmaW5lQXR0cmlidXRlcyA9IGRlZmluZUF0dHJpYnV0ZXM7XHJcbiAgICBmdW5jdGlvbiBkZWZpbmVBdHRyaWJ1dGVzKENsYXNzLCBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgIGlmICghYW5ndWxhci5pc0FycmF5KGF0dHJpYnV0ZXMpKSB7XHJcbiAgICAgICAgYXR0cmlidXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIENsYXNzLiRhdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICBDbGFzcy5kZWZpbmVBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICBpZiAoIWFuZ3VsYXIuaXNBcnJheShhdHRyaWJ1dGVzKSkge1xyXG4gICAgICAgICAgYXR0cmlidXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgYXR0cmlidXRlLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChhdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0KGF0dHJpYnV0ZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB1bmlvbihDbGFzcy4kYXR0cmlidXRlcywgYXR0cmlidXRlcyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBDbGFzcy5kZWZpbmVBdHRyaWJ1dGVzKHByb3ZpZGVyLiRhdHRyaWJ1dGVzKTtcclxuICAgICAgQ2xhc3MuZGVmaW5lQXR0cmlidXRlcyhhdHRyaWJ1dGVzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXIjJGNsYXNzZXNcclxuICAgICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VDbGFzc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogUmVnaXN0ZXJlZCBjbGFzc2VzLlxyXG4gICAgICovXHJcbiAgICBQYXJzZUNsYXNzLiRjbGFzc2VzID0gcHJvdmlkZXIuJGNsYXNzZXM7XHJcblxyXG4gICAgUGFyc2UuQ2xhc3MgPSBQYXJzZUNsYXNzO1xyXG5cclxuICAgIHJldHVybiBQYXJzZUNsYXNzO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsXHJcbiAqIGZyb20gYWxsIG9mIHRoZSBwcm92aWRlZCBhcnJheXMuXHJcbiAqL1xyXG5mdW5jdGlvbiB1bmlvbigpIHtcclxuICB2YXIgZHN0ID0gYW5ndWxhci5pc0FycmF5KGFyZ3VtZW50c1swXSkgJiYgYXJndW1lbnRzWzBdIHx8IFtdO1xyXG4gIHZhciBzcmMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG5cclxuICBmb3IgKHZhciBpID0gMCwgc3JjTGVuZ3RoID0gc3JjLmxlbmd0aCwgYXJyOyBpIDwgc3JjTGVuZ3RoOyBpKyspIHtcclxuICAgIGFyciA9IHNyY1tpXTtcclxuICAgIGlmICghYW5ndWxhci5pc0FycmF5KGFycikpIGNvbnRpbnVlO1xyXG4gICAgZm9yICh2YXIgaiA9IDAsIGFyckxlbmd0aCA9IGFyci5sZW5ndGgsIHZhbDsgaiA8IGFyckxlbmd0aDsgaisrKSB7XHJcbiAgICAgIHZhbCA9IGFycltqXTtcclxuICAgICAgaWYgKGRzdC5pbmRleE9mKHZhbCkgPT0gLTEpIGRzdC5wdXNoKHZhbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZHN0O1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGluaXRcclxuICpcclxuICogQHJlcXVpcmVzICRpbmplY3RvclxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZUNsYXNzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBJbml0aWFsaXplcyByZWdpc3RlcmVkIGNsYXNzZXMuXHJcbiAqL1xyXG5pbml0LiRpbmplY3QgPSBbJyRpbmplY3RvcicsICdQYXJzZUNsYXNzJ107XHJcbmZ1bmN0aW9uIGluaXQoJGluamVjdG9yLCBQYXJzZUNsYXNzKSB7XHJcbiAgZm9yICh2YXIgaSBpbiBQYXJzZUNsYXNzLiRjbGFzc2VzKSB7XHJcbiAgICBpZiAoIVBhcnNlQ2xhc3MuJGNsYXNzZXMuaGFzT3duUHJvcGVydHkoaSkpIGNvbnRpbnVlO1xyXG4gICAgaWYgKHR5cGVvZiBQYXJzZUNsYXNzLiRjbGFzc2VzW2ldICE9ICdzdHJpbmcnKSBjb250aW51ZTtcclxuICAgIFBhcnNlQ2xhc3MuJGNsYXNzZXNbaV0gPSAkaW5qZWN0b3IuZ2V0KGkpO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcbiAgLnByb3ZpZGVyKCdQYXJzZUNsYXNzJywgUGFyc2VDbGFzc1Byb3ZpZGVyKVxyXG4gIC5ydW4oaW5pdCk7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvUGFyc2VDbGFzcy5qc1xuICoqIG1vZHVsZSBpZCA9IDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBQYXJzZSA9IHJlcXVpcmUoJ3BhcnNlJykuUGFyc2U7XHJcbnZhciBuZ1BhcnNlTW9kdWxlID0gcmVxdWlyZSgnLi9tb2R1bGUuanMnKTtcclxucmVxdWlyZSgnLi9QYXJzZVByb21pc2VXcmFwLmpzJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIG9iamVjdFxyXG4gKiBAbmFtZSBuZ1BhcnNlLlBhcnNlQ2xvdWRcclxuICpcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcbiAqIFtQYXJzZS5DbG91ZF17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5DbG91ZC5odG1sfS5cclxuICovXHJcblBhcnNlQ2xvdWRGYWN0b3J5LiRpbmplY3QgPSBbJ1BhcnNlUHJvbWlzZVdyYXAnXTtcclxuZnVuY3Rpb24gUGFyc2VDbG91ZEZhY3RvcnkoUGFyc2VQcm9taXNlV3JhcCkge1xyXG4gIHZhciBQYXJzZUNsb3VkID0gUGFyc2UuQ2xvdWQ7XHJcblxyXG4gIGlmICghUGFyc2UuJCRpbml0KSB7XHJcbiAgICBQYXJzZVByb21pc2VXcmFwLndyYXBNZXRob2RzKFBhcnNlQ2xvdWQsIFsncnVuJ10pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFBhcnNlQ2xvdWQ7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG4gIC5mYWN0b3J5KCdQYXJzZUNsb3VkJywgUGFyc2VDbG91ZEZhY3RvcnkpO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL1BhcnNlQ2xvdWQuanNcbiAqKiBtb2R1bGUgaWQgPSA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgUGFyc2UgPSByZXF1aXJlKCdwYXJzZScpLlBhcnNlO1xyXG52YXIgbmdQYXJzZU1vZHVsZSA9IHJlcXVpcmUoJy4vbW9kdWxlLmpzJyk7XHJcbnJlcXVpcmUoJy4vUGFyc2VQcm9taXNlV3JhcC5qcycpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBvYmplY3RcclxuICogQG5hbWUgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogUHJvdmlkZXIgZm9yIFBhcnNlRmFjZWJvb2tVdGlscyBzZXJ2aWNlLlxyXG4gKi9cclxuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIuJGluamVjdCA9IFtdO1xyXG5mdW5jdGlvbiBQYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlcigpIHtcclxuICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyI0ZhY2Vib29rVXRpbHNcclxuICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZWUgW0ZhY2Vib29rVXRpbHNde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuRmFjZWJvb2tVdGlscy5odG1sfVxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLkZhY2Vib29rVXRpbHMgPSBQYXJzZS5GYWNlYm9va1V0aWxzO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlciNpbml0aWFsaXplXHJcbiAgICogQGFsaWFzIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIjaW5pdFxyXG4gICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBJbml0aWFsaXplcyBQYXJzZSBGYWNlYm9vayBpbnRlZ3JhdGlvbi5cclxuICAgKiBTZWUgW2BQYXJzZS5GYWNlYm9va1V0aWxzLmluaXRgXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLkZhY2Vib29rVXRpbHMuaHRtbCMuaW5pdH0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBGYWNlYm9vayBvcHRpb25zIGFyZ3VtZW50LlxyXG4gICAqIFNlZSBbYFBhcnNlLkZhY2Vib29rVXRpbHMuaW5pdGBde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuRmFjZWJvb2tVdGlscy5odG1sIy5pbml0fS5cclxuICAgKi9cclxuICBwcm92aWRlci5pbml0aWFsaXplID0gcHJvdmlkZXIuaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICBQYXJzZS5GYWNlYm9va1V0aWxzLmluaXQob3B0aW9ucyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG9iamVjdFxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzXHJcbiAgICpcclxuICAgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVByb21pc2VXcmFwXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3JcclxuICAgKiBbUGFyc2UuRmFjZWJvb2tVdGlsc117QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5GYWNlYm9va1V0aWxzLmh0bWx9LlxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLiRnZXQgPSAkZ2V0O1xyXG4gICRnZXQuJGluamVjdCA9IFsnUGFyc2VQcm9taXNlV3JhcCddO1xyXG4gIGZ1bmN0aW9uICRnZXQoUGFyc2VQcm9taXNlV3JhcCkge1xyXG4gICAgdmFyIFBhcnNlRmFjZWJvb2tVdGlscyA9IFBhcnNlLkZhY2Vib29rVXRpbHM7XHJcblxyXG4gICAgaWYgKCFQYXJzZS4kJGluaXQpIHtcclxuICAgICAgUGFyc2VQcm9taXNlV3JhcC53cmFwTWV0aG9kcyhQYXJzZUZhY2Vib29rVXRpbHMsIFsnbGluaycsICdsb2dJbicsICd1bmxpbmsnXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFBhcnNlRmFjZWJvb2tVdGlscztcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG4gIC5wcm92aWRlcignUGFyc2VGYWNlYm9va1V0aWxzJywgUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIpO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL1BhcnNlRmFjZWJvb2tVdGlscy5qc1xuICoqIG1vZHVsZSBpZCA9IDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBQYXJzZSA9IHJlcXVpcmUoJ3BhcnNlJykuUGFyc2U7XHJcbnZhciBuZ1BhcnNlTW9kdWxlID0gcmVxdWlyZSgnLi9tb2R1bGUuanMnKTtcclxucmVxdWlyZSgnLi9QYXJzZVByb21pc2VXcmFwLmpzJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgbmdQYXJzZS5QYXJzZU9iamVjdFxyXG4gKlxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVByb21pc2VXcmFwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIGlzIGEgd3JhcHBlciBmb3JcclxuICogW1BhcnNlLk9iamVjdF17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5PYmplY3QuaHRtbH0uXHJcbiAqL1xyXG5QYXJzZU9iamVjdEZhY3RvcnkuJGluamVjdCA9IFsnUGFyc2VQcm9taXNlV3JhcCddO1xyXG5mdW5jdGlvbiBQYXJzZU9iamVjdEZhY3RvcnkoUGFyc2VQcm9taXNlV3JhcCkge1xyXG4gIHZhciBQYXJzZU9iamVjdCA9IFBhcnNlLk9iamVjdDtcclxuXHJcbiAgaWYgKCFQYXJzZS4kJGluaXQpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJzZU9iamVjdC5wcm90b3R5cGUsICckaWQnLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiQkaWQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLiQkaWQgPT09IG51bGwgPyB0aGlzLmlkIDogdGhpcy4kJGlkO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuJCRpZCA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxyXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgfSk7XHJcblxyXG4gICAgUGFyc2VQcm9taXNlV3JhcC53cmFwTWV0aG9kcyhQYXJzZU9iamVjdCwgWydkZXN0cm95QWxsJywgJ2ZldGNoQWxsJywgJ2ZldGNoQWxsSWZOZWVkZWQnLCAnc2F2ZUFsbCddKTtcclxuICAgIFBhcnNlUHJvbWlzZVdyYXAud3JhcE1ldGhvZHMoUGFyc2VPYmplY3QucHJvdG90eXBlLCBbJ2Rlc3Ryb3knLCAnZmV0Y2gnLCAnc2F2ZSddKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VPYmplY3QucHJvdG90eXBlI2lzRGlydHlcclxuICAgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlT2JqZWN0LnByb3RvdHlwZVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgb2JqZWN0IGlzIGRpcnR5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGRpcnR5LlxyXG4gICAgICovXHJcbiAgICBQYXJzZU9iamVjdC5wcm90b3R5cGUuaXNEaXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5kaXJ0eUtleXMoKS5sZW5ndGgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VPYmplY3QucHJvdG90eXBlI2lzQ3JlYXRlZFxyXG4gICAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VPYmplY3QucHJvdG90eXBlXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBvYmplY3QgaXMgY3JlYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyBjcmVhdGVkLlxyXG4gICAgICovXHJcbiAgICBQYXJzZU9iamVjdC5wcm90b3R5cGUuaXNDcmVhdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmNyZWF0ZWRBdCk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFBhcnNlT2JqZWN0O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuICAuZmFjdG9yeSgnUGFyc2VPYmplY3QnLCBQYXJzZU9iamVjdEZhY3RvcnkpO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL1BhcnNlT2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIFBhcnNlID0gcmVxdWlyZSgncGFyc2UnKS5QYXJzZTtcclxudmFyIG5nUGFyc2VNb2R1bGUgPSByZXF1aXJlKCcuL21vZHVsZS5qcycpO1xyXG5yZXF1aXJlKCcuL1BhcnNlUHJvbWlzZVdyYXAuanMnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUXVlcnlcclxuICpcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VQcm9taXNlV3JhcFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcbiAqIFtQYXJzZS5QYXJzZVF1ZXJ5XXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlF1ZXJ5Lmh0bWx9LlxyXG4gKi9cclxuUGFyc2VRdWVyeUZhY3RvcnkuJGluamVjdCA9IFsnUGFyc2VQcm9taXNlV3JhcCddO1xyXG5mdW5jdGlvbiBQYXJzZVF1ZXJ5RmFjdG9yeShQYXJzZVByb21pc2VXcmFwKSB7XHJcbiAgdmFyIFBhcnNlUXVlcnkgPSBQYXJzZS5RdWVyeTtcclxuXHJcbiAgaWYgKCFQYXJzZS4kJGluaXQpIHtcclxuICAgIFBhcnNlUHJvbWlzZVdyYXAud3JhcE1ldGhvZHMoUGFyc2VRdWVyeS5wcm90b3R5cGUsIFsnY291bnQnLCAnZWFjaCcsICdmaW5kJywgJ2ZpcnN0JywgJ2dldCddKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBQYXJzZVF1ZXJ5O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuICAuZmFjdG9yeSgnUGFyc2VRdWVyeScsIFBhcnNlUXVlcnlGYWN0b3J5KTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9QYXJzZVF1ZXJ5LmpzXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIFBhcnNlID0gcmVxdWlyZSgncGFyc2UnKS5QYXJzZTtcclxudmFyIG5nUGFyc2VNb2R1bGUgPSByZXF1aXJlKCcuL21vZHVsZS5qcycpO1xyXG5yZXF1aXJlKCcuL1BhcnNlQ2xhc3MuanMnKTtcclxucmVxdWlyZSgnLi9QYXJzZVByb21pc2VXcmFwLmpzJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIG9iamVjdFxyXG4gKiBAbmFtZSBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBQcm92aWRlciBmb3IgUGFyc2VVc2VyIHNlcnZpY2UuXHJcbiAqL1xyXG5QYXJzZVVzZXJQcm92aWRlci4kaW5qZWN0ID0gW107XHJcbmZ1bmN0aW9uIFBhcnNlVXNlclByb3ZpZGVyKCkge1xyXG4gIHZhciBwcm92aWRlciA9IHRoaXM7XHJcbiAgcHJvdmlkZXIuVXNlciA9IFBhcnNlLlVzZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXIjJGF0dHJpYnV0ZXNcclxuICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgbmFtZXMgb2YgdGhlIGF0dHJpYnV0ZXMgdG8gY3JlYXRlIGdldHRlcnMgYW5kIHNldHRlcnMuXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuJGF0dHJpYnV0ZXMgPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXIjcmVnaXN0ZXJcclxuICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVVzZXJQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhpcyB1c2VyIGlzIHRoZSBjdXJyZW50IHVzZXIgYW5kIGhhcyBiZWVuIGF1dGhlbnRpY2F0ZWQuXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuYXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBCb29sZWFuKFBhcnNlLlVzZXIuY3VycmVudCgpKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVVzZXJQcm92aWRlciNkZWZpbmVBdHRyaWJ1dGVzXHJcbiAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIERlZmluZXMgYXR0cmlidXRlcyBmb3IgUGFyc2UuVXNlci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Li4uc3RyaW5nfHN0cmluZ1tdfSBhdHRyaWJ1dGVzIENsYXNzIG5hbWVzIGZvciByZWdpc3RyYXRpb24uXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuZGVmaW5lQXR0cmlidXRlcyA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVzKSB7XHJcbiAgICBpZiAoIShhdHRyaWJ1dGVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgIGF0dHJpYnV0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3ZpZGVyLiRhdHRyaWJ1dGVzLnB1c2guYXBwbHkocHJvdmlkZXIuJGF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVVzZXJcclxuICAgKlxyXG4gICAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlUHJvbWlzZVdyYXBcclxuICAgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZUNsYXNzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3JcclxuICAgKiBbUGFyc2UuUGFyc2VVc2VyXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlVzZXIuaHRtbH0uXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuJGdldCA9ICRnZXQ7XHJcbiAgJGdldC4kaW5qZWN0ID0gWydQYXJzZVByb21pc2VXcmFwJywgJ1BhcnNlQ2xhc3MnXTtcclxuICBmdW5jdGlvbiAkZ2V0KFBhcnNlUHJvbWlzZVdyYXAsIFBhcnNlQ2xhc3MpIHtcclxuICAgIHZhciBQYXJzZVVzZXIgPSBQYXJzZS5Vc2VyO1xyXG5cclxuICAgIGlmICghUGFyc2UuJCRpbml0KSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBhcnNlVXNlci5wcm90b3R5cGUsIHtcclxuICAgICAgICB1c2VybmFtZToge1xyXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFVzZXJuYW1lKCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRVc2VybmFtZSh2YWx1ZSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFzc3dvcmQ6IHtcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQoJ3Bhc3N3b3JkJyk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQYXNzd29yZCh2YWx1ZSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW1haWw6IHtcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRFbWFpbCgpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RW1haWwodmFsdWUpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGF1dGg6IHtcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoZW50aWNhdGVkKCk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuICAgICAgICB9LFxyXG4gICAgICAgIGN1cnJlbnQ6IHtcclxuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0N1cnJlbnQoKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBQYXJzZVByb21pc2VXcmFwLndyYXBNZXRob2RzKFBhcnNlVXNlciwgWydiZWNvbWUnLCAnZW5hYmxlUmV2b2NhYmxlU2Vzc2lvbicsICdsb2dJbicsICdsb2dPdXQnLCAncmVxdWVzdFBhc3N3b3JkUmVzZXQnLCAnc2lnblVwJ10pO1xyXG4gICAgICBQYXJzZVByb21pc2VXcmFwLndyYXBNZXRob2RzKFBhcnNlVXNlci5wcm90b3R5cGUsIFsnbG9nSW4nLCAnc2lnblVwJ10pO1xyXG4gICAgfVxyXG5cclxuICAgIFBhcnNlQ2xhc3MuZGVmaW5lQXR0cmlidXRlcyhQYXJzZVVzZXIsIHByb3ZpZGVyLiRhdHRyaWJ1dGVzKTtcclxuXHJcbiAgICBQYXJzZUNsYXNzLiRjbGFzc2VzWydQYXJzZVVzZXInXSA9IFBhcnNlVXNlcjtcclxuXHJcbiAgICByZXR1cm4gUGFyc2VVc2VyO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcbiAgLnByb3ZpZGVyKCdQYXJzZVVzZXInLCBQYXJzZVVzZXJQcm92aWRlcik7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvUGFyc2VVc2VyLmpzXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuYW5ndWxhcjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwid2luZG93LmFuZ3VsYXJcIlxuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgUGFyc2UgPSByZXF1aXJlKCdwYXJzZScpLlBhcnNlO1xyXG52YXIgbmdQYXJzZU1vZHVsZSA9IHJlcXVpcmUoJy4vbW9kdWxlLmpzJyk7XHJcbnJlcXVpcmUoJy4vUGFyc2VDbGFzcy5qcycpO1xyXG5yZXF1aXJlKCcuL1BhcnNlQ2xvdWQuanMnKTtcclxucmVxdWlyZSgnLi9QYXJzZUZhY2Vib29rVXRpbHMnKTtcclxucmVxdWlyZSgnLi9QYXJzZU9iamVjdC5qcycpO1xyXG5yZXF1aXJlKCcuL1BhcnNlUHJvbWlzZVdyYXAuanMnKTtcclxucmVxdWlyZSgnLi9QYXJzZVF1ZXJ5LmpzJyk7XHJcbnJlcXVpcmUoJy4vUGFyc2VVc2VyLmpzJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIG9iamVjdFxyXG4gKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuICpcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyXHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBQcm92aWRlciBmb3IgUGFyc2Ugc2VydmljZS5cclxuICovXHJcblBhcnNlUHJvdmlkZXIuJGluamVjdCA9IFsnUGFyc2VDbGFzc1Byb3ZpZGVyJywgJ1BhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyJywgJ1BhcnNlVXNlclByb3ZpZGVyJ107XHJcbmZ1bmN0aW9uIFBhcnNlUHJvdmlkZXIoUGFyc2VDbGFzc1Byb3ZpZGVyLCBQYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlciwgUGFyc2VVc2VyUHJvdmlkZXIpIHtcclxuICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUHJvdmlkZXIjUGFyc2VcclxuICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuICAgKi9cclxuICBwcm92aWRlci5QYXJzZSA9IFBhcnNlO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUHJvdmlkZXIjQ2xhc3NcclxuICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuICAgKi9cclxuICBwcm92aWRlci5DbGFzcyA9IFBhcnNlQ2xhc3NQcm92aWRlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI0ZhY2Vib29rVXRpbHNcclxuICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuICAgKi9cclxuICBwcm92aWRlci5GYWNlYm9va1V0aWxzID0gUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlciNVc2VyXHJcbiAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuVXNlciA9IFBhcnNlVXNlclByb3ZpZGVyO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI2luaXRpYWxpemVcclxuICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBJbml0aWFsaXplcyBQYXJzZS5cclxuICAgKiBTZWUgW1BhcnNlLmluaXRpYWxpemVde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuaHRtbCMuaW5pdGlhbGl6ZX0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXBwbGljYXRpb25JZCBZb3VyIFBhcnNlIEFwcGxpY2F0aW9uIElELlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBqYXZhU2NyaXB0S2V5IFlvdXIgUGFyc2UgSmF2YVNjcmlwdCBLZXkuXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChhcHBsaWNhdGlvbklkLCBqYXZhU2NyaXB0S2V5KSB7XHJcbiAgICBQYXJzZS5pbml0aWFsaXplKGFwcGxpY2F0aW9uSWQsIGphdmFTY3JpcHRLZXkpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBvYmplY3RcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3IgW1BhcnNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLmh0bWx9LlxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLiRnZXQgPSAkZ2V0O1xyXG4gICRnZXQuJGluamVjdCA9IFtdO1xyXG4gIGZ1bmN0aW9uICRnZXQoKSB7XHJcbiAgICByZXR1cm4gUGFyc2U7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGluaXRcclxuICpcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VDbGFzc1xyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZUNsb3VkXHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1xyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZU9iamVjdFxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVByb21pc2VXcmFwXHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlUXVlcnlcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVc2VyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBJbml0aWFsaXplcyBuZ1BhcnNlIHNlcnZpY2VzLlxyXG4gKi9cclxuaW5pdC4kaW5qZWN0ID0gWydQYXJzZUNsYXNzJywgJ1BhcnNlQ2xvdWQnLCAnUGFyc2VGYWNlYm9va1V0aWxzJywgJ1BhcnNlT2JqZWN0JywgJ1BhcnNlJywgJ1BhcnNlUHJvbWlzZVdyYXAnLCAnUGFyc2VRdWVyeScsICdQYXJzZVVzZXInXTtcclxuZnVuY3Rpb24gaW5pdChQYXJzZUNsYXNzLCBQYXJzZUNsb3VkLCBQYXJzZUZhY2Vib29rVXRpbHMsIFBhcnNlT2JqZWN0LCBQYXJzZSwgUGFyc2VQcm9taXNlV3JhcCwgUGFyc2VRdWVyeSwgUGFyc2VVc2VyKSB7XHJcbiAgUGFyc2UuJCRpbml0ID0gdHJ1ZTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcbiAgLnByb3ZpZGVyKCdQYXJzZScsIFBhcnNlUHJvdmlkZXIpXHJcbiAgLnJ1bihpbml0KTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9QYXJzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9
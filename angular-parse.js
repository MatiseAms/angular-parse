!function (e) {
  function t(n) {
    if (r[n])return r[n].exports;
    var i = r[n] = {exports: {}, id: n, loaded: !1};
    return e[n].call(i.exports, i, i.exports, t), i.loaded = !0, i.exports
  }

  var r = {};
  return t.m = e, t.c = r, t.p = "", t(0)
}([function (e, t, r) {
  var n = r(1);
  r(3), r(8), r(9), r(5), r(10), r(11), r(7), r(6), e.exports = n.name
}, function (e, t, r) {
  var n = r(2), i = n.module("ngParse", []);
  e.exports = i
}, function (e, t) {
  e.exports = window.angular
}, function (e, t, r) {
  function n(e, t, r) {
    function n() {
      return s
    }

    var i = this;
    i.Parse = s, i.Class = e, i.FacebookUtils = t, i.User = r, i.initialize = function (e, t) {
      s.initialize(e, t)
    }, i.$get = n, n.$inject = []
  }

  function i(e, t, r, n, i, s, o, a) {
    i.$$init = !0
  }

  var s = r(4).Parse, o = r(1);
  r(5), r(6), r(7), n.$inject = ["ParseClassProvider", "ParseFacebookUtilsProvider", "ParseUserProvider"], i.$inject = ["ParseClass", "ParseCloud", "ParseFacebookUtils", "ParseObject", "Parse", "ParseQuery", "ParseUser", "ParseUtils"], e.exports = o.provider("Parse", n).run(i)
}, function (e, t) {
  e.exports = window.Parse && window
}, function (e, t, r) {
  function n() {
    function e(e) {
      function r(t, r, i) {
        var s = n(t, r, i);
        return r && "object" == typeof r && r.$attributes instanceof Array && e.defineAttributes(s.prototype, r.$attributes), s.defineAttributes = e.defineAttributes.bind(e, s.prototype), s
      }

      var n = s.Object.extend.bind(s.Object);
      return r.$classes = t.$classes, s.Class = r, r
    }

    var t = this;
    t.$classes = {}, t.register = function (e) {
      e instanceof Array || (e = Array.prototype.slice.call(arguments));
      for (var r = 0, n = e.length; n > r; r++)t.$classes[e[r]] = e[r]
    }, t.$get = e, e.$inject = ["ParseUtils"]
  }

  function i(e, t) {
    for (var r in t.$classes)t.$classes.hasOwnProperty(r) && (t.$classes[r] = e.get(r))
  }

  var s = r(4).Parse, o = r(1);
  n.$inject = [], i.$inject = ["$injector", "ParseClass"], e.exports = o.provider("ParseClass", n).run(i)
}, function (e, t, r) {
  function n() {
    function e(e) {
      var t = i.FacebookUtils;
      return i.$$init ? t : (e.wrapMethods(t, ["link", "logIn", "unlink"]), t)
    }

    var t = this;
    t.FacebookUtils = i.FacebookUtils, t.initialize = t.init = function (e) {
      i.FacebookUtils.init(e)
    }, t.$get = e, e.$inject = ["ParseUtils"]
  }

  var i = r(4).Parse, s = r(1);
  n.$inject = [], e.exports = s.provider("ParseFacebookUtils", n)
}, function (e, t, r) {
  function n() {
    function e(e) {
      var t = i.User;
      return i.$$init ? t : (Object.defineProperties(t.prototype, {
        username: {
          get: function () {
            return this.getUsername()
          }, set: function (e) {
            this.setUsername(e)
          }, configurable: !0, enumerable: !0
        }, password: {
          get: function () {
            return this.get("password")
          }, set: function (e) {
            this.setPassword(e)
          }, configurable: !0, enumerable: !0
        }, email: {
          get: function () {
            return this.getEmail()
          }, set: function (e) {
            this.setEmail(e)
          }, configurable: !0, enumerable: !0
        }, auth: {
          get: function () {
            return this.authenticated()
          }, configurable: !0, enumerable: !1
        }, current: {
          get: function () {
            return this.isCurrent()
          }, configurable: !0, enumerable: !1
        }
      }), t.defineAttributes = e.defineAttributes.bind(e, t.prototype), e.wrapMethods(t, ["become", "enableRevocableSession", "logIn", "logOut", "requestPasswordReset", "signUp"]), e.wrapMethods(t.prototype, ["logIn", "signUp"]), t)
    }

    var t = this;
    t.User = i.User, t.authenticated = function () {
      return Boolean(i.User.current())
    }, t.$get = e, e.$inject = ["ParseUtils"]
  }

  var i = r(4).Parse, s = r(1);
  n.$inject = [], e.exports = s.provider("ParseUser", n)
}, function (e, t, r) {
  function n(e) {
    function t(t) {
      return function () {
        var r = Array.prototype.slice.call(arguments), n = t.apply(this, r);
        return e(n.then.bind(n))
      }
    }

    function r(e, r) {
      e[r] = t(e[r])
    }

    function n(e, t) {
      t instanceof Array || (t = Array.prototype.slice.call(arguments, 1));
      for (var n = 0, i = t.length; i > n; n++)r(e, t[n])
    }

    function i(e, t) {
      Object.defineProperty(e, t, {
        get: function () {
          return this.get(t)
        }, set: function (e) {
          this.set(t, e)
        }, configurable: !0, enumerable: !0
      })
    }

    function s(e, t) {
      t instanceof Array || (t = Array.prototype.slice.call(arguments, 1));
      for (var r = 0, n = t.length; n > r; r++)i(e, t[r])
    }

    this.wrapPromise = t, this.wrapMethods = n, this.defineAttributes = s
  }

  var i = r(1);
  n.$inject = ["$q"], e.exports = i.service("ParseUtils", n)
}, function (e, t, r) {
  function n(e) {
    var t = i.Object;
    return i.$$init ? t : (Object.defineProperty(t.prototype, "$id", {
      get: function () {
        return void 0 === this.$$id || null === this.$$id ? this.id : this.$$id
      }, set: function (e) {
        this.$$id = e
      }, configurable: !1, enumerable: !1
    }), e.wrapMethods(t, ["destroyAll", "fetchAll", "fetchAllIfNeeded", "saveAll"]), e.wrapMethods(t.prototype, ["destroy", "fetch", "save"]), t.prototype.isDirty = function () {
      return Boolean(this.dirtyKeys().length)
    }, t.prototype.isCreated = function () {
      return Boolean(this.createdAt)
    }, t)
  }

  var i = r(4).Parse, s = r(1);
  n.$inject = ["ParseUtils"], e.exports = s.factory("ParseObject", n)
}, function (e, t, r) {
  function n(e) {
    var t = i.Query;
    return i.$$init ? t : (e.wrapMethods(t.prototype, ["count", "each", "find", "first", "get"]), t)
  }

  var i = r(4).Parse, s = r(1);
  n.$inject = ["ParseUtils"], e.exports = s.factory("ParseQuery", n)
}, function (e, t, r) {
  function n(e) {
    var t = i.Cloud;
    return i.$$init ? t : (e.wrapMethods(t, ["run"]), t)
  }

  var i = r(4).Parse, s = r(1);
  n.$inject = ["ParseUtils"], e.exports = s.factory("ParseCloud", n)
}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYW5ndWxhci1wYXJzZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNTdlOGE3MzE4YWEwMmE2OThjNzkiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwid2luZG93LmFuZ3VsYXJcIiIsIndlYnBhY2s6Ly8vLi9zcmMvUGFyc2UuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwid2luZG93LlBhcnNlICYmIHdpbmRvd1wiIiwid2VicGFjazovLy8uL3NyYy9DbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmFjZWJvb2tVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL09iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvUXVlcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Nsb3VkLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIm5nUGFyc2VNb2R1bGUiLCJuYW1lIiwiYW5ndWxhciIsIndpbmRvdyIsIlBhcnNlUHJvdmlkZXIiLCJQYXJzZUNsYXNzUHJvdmlkZXIiLCJQYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlciIsIlBhcnNlVXNlclByb3ZpZGVyIiwiJGdldCIsIlBhcnNlIiwicHJvdmlkZXIiLCJ0aGlzIiwiQ2xhc3MiLCJGYWNlYm9va1V0aWxzIiwiVXNlciIsImluaXRpYWxpemUiLCJhcHBsaWNhdGlvbklkIiwiamF2YVNjcmlwdEtleSIsIiRpbmplY3QiLCJpbml0IiwiUGFyc2VDbGFzcyIsIlBhcnNlQ2xvdWQiLCJQYXJzZUZhY2Vib29rVXRpbHMiLCJQYXJzZU9iamVjdCIsIlBhcnNlUXVlcnkiLCJQYXJzZVVzZXIiLCJQYXJzZVV0aWxzIiwiJCRpbml0IiwicnVuIiwiY2xhc3NOYW1lIiwicHJvdG9Qcm9wcyIsImNsYXNzUHJvcHMiLCJwYXJzZUNsYXNzIiwiZXh0ZW5kIiwiJGF0dHJpYnV0ZXMiLCJBcnJheSIsImRlZmluZUF0dHJpYnV0ZXMiLCJwcm90b3R5cGUiLCJiaW5kIiwiT2JqZWN0IiwiJGNsYXNzZXMiLCJyZWdpc3RlciIsImNsYXNzZXMiLCJzbGljZSIsImFyZ3VtZW50cyIsImkiLCJsZW5ndGgiLCIkaW5qZWN0b3IiLCJoYXNPd25Qcm9wZXJ0eSIsImdldCIsIndyYXBNZXRob2RzIiwib3B0aW9ucyIsImRlZmluZVByb3BlcnRpZXMiLCJ1c2VybmFtZSIsImdldFVzZXJuYW1lIiwic2V0IiwidmFsdWUiLCJzZXRVc2VybmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJwYXNzd29yZCIsInNldFBhc3N3b3JkIiwiZW1haWwiLCJnZXRFbWFpbCIsInNldEVtYWlsIiwiYXV0aCIsImF1dGhlbnRpY2F0ZWQiLCJjdXJyZW50IiwiaXNDdXJyZW50IiwiQm9vbGVhbiIsIlBhcnNlVXRpbHNTZXJ2aWNlIiwiJHEiLCJ3cmFwUHJvbWlzZSIsImZ1bmMiLCJhcmdzIiwicHJvbWlzZSIsImFwcGx5IiwidGhlbiIsIndyYXBNZXRob2QiLCJvYmplY3QiLCJtZXRob2ROYW1lIiwibWV0aG9kTmFtZXMiLCJkZWZpbmVBdHRyaWJ1dGUiLCJhdHRyaWJ1dGUiLCJkZWZpbmVQcm9wZXJ0eSIsImF0dHJpYnV0ZXMiLCJzZXJ2aWNlIiwiUGFyc2VPYmplY3RGYWN0b3J5IiwidW5kZWZpbmVkIiwiJCRpZCIsImlzRGlydHkiLCJkaXJ0eUtleXMiLCJpc0NyZWF0ZWQiLCJjcmVhdGVkQXQiLCJmYWN0b3J5IiwiUGFyc2VRdWVyeUZhY3RvcnkiLCJRdWVyeSIsIlBhcnNlQ2xvdWRGYWN0b3J5IiwiQ2xvdWQiXSwibWFwcGluZ3Mi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LEdBaEVBLEdBQUFkLEdBQUFwQixFQUFBLEdBQUFvQixNQUNBVCxFQUFBWCxFQUFBLEVBWUFrRyxHQUFBckUsU0FBQSxjQXNEQXpCLEVBQUFELFFBQUFRLEVBQ0E4RixRQUFBLGNBQUFQLElYK3FCTSxTQUFTOUYsRUFBUUQsRUFBU0gsR1lydUJoQyxRQUFBMEcsR0FBQXJFLEdBQ0EsR0FBQUYsR0FBQWYsRUFBQXVGLEtBRUEsT0FBQXZGLEdBQUFrQixPQUFBSCxHQUVBRSxFQUFBd0IsWUFBQTFCLEVBQUFhLFdBQUEsc0NBRUFiLEdBckJBLEdBQUFmLEdBQUFwQixFQUFBLEdBQUFvQixNQUNBVCxFQUFBWCxFQUFBLEVBWUEwRyxHQUFBN0UsU0FBQSxjQVdBekIsRUFBQUQsUUFBQVEsRUFDQThGLFFBQUEsYUFBQUMsSVowdkJNLFNBQVN0RyxFQUFRRCxFQUFTSCxHYXJ3QmhDLFFBQUE0RyxHQUFBdkUsR0FDQSxHQUFBTCxHQUFBWixFQUFBeUYsS0FFQSxPQUFBekYsR0FBQWtCLE9BQUFOLEdBRUFLLEVBQUF3QixZQUFBN0IsR0FBQSxRQUVBQSxHQXJCQSxHQUFBWixHQUFBcEIsRUFBQSxHQUFBb0IsTUFDQVQsRUFBQVgsRUFBQSxFQVlBNEcsR0FBQS9FLFNBQUEsY0FXQXpCLEVBQUFELFFBQUFRLEVBQ0E4RixRQUFBLGFBQUFHIiwiZmlsZSI6ImFuZ3VsYXItcGFyc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBuZ1BhcnNlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTApO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxuXHRcclxuXHRtb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGUubmFtZTtcclxuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG92ZXJ2aWV3XHJcblx0ICogQG5hbWUgbmdQYXJzZVxyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogIyBuZ1BhcnNlXHJcblx0ICogQW5ndWxhciB3cmFwcGVyIGZvciBbUGFyc2UuY29tIEphdmFTY3JpcHQgU0RLXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2d1aWRlfS5cclxuXHQgKlxyXG5cdCAqIDxwcmU+XHJcblx0ICogPCFkb2N0eXBlIGh0bWw+XHJcblx0ICogPGh0bWwgbmctYXBwPVwiZGVtb1wiPlxyXG5cdCAqIDxoZWFkPlxyXG5cdCAqICAgPHNjcmlwdCBzcmM9XCJwYXRoL3RvL2FuZ3VsYXIuanNcIj48L3NjcmlwdD5cclxuXHQgKiAgIDwhLS0gSW5jbHVkZSB0aGUgbmdQYXJzZSBzY3JpcHQgLS0+XHJcblx0ICogICA8c2NyaXB0IHNyYz1cInBhdGgvdG8vYW5ndWxhci1wYXJzZS5qc1wiPjwvc2NyaXB0PlxyXG5cdCAqICAgPHNjcmlwdD5cclxuXHQgKiAgICAgLy8gYWRkICduZ1BhcnNlJyBhcyBhIGRlcGVuZGVuY3lcclxuXHQgKiAgICAgYW5ndWxhci5tb2R1bGUoJ2RlbW8nLCBbJ25nUGFyc2UnXSk7XHJcblx0ICogICA8L3NjcmlwdD5cclxuXHQgKiA8L2hlYWQ+XHJcblx0ICogPGJvZHk+XHJcblx0ICogPC9ib2R5PlxyXG5cdCAqIDwvaHRtbD5cclxuXHQgKiA8L3ByZT5cclxuXHQgKi9cclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCduZ1BhcnNlJywgW10pO1xyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZTtcclxuXG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5hbmd1bGFyO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5QYXJzZTtcclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG5cdF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlclxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXJcclxuXHQgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVVzZXJQcm92aWRlclxyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogUHJvdmlkZXIgZm9yIFBhcnNlIHNlcnZpY2UuXHJcblx0ICovXHJcblx0UGFyc2VQcm92aWRlci4kaW5qZWN0ID0gWydQYXJzZUNsYXNzUHJvdmlkZXInLCAnUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXInLCAnUGFyc2VVc2VyUHJvdmlkZXInXTtcclxuXHRmdW5jdGlvbiBQYXJzZVByb3ZpZGVyKFBhcnNlQ2xhc3NQcm92aWRlciwgUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIsIFBhcnNlVXNlclByb3ZpZGVyKSB7XHJcblx0ICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgcHJvcGVydHlcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlciNQYXJzZVxyXG5cdCAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLlBhcnNlID0gUGFyc2U7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI0NsYXNzXHJcblx0ICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuQ2xhc3MgPSBQYXJzZUNsYXNzUHJvdmlkZXI7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI0ZhY2Vib29rVXRpbHNcclxuXHQgICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VQcm92aWRlclxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci5GYWNlYm9va1V0aWxzID0gUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXI7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI1VzZXJcclxuXHQgICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VQcm92aWRlclxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci5Vc2VyID0gUGFyc2VVc2VyUHJvdmlkZXI7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBtZXRob2RcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlciNpbml0aWFsaXplXHJcblx0ICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBJbml0aWFsaXplcyBQYXJzZS5cclxuXHQgICAqIFNlZSBbUGFyc2UuaW5pdGlhbGl6ZV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5odG1sIy5pbml0aWFsaXplfS5cclxuXHQgICAqXHJcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30gYXBwbGljYXRpb25JZCBZb3VyIFBhcnNlIEFwcGxpY2F0aW9uIElELlxyXG5cdCAgICogQHBhcmFtIHtzdHJpbmd9IGphdmFTY3JpcHRLZXkgWW91ciBQYXJzZSBKYXZhU2NyaXB0IEtleS5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChhcHBsaWNhdGlvbklkLCBqYXZhU2NyaXB0S2V5KSB7XHJcblx0ICAgIFBhcnNlLmluaXRpYWxpemUoYXBwbGljYXRpb25JZCwgamF2YVNjcmlwdEtleSk7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2Mgb2JqZWN0XHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3IgW1BhcnNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLmh0bWx9LlxyXG5cdCAgICovXHJcblx0ICBwcm92aWRlci4kZ2V0ID0gJGdldDtcclxuXHQgICRnZXQuJGluamVjdCA9IFtdO1xyXG5cdCAgZnVuY3Rpb24gJGdldCgpIHtcclxuXHQgICAgcmV0dXJuIFBhcnNlO1xyXG5cdCAgfVxyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBAbmdkb2MgZnVuY3Rpb25cclxuXHQgKiBAbmFtZSBpbml0XHJcblx0ICpcclxuXHQgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZUNsYXNzXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VDbG91ZFxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1xyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlT2JqZWN0XHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VcclxuXHQgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVF1ZXJ5XHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVc2VyXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogSW5pdGlhbGl6ZXMgbmdQYXJzZSBzZXJ2aWNlcy5cclxuXHQgKi9cclxuXHRpbml0LiRpbmplY3QgPSBbJ1BhcnNlQ2xhc3MnLCAnUGFyc2VDbG91ZCcsICdQYXJzZUZhY2Vib29rVXRpbHMnLCAnUGFyc2VPYmplY3QnLCAnUGFyc2UnLCAnUGFyc2VRdWVyeScsICdQYXJzZVVzZXInLCAnUGFyc2VVdGlscyddO1xyXG5cdGZ1bmN0aW9uIGluaXQoUGFyc2VDbGFzcywgUGFyc2VDbG91ZCwgUGFyc2VGYWNlYm9va1V0aWxzLCBQYXJzZU9iamVjdCwgUGFyc2UsIFBhcnNlUXVlcnksIFBhcnNlVXNlciwgUGFyc2VVdGlscykge1xyXG5cdCAgUGFyc2UuJCRpbml0ID0gdHJ1ZTtcclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAucHJvdmlkZXIoJ1BhcnNlJywgUGFyc2VQcm92aWRlcilcclxuXHQgIC5ydW4oaW5pdCk7XHJcblxuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuUGFyc2UgJiYgd2luZG93O1xuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5QYXJzZTtcclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcblx0ICpcclxuXHQgKiBAZGVzY3JpcHRpb25cclxuXHQgKiBQcm92aWRlciBmb3IgUGFyc2VDbGFzcyBzZXJ2aWNlLlxyXG5cdCAqL1xyXG5cdFBhcnNlQ2xhc3NQcm92aWRlci4kaW5qZWN0ID0gW107XHJcblx0ZnVuY3Rpb24gUGFyc2VDbGFzc1Byb3ZpZGVyKCkge1xyXG5cdCAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIHByb3BlcnR5XHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlciMkY2xhc3Nlc1xyXG5cdCAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXJcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIENsYXNzIG5hbWVzIGZvciByZWdpc3RyYXRpb24uXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLiRjbGFzc2VzID0ge307XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBtZXRob2RcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyI3JlZ2lzdGVyXHJcblx0ICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXJcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIFJlZ2lzdGVyIGZhY3Rvcmllcywgd2hpY2ggY3JlYXRlIFBhcnNlIGNsYXNzZXMuXHJcblx0ICAgKiBJdCBtYXkgYmUgaGVscGZ1bCB0byBJbml0aWFsaXplIFBhcnNlIGNsYXNzZXMgYmVmb3JlIHVzaW5nLlxyXG5cdCAgICpcclxuXHQgICAqIDxwcmU+XHJcblx0ICAgKiBhbmd1bGFyLm1vZHVsZSgnZGVtbycsIFsnbmdQYXJzZSddKVxyXG5cdCAgICogICAuZmFjdG9yeSgnRmlyc3RQYXJzZUNsYXNzJywgWydQYXJzZUNsYXNzJywgZnVuY3Rpb24oUGFyc2VDbGFzcykge1xyXG5cdCAgICogICAgIHJldHVybiBuZXcgUGFyc2VDbGFzcygnRmlyc3QnLCB7Li4ufSk7XHJcblx0ICAgKiAgIH1dKVxyXG5cdCAgICogICAuZmFjdG9yeSgnU2Vjb25kUGFyc2VDbGFzcycsIFsnUGFyc2VDbGFzcycsIGZ1bmN0aW9uKFBhcnNlQ2xhc3MpIHtcclxuXHQgICAqICAgICByZXR1cm4gbmV3IFBhcnNlQ2xhc3MoJ1NlY29uZCcsIHsuLi59KTtcclxuXHQgICAqICAgfV0pXHJcblx0ICAgKiAgIC5jb25maWcoWydQYXJzZUNsYXNzUHJvdmlkZXInLCBmdW5jdGlvbihQYXJzZUNsYXNzUHJvdmlkZXIpIHtcclxuXHQgICAqICAgICBQYXJzZUNsYXNzUHJvdmlkZXIucmVnaXN0ZXIoJ0ZpcnN0UGFyc2VDbGFzcycsICdTZWNvbmRQYXJzZUNsYXNzJyk7XHJcblx0ICAgKiAgIH1dKTtcclxuXHQgICAqIDwvcHJlPlxyXG5cdCAgICpcclxuXHQgICAqIEBwYXJhbSB7Li4uc3RyaW5nfHN0cmluZ1tdfSBjbGFzc2VzIENsYXNzIG5hbWVzIGZvciByZWdpc3RyYXRpb24uXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGNsYXNzZXMpIHtcclxuXHQgICAgaWYgKCEoY2xhc3NlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG5cdCAgICAgIGNsYXNzZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBjbGFzc2VzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0ICAgICAgcHJvdmlkZXIuJGNsYXNzZXNbY2xhc3Nlc1tpXV0gPSBjbGFzc2VzW2ldO1xyXG5cdCAgICB9XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2Mgc2VydmljZVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzXHJcblx0ICAgKlxyXG5cdCAgICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcblx0ICAgKiBbYFBhcnNlLk9iamVjdC5leHRlbmRgXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLk9iamVjdC5odG1sIy5leHRlbmR9LlxyXG5cdCAgICogQ3JlYXRlcyBhIG5ldyBzdWJjbGFzcyBvZiBQYXJzZS5PYmplY3QgZm9yIHRoZSBnaXZlbiBQYXJzZSBjbGFzcyBuYW1lLlxyXG5cdCAgICpcclxuXHQgICAqIDxwcmU+XHJcblx0ICAgKiAvLyBjbGFzcyBkZWZpbml0aW9uIHdpdGggJGF0dHJpYnV0ZXNcclxuXHQgICAqIHZhciBEZW1vQ2xhc3MgPSBuZXcgUGFyc2VDbGFzcygnRGVtbycsIHtcclxuXHQgICAqICAgJGF0dHJpYnV0ZXM6IFsnZmlyc3QnLCAnc2Vjb25kJywgLi4uXVxyXG5cdCAgICogfSk7XHJcblx0ICAgKlxyXG5cdCAgICogdmFyIGRlbW9PYmplY3QgPSBuZXcgRGVtb0NsYXNzKCk7XHJcblx0ICAgKlxyXG5cdCAgICogLy8gYXR0cmlidXRlIHNldHRlclxyXG5cdCAgICogZGVtb09iamVjdC5zZXQoJ2ZpcnN0JywgJ2ZpcnN0IHZhbHVlJyk7XHJcblx0ICAgKlxyXG5cdCAgICogLy8gJGF0dHJpYnV0ZXMgZ2V0dGVyXHJcblx0ICAgKiB2YXIgdmFsID0gZGVtb09iamVjdC5maXJzdDtcclxuXHQgICAqIGNvbnNvbGUuYXNzZXJ0KHZhbCA9PSAnZmlyc3QgdmFsdWUnKTtcclxuXHQgICAqXHJcblx0ICAgKiAvLyAkYXR0cmlidXRlcyBzZXR0ZXJcclxuXHQgICAqIGRlbW9PYmplY3QuZmlyc3QgPSAnb3RoZXIgdmFsdWUnO1xyXG5cdCAgICpcclxuXHQgICAqIC8vIGF0dHJpYnV0ZSBnZXR0ZXJcclxuXHQgICAqIHZhciB2YWwgPSBkZW1vT2JqZWN0LmdldCgnZmlyc3QnKTtcclxuXHQgICAqIGNvbnNvbGUuYXNzZXJ0KHZhbCA9PSAnb3RoZXIgdmFsdWUnKTtcclxuXHQgICAqIDwvcHJlPlxyXG5cdCAgICpcclxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgVGhlIG5hbWUgb2YgdGhlIFBhcnNlIGNsYXNzLlxyXG5cdCAgICogQHBhcmFtIHtvYmplY3Q9fSBwcm90b1Byb3BzIFtJbnN0YW5jZSBwcm9wZXJ0aWVzXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLk9iamVjdC5odG1sI2NvbnN0cnVjdG9yfS5cclxuXHQgICAqIEBwYXJhbSB7c3RyaW5nW109fSBwcm90b1Byb3BzLiRhdHRyaWJ1dGVzIERlZmluZXMgRVM1IGdldHRlcnMgYW5kIHNldHRlcnMgZm9yIHRoZSBhdHRyaWJ1dGVzLlxyXG5cdCAgICogQHBhcmFtIHtvYmplY3Q9fSBjbGFzc1Byb3BzIFtTdGF0aWMgY2xhc3MgcHJvcGVydGllc117QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5PYmplY3QuaHRtbCNjb25zdHJ1Y3Rvcn0uXHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLiRnZXQgPSAkZ2V0O1xyXG5cdCAgJGdldC4kaW5qZWN0ID0gWydQYXJzZVV0aWxzJ107XHJcblx0ICBmdW5jdGlvbiAkZ2V0KFBhcnNlVXRpbHMpIHtcclxuXHQgICAgdmFyIGV4dGVuZCA9IFBhcnNlLk9iamVjdC5leHRlbmQuYmluZChQYXJzZS5PYmplY3QpO1xyXG5cdFxyXG5cdCAgICBmdW5jdGlvbiBQYXJzZUNsYXNzKGNsYXNzTmFtZSwgcHJvdG9Qcm9wcywgY2xhc3NQcm9wcykge1xyXG5cdCAgICAgIHZhciBwYXJzZUNsYXNzID0gZXh0ZW5kKGNsYXNzTmFtZSwgcHJvdG9Qcm9wcywgY2xhc3NQcm9wcyk7XHJcblx0XHJcblx0ICAgICAgaWYgKHByb3RvUHJvcHMgJiYgdHlwZW9mIHByb3RvUHJvcHMgPT0gJ29iamVjdCcpIHtcclxuXHQgICAgICAgIGlmIChwcm90b1Byb3BzLiRhdHRyaWJ1dGVzIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuXHQgICAgICAgICAgUGFyc2VVdGlscy5kZWZpbmVBdHRyaWJ1dGVzKHBhcnNlQ2xhc3MucHJvdG90eXBlLCBwcm90b1Byb3BzLiRhdHRyaWJ1dGVzKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICB9XHJcblx0XHJcblx0ICAgICAgcGFyc2VDbGFzcy5kZWZpbmVBdHRyaWJ1dGVzID0gUGFyc2VVdGlscy5kZWZpbmVBdHRyaWJ1dGVzLmJpbmQoUGFyc2VVdGlscywgcGFyc2VDbGFzcy5wcm90b3R5cGUpO1xyXG5cdFxyXG5cdCAgICAgIHJldHVybiBwYXJzZUNsYXNzO1xyXG5cdCAgICB9XHJcblx0XHJcblx0ICAgIFBhcnNlQ2xhc3MuJGNsYXNzZXMgPSBwcm92aWRlci4kY2xhc3NlcztcclxuXHRcclxuXHQgICAgUGFyc2UuQ2xhc3MgPSBQYXJzZUNsYXNzO1xyXG5cdFxyXG5cdCAgICByZXR1cm4gUGFyc2VDbGFzcztcclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0ICogQG5hbWUgaW5pdFxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzICRpbmplY3RvclxyXG5cdCAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlQ2xhc3NcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIEluaXRpYWxpemVzIHJlZ2lzdGVyZWQgY2xhc3Nlcy5cclxuXHQgKi9cclxuXHRpbml0LiRpbmplY3QgPSBbJyRpbmplY3RvcicsICdQYXJzZUNsYXNzJ107XHJcblx0ZnVuY3Rpb24gaW5pdCgkaW5qZWN0b3IsIFBhcnNlQ2xhc3MpIHtcclxuXHQgIGZvciAodmFyIGkgaW4gUGFyc2VDbGFzcy4kY2xhc3Nlcykge1xyXG5cdCAgICBpZiAoIVBhcnNlQ2xhc3MuJGNsYXNzZXMuaGFzT3duUHJvcGVydHkoaSkpIGNvbnRpbnVlO1xyXG5cdCAgICBQYXJzZUNsYXNzLiRjbGFzc2VzW2ldID0gJGluamVjdG9yLmdldChpKTtcclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAucHJvdmlkZXIoJ1BhcnNlQ2xhc3MnLCBQYXJzZUNsYXNzUHJvdmlkZXIpXHJcblx0ICAucnVuKGluaXQpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBQYXJzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNCkuUGFyc2U7XHJcblx0dmFyIG5nUGFyc2VNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBuZ2RvYyBvYmplY3RcclxuXHQgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyXHJcblx0ICpcclxuXHQgKiBAZGVzY3JpcHRpb25cclxuXHQgKiBQcm92aWRlciBmb3IgUGFyc2VGYWNlYm9va1V0aWxzIHNlcnZpY2UuXHJcblx0ICovXHJcblx0UGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIuJGluamVjdCA9IFtdO1xyXG5cdGZ1bmN0aW9uIFBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyKCkge1xyXG5cdCAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIHByb3BlcnR5XHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyI0ZhY2Vib29rVXRpbHNcclxuXHQgICAqIEBwcm9wZXJ0eU9mIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXJcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIFNlZSBbRmFjZWJvb2tVdGlsc117QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5GYWNlYm9va1V0aWxzLmh0bWx9XHJcblx0ICAgKi9cclxuXHQgIHByb3ZpZGVyLkZhY2Vib29rVXRpbHMgPSBQYXJzZS5GYWNlYm9va1V0aWxzO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgbWV0aG9kXHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyI2luaXRpYWxpemVcclxuXHQgICAqIEBhbGlhcyBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyI2luaXRcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBJbml0aWFsaXplcyBQYXJzZSBGYWNlYm9vayBpbnRlZ3JhdGlvbi5cclxuXHQgICAqIFNlZSBbYFBhcnNlLkZhY2Vib29rVXRpbHMuaW5pdGBde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuRmFjZWJvb2tVdGlscy5odG1sIy5pbml0fS5cclxuXHQgICAqXHJcblx0ICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAgRmFjZWJvb2sgb3B0aW9ucyBhcmd1bWVudC5cclxuXHQgICAqIFNlZSBbYFBhcnNlLkZhY2Vib29rVXRpbHMuaW5pdGBde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuRmFjZWJvb2tVdGlscy5odG1sIy5pbml0fS5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuaW5pdGlhbGl6ZSA9IHByb3ZpZGVyLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG5cdCAgICBQYXJzZS5GYWNlYm9va1V0aWxzLmluaXQob3B0aW9ucyk7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2Mgb2JqZWN0XHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1xyXG5cdCAgICpcclxuXHQgICAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIFRoaXMgaXMgYSB3cmFwcGVyIGZvclxyXG5cdCAgICogW1BhcnNlLkZhY2Vib29rVXRpbHNde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuRmFjZWJvb2tVdGlscy5odG1sfS5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuJGdldCA9ICRnZXQ7XHJcblx0ICAkZ2V0LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuXHQgIGZ1bmN0aW9uICRnZXQoUGFyc2VVdGlscykge1xyXG5cdCAgICB2YXIgUGFyc2VGYWNlYm9va1V0aWxzID0gUGFyc2UuRmFjZWJvb2tVdGlscztcclxuXHRcclxuXHQgICAgaWYgKFBhcnNlLiQkaW5pdCkgcmV0dXJuIFBhcnNlRmFjZWJvb2tVdGlscztcclxuXHRcclxuXHQgICAgUGFyc2VVdGlscy53cmFwTWV0aG9kcyhQYXJzZUZhY2Vib29rVXRpbHMsIFsnbGluaycsICdsb2dJbicsICd1bmxpbmsnXSk7XHJcblx0XHJcblx0ICAgIHJldHVybiBQYXJzZUZhY2Vib29rVXRpbHM7XHJcblx0ICB9XHJcblx0fVxyXG5cdFxyXG5cdG1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG5cdCAgLnByb3ZpZGVyKCdQYXJzZUZhY2Vib29rVXRpbHMnLCBQYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlcik7XHJcblxuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFBhcnNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KS5QYXJzZTtcclxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXJcclxuXHQgKlxyXG5cdCAqIEBkZXNjcmlwdGlvblxyXG5cdCAqIFByb3ZpZGVyIGZvciBQYXJzZVVzZXIgc2VydmljZS5cclxuXHQgKi9cclxuXHRQYXJzZVVzZXJQcm92aWRlci4kaW5qZWN0ID0gW107XHJcblx0ZnVuY3Rpb24gUGFyc2VVc2VyUHJvdmlkZXIoKSB7XHJcblx0ICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xyXG5cdCAgcHJvdmlkZXIuVXNlciA9IFBhcnNlLlVzZXI7XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBtZXRob2RcclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXIjcmVnaXN0ZXJcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBDaGVja3Mgd2hldGhlciB0aGlzIHVzZXIgaXMgdGhlIGN1cnJlbnQgdXNlciBhbmQgaGFzIGJlZW4gYXV0aGVudGljYXRlZC5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuYXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uKCkge1xyXG5cdCAgICByZXR1cm4gQm9vbGVhbihQYXJzZS5Vc2VyLmN1cnJlbnQoKSk7XHJcblx0ICB9O1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2Mgc2VydmljZVxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVVzZXJcclxuXHQgICAqXHJcblx0ICAgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVV0aWxzXHJcblx0ICAgKlxyXG5cdCAgICogQGRlc2NyaXB0aW9uXHJcblx0ICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3JcclxuXHQgICAqIFtQYXJzZS5QYXJzZVVzZXJde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuVXNlci5odG1sfS5cclxuXHQgICAqL1xyXG5cdCAgcHJvdmlkZXIuJGdldCA9ICRnZXQ7XHJcblx0ICAkZ2V0LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuXHQgIGZ1bmN0aW9uICRnZXQoUGFyc2VVdGlscykge1xyXG5cdCAgICB2YXIgUGFyc2VVc2VyID0gUGFyc2UuVXNlcjtcclxuXHRcclxuXHQgICAgaWYgKFBhcnNlLiQkaW5pdCkgcmV0dXJuIFBhcnNlVXNlcjtcclxuXHRcclxuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUGFyc2VVc2VyLnByb3RvdHlwZSwge1xyXG5cdCAgICAgIHVzZXJuYW1lOiB7XHJcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXNlcm5hbWUoKTtcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdCAgICAgICAgICB0aGlzLnNldFVzZXJuYW1lKHZhbHVlKTtcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXHJcblx0ICAgICAgfSxcclxuXHQgICAgICBwYXNzd29yZDoge1xyXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgIHJldHVybiB0aGlzLmdldCgncGFzc3dvcmQnKTtcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdCAgICAgICAgICB0aGlzLnNldFBhc3N3b3JkKHZhbHVlKTtcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcblx0ICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXHJcblx0ICAgICAgfSxcclxuXHQgICAgICBlbWFpbDoge1xyXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgIHJldHVybiB0aGlzLmdldEVtYWlsKCk7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHQgICAgICAgICAgdGhpcy5zZXRFbWFpbCh2YWx1ZSk7XHJcblx0ICAgICAgICB9LFxyXG5cdCAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxyXG5cdCAgICAgIH0sXHJcblx0ICAgICAgYXV0aDoge1xyXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgIHJldHVybiB0aGlzLmF1dGhlbnRpY2F0ZWQoKTtcclxuXHQgICAgICAgIH0sXHJcblx0ICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcblx0ICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxyXG5cdCAgICAgIH0sXHJcblx0ICAgICAgY3VycmVudDoge1xyXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgIHJldHVybiB0aGlzLmlzQ3VycmVudCgpO1xyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuXHQgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXHJcblx0ICAgICAgfVxyXG5cdCAgICB9KTtcclxuXHRcclxuXHQgICAgUGFyc2VVc2VyLmRlZmluZUF0dHJpYnV0ZXMgPSBQYXJzZVV0aWxzLmRlZmluZUF0dHJpYnV0ZXMuYmluZChQYXJzZVV0aWxzLCBQYXJzZVVzZXIucHJvdG90eXBlKTtcclxuXHRcclxuXHQgICAgUGFyc2VVdGlscy53cmFwTWV0aG9kcyhQYXJzZVVzZXIsIFsnYmVjb21lJywgJ2VuYWJsZVJldm9jYWJsZVNlc3Npb24nLCAnbG9nSW4nLCAnbG9nT3V0JywgJ3JlcXVlc3RQYXNzd29yZFJlc2V0JywgJ3NpZ25VcCddKTtcclxuXHQgICAgUGFyc2VVdGlscy53cmFwTWV0aG9kcyhQYXJzZVVzZXIucHJvdG90eXBlLCBbJ2xvZ0luJywgJ3NpZ25VcCddKTtcclxuXHRcclxuXHQgICAgcmV0dXJuIFBhcnNlVXNlcjtcclxuXHQgIH1cclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAucHJvdmlkZXIoJ1BhcnNlVXNlcicsIFBhcnNlVXNlclByb3ZpZGVyKTtcclxuXG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgbmdQYXJzZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcblx0XHJcblx0LyoqXHJcblx0ICogQG5nZG9jIG9iamVjdFxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzICRxXHJcblx0ICpcclxuXHQgKiBAZGVzY3JpcHRpb25cclxuXHQgKiBVdGlscy5cclxuXHQgKi9cclxuXHRQYXJzZVV0aWxzU2VydmljZS4kaW5qZWN0ID0gWyckcSddO1xyXG5cdGZ1bmN0aW9uIFBhcnNlVXRpbHNTZXJ2aWNlKCRxKSB7XHJcblx0ICB0aGlzLndyYXBQcm9taXNlID0gd3JhcFByb21pc2U7XHJcblx0ICB0aGlzLndyYXBNZXRob2RzID0gd3JhcE1ldGhvZHM7XHJcblx0ICB0aGlzLmRlZmluZUF0dHJpYnV0ZXMgPSBkZWZpbmVBdHRyaWJ1dGVzO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVdGlscyN3cmFwUHJvbWlzZVxyXG5cdCAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogV3JhcCBmdW5jdGlvbiB0aGF0IHJldHVybnMgW1BhcnNlLlByb21pc2Vde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUHJvbWlzZS5odG1sfVxyXG5cdCAgICogaW50byBmdW5jdGlvbiB0aGF0IHJldHVybnMgJHEgcHJvbWlzZS5cclxuXHQgICAqXHJcblx0ICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIEZ1bmN0aW9uIHRoYXQgcmV0dXJuc1xyXG5cdCAgICogW1BhcnNlLlByb21pc2Vde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUHJvbWlzZS5odG1sfS5cclxuXHQgICAqXHJcblx0ICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgcmV0dXJucyAkcSBwcm9taXNlLlxyXG5cdCAgICovXHJcblx0ICBmdW5jdGlvbiB3cmFwUHJvbWlzZShmdW5jKSB7XHJcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG5cdCAgICAgIHZhciBwcm9taXNlID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcclxuXHQgICAgICByZXR1cm4gJHEocHJvbWlzZS50aGVuLmJpbmQocHJvbWlzZSkpO1xyXG5cdCAgICB9O1xyXG5cdCAgfVxyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuXHQgICAqIEBuYW1lIHdyYXBNZXRob2RcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIFdyYXAgb2JqZWN0IG1ldGhvZCB0aGF0IHJldHVybnNcclxuXHQgICAqIFtQYXJzZS5Qcm9taXNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlByb21pc2UuaHRtbH1cclxuXHQgICAqIGludG8gZnVuY3Rpb24gdGhhdCByZXR1cm5zICRxIHByb21pc2UuXHJcblx0ICAgKlxyXG5cdCAgICogQHBhcmFtIHtvYmplY3R9IG9iamVjdCBPYmplY3QuXHJcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBNZXRob2QgbmFtZS5cclxuXHQgICAqL1xyXG5cdCAgZnVuY3Rpb24gd3JhcE1ldGhvZChvYmplY3QsIG1ldGhvZE5hbWUpIHtcclxuXHQgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gd3JhcFByb21pc2Uob2JqZWN0W21ldGhvZE5hbWVdKTtcclxuXHQgIH1cclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlVXRpbHMjd3JhcE1ldGhvZHNcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIFdyYXAgZWFjaCBvYmplY3QgbWV0aG9kIHRoYXQgcmV0dXJuc1xyXG5cdCAgICogW1BhcnNlLlByb21pc2Vde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUHJvbWlzZS5odG1sfVxyXG5cdCAgICogaW50byBmdW5jdGlvbiB0aGF0IHJldHVybnMgJHEgcHJvbWlzZS5cclxuXHQgICAqXHJcblx0ICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IE9iamVjdC5cclxuXHQgICAqIEBwYXJhbSB7Li4uc3RyaW5nfHN0cmluZ1tdfSBtZXRob2ROYW1lcyBNZXRob2QgbmFtZXMuXHJcblx0ICAgKi9cclxuXHQgIGZ1bmN0aW9uIHdyYXBNZXRob2RzKG9iamVjdCwgbWV0aG9kTmFtZXMpIHtcclxuXHQgICAgaWYgKCEobWV0aG9kTmFtZXMgaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuXHQgICAgICBtZXRob2ROYW1lcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG1ldGhvZE5hbWVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0ICAgICAgd3JhcE1ldGhvZChvYmplY3QsIG1ldGhvZE5hbWVzW2ldKTtcclxuXHQgICAgfVxyXG5cdCAgfVxyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuXHQgICAqIEBuYW1lIGRlZmluZUF0dHJpYnV0ZVxyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogRGVmaW5lcyB0aGUgYXR0cmlidXRlIG9mIGFuIG9iamVjdC5cclxuXHQgICAqXHJcblx0ICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IE9iamVjdC5cclxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgQXR0cmlidXRlIG5hbWUuXHJcblx0ICAgKi9cclxuXHQgIGZ1bmN0aW9uIGRlZmluZUF0dHJpYnV0ZShvYmplY3QsIGF0dHJpYnV0ZSkge1xyXG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBhdHRyaWJ1dGUsIHtcclxuXHQgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgIHJldHVybiB0aGlzLmdldChhdHRyaWJ1dGUpO1xyXG5cdCAgICAgIH0sXHJcblx0ICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHQgICAgICAgIHRoaXMuc2V0KGF0dHJpYnV0ZSwgdmFsdWUpO1xyXG5cdCAgICAgIH0sXHJcblx0ICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG5cdCAgICAgIGVudW1lcmFibGU6IHRydWVcclxuXHQgICAgfSk7XHJcblx0ICB9XHJcblx0XHJcblx0ICAvKipcclxuXHQgICAqIEBuZ2RvYyBmdW5jdGlvblxyXG5cdCAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVV0aWxzI2RlZmluZUF0dHJpYnV0ZXNcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuXHQgICAqXHJcblx0ICAgKiBAZGVzY3JpcHRpb25cclxuXHQgICAqIERlZmluZXMgdGhlIGF0dHJpYnV0ZXMgb2YgYW4gb2JqZWN0LlxyXG5cdCAgICpcclxuXHQgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgT2JqZWN0LlxyXG5cdCAgICogQHBhcmFtIHsuLi5zdHJpbmd8c3RyaW5nW119IGF0dHJpYnV0ZXMgQXR0cmlidXRlIG5hbWVzLlxyXG5cdCAgICovXHJcblx0ICBmdW5jdGlvbiBkZWZpbmVBdHRyaWJ1dGVzKG9iamVjdCwgYXR0cmlidXRlcykge1xyXG5cdCAgICBpZiAoIShhdHRyaWJ1dGVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcblx0ICAgICAgYXR0cmlidXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcblx0ICAgIH1cclxuXHRcclxuXHQgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGF0dHJpYnV0ZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHQgICAgICBkZWZpbmVBdHRyaWJ1dGUob2JqZWN0LCBhdHRyaWJ1dGVzW2ldKTtcclxuXHQgICAgfVxyXG5cdCAgfVxyXG5cdH1cclxuXHRcclxuXHRtb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuXHQgIC5zZXJ2aWNlKCdQYXJzZVV0aWxzJywgUGFyc2VVdGlsc1NlcnZpY2UpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBQYXJzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNCkuUGFyc2U7XHJcblx0dmFyIG5nUGFyc2VNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBuZ2RvYyBzZXJ2aWNlXHJcblx0ICogQG5hbWUgbmdQYXJzZS5QYXJzZU9iamVjdFxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcblx0ICogW1BhcnNlLk9iamVjdF17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5PYmplY3QuaHRtbH0uXHJcblx0ICovXHJcblx0UGFyc2VPYmplY3RGYWN0b3J5LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuXHRmdW5jdGlvbiBQYXJzZU9iamVjdEZhY3RvcnkoUGFyc2VVdGlscykge1xyXG5cdCAgdmFyIFBhcnNlT2JqZWN0ID0gUGFyc2UuT2JqZWN0O1xyXG5cdFxyXG5cdCAgaWYgKFBhcnNlLiQkaW5pdCkgcmV0dXJuIFBhcnNlT2JqZWN0O1xyXG5cdFxyXG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcnNlT2JqZWN0LnByb3RvdHlwZSwgJyRpZCcsIHtcclxuXHQgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgcmV0dXJuIHRoaXMuJCRpZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuJCRpZCA9PT0gbnVsbCA/IHRoaXMuaWQgOiB0aGlzLiQkaWQ7XHJcblx0ICAgIH0sXHJcblx0ICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0ICAgICAgdGhpcy4kJGlkID0gdmFsdWU7XHJcblx0ICAgIH0sXHJcblx0ICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXHJcblx0ICAgIGVudW1lcmFibGU6IGZhbHNlXHJcblx0ICB9KTtcclxuXHRcclxuXHQgIFBhcnNlVXRpbHMud3JhcE1ldGhvZHMoUGFyc2VPYmplY3QsIFsnZGVzdHJveUFsbCcsICdmZXRjaEFsbCcsICdmZXRjaEFsbElmTmVlZGVkJywgJ3NhdmVBbGwnXSk7XHJcblx0ICBQYXJzZVV0aWxzLndyYXBNZXRob2RzKFBhcnNlT2JqZWN0LnByb3RvdHlwZSwgWydkZXN0cm95JywgJ2ZldGNoJywgJ3NhdmUnXSk7XHJcblx0XHJcblx0ICAvL2NvbmZsaWN0IHdpdGggUGFyc2VVc2VyLnByb3RvdHlwZS5kZWZpbmVBdHRyaWJ1dGVzXHJcblx0ICAvL1BhcnNlT2JqZWN0LmRlZmluZUF0dHJpYnV0ZXMgPSBQYXJzZVV0aWxzLmRlZmluZUF0dHJpYnV0ZXMuYmluZChQYXJzZVV0aWxzLCBQYXJzZU9iamVjdC5wcm90b3R5cGUpO1xyXG5cdFxyXG5cdCAgLyoqXHJcblx0ICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuXHQgICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VPYmplY3QucHJvdG90eXBlI2lzRGlydHlcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlT2JqZWN0LnByb3RvdHlwZVxyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogQ2hlY2sgd2hldGhlciB0aGUgb2JqZWN0IGlzIGRpcnR5LlxyXG5cdCAgICpcclxuXHQgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIGRpcnR5LlxyXG5cdCAgICovXHJcblx0ICBQYXJzZU9iamVjdC5wcm90b3R5cGUuaXNEaXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5kaXJ0eUtleXMoKS5sZW5ndGgpO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIC8qKlxyXG5cdCAgICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0ICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlT2JqZWN0LnByb3RvdHlwZSNpc0NyZWF0ZWRcclxuXHQgICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlT2JqZWN0LnByb3RvdHlwZVxyXG5cdCAgICpcclxuXHQgICAqIEBkZXNjcmlwdGlvblxyXG5cdCAgICogQ2hlY2sgd2hldGhlciB0aGUgb2JqZWN0IGlzIGNyZWF0ZWQuXHJcblx0ICAgKlxyXG5cdCAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgY3JlYXRlZC5cclxuXHQgICAqL1xyXG5cdCAgUGFyc2VPYmplY3QucHJvdG90eXBlLmlzQ3JlYXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuXHQgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5jcmVhdGVkQXQpO1xyXG5cdCAgfTtcclxuXHRcclxuXHQgIHJldHVybiBQYXJzZU9iamVjdDtcclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAuZmFjdG9yeSgnUGFyc2VPYmplY3QnLCBQYXJzZU9iamVjdEZhY3RvcnkpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgUGFyc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLlBhcnNlO1xyXG5cdHZhciBuZ1BhcnNlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBAbmdkb2Mgc2VydmljZVxyXG5cdCAqIEBuYW1lIG5nUGFyc2UuUGFyc2VRdWVyeVxyXG5cdCAqXHJcblx0ICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG5cdCAqXHJcblx0ICogQGRlc2NyaXB0aW9uXHJcblx0ICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcblx0ICogW1BhcnNlLlBhcnNlUXVlcnlde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUXVlcnkuaHRtbH0uXHJcblx0ICovXHJcblx0UGFyc2VRdWVyeUZhY3RvcnkuJGluamVjdCA9IFsnUGFyc2VVdGlscyddO1xyXG5cdGZ1bmN0aW9uIFBhcnNlUXVlcnlGYWN0b3J5KFBhcnNlVXRpbHMpIHtcclxuXHQgIHZhciBQYXJzZVF1ZXJ5ID0gUGFyc2UuUXVlcnk7XHJcblx0XHJcblx0ICBpZiAoUGFyc2UuJCRpbml0KSByZXR1cm4gUGFyc2VRdWVyeTtcclxuXHRcclxuXHQgIFBhcnNlVXRpbHMud3JhcE1ldGhvZHMoUGFyc2VRdWVyeS5wcm90b3R5cGUsIFsnY291bnQnLCAnZWFjaCcsICdmaW5kJywgJ2ZpcnN0JywgJ2dldCddKTtcclxuXHRcclxuXHQgIHJldHVybiBQYXJzZVF1ZXJ5O1xyXG5cdH1cclxuXHRcclxuXHRtb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuXHQgIC5mYWN0b3J5KCdQYXJzZVF1ZXJ5JywgUGFyc2VRdWVyeUZhY3RvcnkpO1xyXG5cblxuLyoqKi8gfSxcbi8qIDExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgUGFyc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLlBhcnNlO1xyXG5cdHZhciBuZ1BhcnNlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBAbmdkb2Mgb2JqZWN0XHJcblx0ICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsb3VkXHJcblx0ICpcclxuXHQgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVV0aWxzXHJcblx0ICpcclxuXHQgKiBAZGVzY3JpcHRpb25cclxuXHQgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3JcclxuXHQgKiBbUGFyc2UuQ2xvdWRde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuQ2xvdWQuaHRtbH0uXHJcblx0ICovXHJcblx0UGFyc2VDbG91ZEZhY3RvcnkuJGluamVjdCA9IFsnUGFyc2VVdGlscyddO1xyXG5cdGZ1bmN0aW9uIFBhcnNlQ2xvdWRGYWN0b3J5KFBhcnNlVXRpbHMpIHtcclxuXHQgIHZhciBQYXJzZUNsb3VkID0gUGFyc2UuQ2xvdWQ7XHJcblx0XHJcblx0ICBpZiAoUGFyc2UuJCRpbml0KSByZXR1cm4gUGFyc2VDbG91ZDtcclxuXHRcclxuXHQgIFBhcnNlVXRpbHMud3JhcE1ldGhvZHMoUGFyc2VDbG91ZCwgWydydW4nXSk7XHJcblx0XHJcblx0ICByZXR1cm4gUGFyc2VDbG91ZDtcclxuXHR9XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcblx0ICAuZmFjdG9yeSgnUGFyc2VDbG91ZCcsIFBhcnNlQ2xvdWRGYWN0b3J5KTtcclxuXG5cbi8qKiovIH1cbi8qKioqKiovIF0pO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIGFuZ3VsYXItcGFyc2UuanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIDU3ZThhNzMxOGFhMDJhNjk4Yzc5XG4gKiovIiwidmFyIG5nUGFyc2VNb2R1bGUgPSByZXF1aXJlKCcuL21vZHVsZS5qcycpO1xyXG5yZXF1aXJlKCcuL1BhcnNlLmpzJyk7XHJcbnJlcXVpcmUoJy4vVXRpbHMuanMnKTtcclxucmVxdWlyZSgnLi9PYmplY3QuanMnKTtcclxucmVxdWlyZSgnLi9DbGFzcy5qcycpO1xyXG5yZXF1aXJlKCcuL1F1ZXJ5LmpzJyk7XHJcbnJlcXVpcmUoJy4vQ2xvdWQuanMnKTtcclxucmVxdWlyZSgnLi9Vc2VyLmpzJyk7XHJcbnJlcXVpcmUoJy4vRmFjZWJvb2tVdGlscycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlLm5hbWU7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgYW5ndWxhciA9IHJlcXVpcmUoJ2FuZ3VsYXInKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgb3ZlcnZpZXdcclxuICogQG5hbWUgbmdQYXJzZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogIyBuZ1BhcnNlXHJcbiAqIEFuZ3VsYXIgd3JhcHBlciBmb3IgW1BhcnNlLmNvbSBKYXZhU2NyaXB0IFNES117QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9ndWlkZX0uXHJcbiAqXHJcbiAqIDxwcmU+XHJcbiAqIDwhZG9jdHlwZSBodG1sPlxyXG4gKiA8aHRtbCBuZy1hcHA9XCJkZW1vXCI+XHJcbiAqIDxoZWFkPlxyXG4gKiAgIDxzY3JpcHQgc3JjPVwicGF0aC90by9hbmd1bGFyLmpzXCI+PC9zY3JpcHQ+XHJcbiAqICAgPCEtLSBJbmNsdWRlIHRoZSBuZ1BhcnNlIHNjcmlwdCAtLT5cclxuICogICA8c2NyaXB0IHNyYz1cInBhdGgvdG8vYW5ndWxhci1wYXJzZS5qc1wiPjwvc2NyaXB0PlxyXG4gKiAgIDxzY3JpcHQ+XHJcbiAqICAgICAvLyBhZGQgJ25nUGFyc2UnIGFzIGEgZGVwZW5kZW5jeVxyXG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ2RlbW8nLCBbJ25nUGFyc2UnXSk7XHJcbiAqICAgPC9zY3JpcHQ+XHJcbiAqIDwvaGVhZD5cclxuICogPGJvZHk+XHJcbiAqIDwvYm9keT5cclxuICogPC9odG1sPlxyXG4gKiA8L3ByZT5cclxuICovXHJcbnZhciBuZ1BhcnNlTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ25nUGFyc2UnLCBbXSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGU7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvbW9kdWxlLmpzXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuYW5ndWxhcjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwid2luZG93LmFuZ3VsYXJcIlxuICoqIG1vZHVsZSBpZCA9IDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBQYXJzZSA9IHJlcXVpcmUoJ3BhcnNlJykuUGFyc2U7XHJcbnZhciBuZ1BhcnNlTW9kdWxlID0gcmVxdWlyZSgnLi9tb2R1bGUuanMnKTtcclxucmVxdWlyZSgnLi9DbGFzcy5qcycpO1xyXG5yZXF1aXJlKCcuL0ZhY2Vib29rVXRpbHMuanMnKTtcclxucmVxdWlyZSgnLi9Vc2VyLmpzJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIG9iamVjdFxyXG4gKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuICpcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VDbGFzc1Byb3ZpZGVyXHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyXHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBQcm92aWRlciBmb3IgUGFyc2Ugc2VydmljZS5cclxuICovXHJcblBhcnNlUHJvdmlkZXIuJGluamVjdCA9IFsnUGFyc2VDbGFzc1Byb3ZpZGVyJywgJ1BhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyJywgJ1BhcnNlVXNlclByb3ZpZGVyJ107XHJcbmZ1bmN0aW9uIFBhcnNlUHJvdmlkZXIoUGFyc2VDbGFzc1Byb3ZpZGVyLCBQYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlciwgUGFyc2VVc2VyUHJvdmlkZXIpIHtcclxuICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUHJvdmlkZXIjUGFyc2VcclxuICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuICAgKi9cclxuICBwcm92aWRlci5QYXJzZSA9IFBhcnNlO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlUHJvdmlkZXIjQ2xhc3NcclxuICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuICAgKi9cclxuICBwcm92aWRlci5DbGFzcyA9IFBhcnNlQ2xhc3NQcm92aWRlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI0ZhY2Vib29rVXRpbHNcclxuICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlUHJvdmlkZXJcclxuICAgKi9cclxuICBwcm92aWRlci5GYWNlYm9va1V0aWxzID0gUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VQcm92aWRlciNVc2VyXHJcbiAgICogQHByb3BlcnR5T2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuVXNlciA9IFBhcnNlVXNlclByb3ZpZGVyO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVByb3ZpZGVyI2luaXRpYWxpemVcclxuICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBJbml0aWFsaXplcyBQYXJzZS5cclxuICAgKiBTZWUgW1BhcnNlLmluaXRpYWxpemVde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuaHRtbCMuaW5pdGlhbGl6ZX0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXBwbGljYXRpb25JZCBZb3VyIFBhcnNlIEFwcGxpY2F0aW9uIElELlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBqYXZhU2NyaXB0S2V5IFlvdXIgUGFyc2UgSmF2YVNjcmlwdCBLZXkuXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChhcHBsaWNhdGlvbklkLCBqYXZhU2NyaXB0S2V5KSB7XHJcbiAgICBQYXJzZS5pbml0aWFsaXplKGFwcGxpY2F0aW9uSWQsIGphdmFTY3JpcHRLZXkpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBvYmplY3RcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3IgW1BhcnNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLmh0bWx9LlxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLiRnZXQgPSAkZ2V0O1xyXG4gICRnZXQuJGluamVjdCA9IFtdO1xyXG4gIGZ1bmN0aW9uICRnZXQoKSB7XHJcbiAgICByZXR1cm4gUGFyc2U7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGluaXRcclxuICpcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VDbGFzc1xyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZUNsb3VkXHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1xyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZU9iamVjdFxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVF1ZXJ5XHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlVXNlclxyXG4gKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVV0aWxzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBJbml0aWFsaXplcyBuZ1BhcnNlIHNlcnZpY2VzLlxyXG4gKi9cclxuaW5pdC4kaW5qZWN0ID0gWydQYXJzZUNsYXNzJywgJ1BhcnNlQ2xvdWQnLCAnUGFyc2VGYWNlYm9va1V0aWxzJywgJ1BhcnNlT2JqZWN0JywgJ1BhcnNlJywgJ1BhcnNlUXVlcnknLCAnUGFyc2VVc2VyJywgJ1BhcnNlVXRpbHMnXTtcclxuZnVuY3Rpb24gaW5pdChQYXJzZUNsYXNzLCBQYXJzZUNsb3VkLCBQYXJzZUZhY2Vib29rVXRpbHMsIFBhcnNlT2JqZWN0LCBQYXJzZSwgUGFyc2VRdWVyeSwgUGFyc2VVc2VyLCBQYXJzZVV0aWxzKSB7XHJcbiAgUGFyc2UuJCRpbml0ID0gdHJ1ZTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcbiAgLnByb3ZpZGVyKCdQYXJzZScsIFBhcnNlUHJvdmlkZXIpXHJcbiAgLnJ1bihpbml0KTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9QYXJzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gd2luZG93LlBhcnNlICYmIHdpbmRvdztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwid2luZG93LlBhcnNlICYmIHdpbmRvd1wiXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIFBhcnNlID0gcmVxdWlyZSgncGFyc2UnKS5QYXJzZTtcclxudmFyIG5nUGFyc2VNb2R1bGUgPSByZXF1aXJlKCcuL21vZHVsZS5qcycpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBvYmplY3RcclxuICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFByb3ZpZGVyIGZvciBQYXJzZUNsYXNzIHNlcnZpY2UuXHJcbiAqL1xyXG5QYXJzZUNsYXNzUHJvdmlkZXIuJGluamVjdCA9IFtdO1xyXG5mdW5jdGlvbiBQYXJzZUNsYXNzUHJvdmlkZXIoKSB7XHJcbiAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXIjJGNsYXNzZXNcclxuICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlQ2xhc3NQcm92aWRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ2xhc3MgbmFtZXMgZm9yIHJlZ2lzdHJhdGlvbi5cclxuICAgKi9cclxuICBwcm92aWRlci4kY2xhc3NlcyA9IHt9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXIjcmVnaXN0ZXJcclxuICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZUNsYXNzUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJlZ2lzdGVyIGZhY3Rvcmllcywgd2hpY2ggY3JlYXRlIFBhcnNlIGNsYXNzZXMuXHJcbiAgICogSXQgbWF5IGJlIGhlbHBmdWwgdG8gSW5pdGlhbGl6ZSBQYXJzZSBjbGFzc2VzIGJlZm9yZSB1c2luZy5cclxuICAgKlxyXG4gICAqIDxwcmU+XHJcbiAgICogYW5ndWxhci5tb2R1bGUoJ2RlbW8nLCBbJ25nUGFyc2UnXSlcclxuICAgKiAgIC5mYWN0b3J5KCdGaXJzdFBhcnNlQ2xhc3MnLCBbJ1BhcnNlQ2xhc3MnLCBmdW5jdGlvbihQYXJzZUNsYXNzKSB7XHJcbiAgICogICAgIHJldHVybiBuZXcgUGFyc2VDbGFzcygnRmlyc3QnLCB7Li4ufSk7XHJcbiAgICogICB9XSlcclxuICAgKiAgIC5mYWN0b3J5KCdTZWNvbmRQYXJzZUNsYXNzJywgWydQYXJzZUNsYXNzJywgZnVuY3Rpb24oUGFyc2VDbGFzcykge1xyXG4gICAqICAgICByZXR1cm4gbmV3IFBhcnNlQ2xhc3MoJ1NlY29uZCcsIHsuLi59KTtcclxuICAgKiAgIH1dKVxyXG4gICAqICAgLmNvbmZpZyhbJ1BhcnNlQ2xhc3NQcm92aWRlcicsIGZ1bmN0aW9uKFBhcnNlQ2xhc3NQcm92aWRlcikge1xyXG4gICAqICAgICBQYXJzZUNsYXNzUHJvdmlkZXIucmVnaXN0ZXIoJ0ZpcnN0UGFyc2VDbGFzcycsICdTZWNvbmRQYXJzZUNsYXNzJyk7XHJcbiAgICogICB9XSk7XHJcbiAgICogPC9wcmU+XHJcbiAgICpcclxuICAgKiBAcGFyYW0gey4uLnN0cmluZ3xzdHJpbmdbXX0gY2xhc3NlcyBDbGFzcyBuYW1lcyBmb3IgcmVnaXN0cmF0aW9uLlxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLnJlZ2lzdGVyID0gZnVuY3Rpb24gKGNsYXNzZXMpIHtcclxuICAgIGlmICghKGNsYXNzZXMgaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgY2xhc3NlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGNsYXNzZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgcHJvdmlkZXIuJGNsYXNzZXNbY2xhc3Nlc1tpXV0gPSBjbGFzc2VzW2ldO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUNsYXNzXHJcbiAgICpcclxuICAgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVV0aWxzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3JcclxuICAgKiBbYFBhcnNlLk9iamVjdC5leHRlbmRgXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLk9iamVjdC5odG1sIy5leHRlbmR9LlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgc3ViY2xhc3Mgb2YgUGFyc2UuT2JqZWN0IGZvciB0aGUgZ2l2ZW4gUGFyc2UgY2xhc3MgbmFtZS5cclxuICAgKlxyXG4gICAqIDxwcmU+XHJcbiAgICogLy8gY2xhc3MgZGVmaW5pdGlvbiB3aXRoICRhdHRyaWJ1dGVzXHJcbiAgICogdmFyIERlbW9DbGFzcyA9IG5ldyBQYXJzZUNsYXNzKCdEZW1vJywge1xyXG4gICAqICAgJGF0dHJpYnV0ZXM6IFsnZmlyc3QnLCAnc2Vjb25kJywgLi4uXVxyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogdmFyIGRlbW9PYmplY3QgPSBuZXcgRGVtb0NsYXNzKCk7XHJcbiAgICpcclxuICAgKiAvLyBhdHRyaWJ1dGUgc2V0dGVyXHJcbiAgICogZGVtb09iamVjdC5zZXQoJ2ZpcnN0JywgJ2ZpcnN0IHZhbHVlJyk7XHJcbiAgICpcclxuICAgKiAvLyAkYXR0cmlidXRlcyBnZXR0ZXJcclxuICAgKiB2YXIgdmFsID0gZGVtb09iamVjdC5maXJzdDtcclxuICAgKiBjb25zb2xlLmFzc2VydCh2YWwgPT0gJ2ZpcnN0IHZhbHVlJyk7XHJcbiAgICpcclxuICAgKiAvLyAkYXR0cmlidXRlcyBzZXR0ZXJcclxuICAgKiBkZW1vT2JqZWN0LmZpcnN0ID0gJ290aGVyIHZhbHVlJztcclxuICAgKlxyXG4gICAqIC8vIGF0dHJpYnV0ZSBnZXR0ZXJcclxuICAgKiB2YXIgdmFsID0gZGVtb09iamVjdC5nZXQoJ2ZpcnN0Jyk7XHJcbiAgICogY29uc29sZS5hc3NlcnQodmFsID09ICdvdGhlciB2YWx1ZScpO1xyXG4gICAqIDwvcHJlPlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSBUaGUgbmFtZSBvZiB0aGUgUGFyc2UgY2xhc3MuXHJcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBwcm90b1Byb3BzIFtJbnN0YW5jZSBwcm9wZXJ0aWVzXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLk9iamVjdC5odG1sI2NvbnN0cnVjdG9yfS5cclxuICAgKiBAcGFyYW0ge3N0cmluZ1tdPX0gcHJvdG9Qcm9wcy4kYXR0cmlidXRlcyBEZWZpbmVzIEVTNSBnZXR0ZXJzIGFuZCBzZXR0ZXJzIGZvciB0aGUgYXR0cmlidXRlcy5cclxuICAgKiBAcGFyYW0ge29iamVjdD19IGNsYXNzUHJvcHMgW1N0YXRpYyBjbGFzcyBwcm9wZXJ0aWVzXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLk9iamVjdC5odG1sI2NvbnN0cnVjdG9yfS5cclxuICAgKi9cclxuICBwcm92aWRlci4kZ2V0ID0gJGdldDtcclxuICAkZ2V0LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuICBmdW5jdGlvbiAkZ2V0KFBhcnNlVXRpbHMpIHtcclxuICAgIHZhciBleHRlbmQgPSBQYXJzZS5PYmplY3QuZXh0ZW5kLmJpbmQoUGFyc2UuT2JqZWN0KTtcclxuXHJcbiAgICBmdW5jdGlvbiBQYXJzZUNsYXNzKGNsYXNzTmFtZSwgcHJvdG9Qcm9wcywgY2xhc3NQcm9wcykge1xyXG4gICAgICB2YXIgcGFyc2VDbGFzcyA9IGV4dGVuZChjbGFzc05hbWUsIHByb3RvUHJvcHMsIGNsYXNzUHJvcHMpO1xyXG5cclxuICAgICAgaWYgKHByb3RvUHJvcHMgJiYgdHlwZW9mIHByb3RvUHJvcHMgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAocHJvdG9Qcm9wcy4kYXR0cmlidXRlcyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICBQYXJzZVV0aWxzLmRlZmluZUF0dHJpYnV0ZXMocGFyc2VDbGFzcy5wcm90b3R5cGUsIHByb3RvUHJvcHMuJGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcGFyc2VDbGFzcy5kZWZpbmVBdHRyaWJ1dGVzID0gUGFyc2VVdGlscy5kZWZpbmVBdHRyaWJ1dGVzLmJpbmQoUGFyc2VVdGlscywgcGFyc2VDbGFzcy5wcm90b3R5cGUpO1xyXG5cclxuICAgICAgcmV0dXJuIHBhcnNlQ2xhc3M7XHJcbiAgICB9XHJcblxyXG4gICAgUGFyc2VDbGFzcy4kY2xhc3NlcyA9IHByb3ZpZGVyLiRjbGFzc2VzO1xyXG5cclxuICAgIFBhcnNlLkNsYXNzID0gUGFyc2VDbGFzcztcclxuXHJcbiAgICByZXR1cm4gUGFyc2VDbGFzcztcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgaW5pdFxyXG4gKlxyXG4gKiBAcmVxdWlyZXMgJGluamVjdG9yXHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlQ2xhc3NcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEluaXRpYWxpemVzIHJlZ2lzdGVyZWQgY2xhc3Nlcy5cclxuICovXHJcbmluaXQuJGluamVjdCA9IFsnJGluamVjdG9yJywgJ1BhcnNlQ2xhc3MnXTtcclxuZnVuY3Rpb24gaW5pdCgkaW5qZWN0b3IsIFBhcnNlQ2xhc3MpIHtcclxuICBmb3IgKHZhciBpIGluIFBhcnNlQ2xhc3MuJGNsYXNzZXMpIHtcclxuICAgIGlmICghUGFyc2VDbGFzcy4kY2xhc3Nlcy5oYXNPd25Qcm9wZXJ0eShpKSkgY29udGludWU7XHJcbiAgICBQYXJzZUNsYXNzLiRjbGFzc2VzW2ldID0gJGluamVjdG9yLmdldChpKTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG4gIC5wcm92aWRlcignUGFyc2VDbGFzcycsIFBhcnNlQ2xhc3NQcm92aWRlcilcclxuICAucnVuKGluaXQpO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL0NsYXNzLmpzXG4gKiogbW9kdWxlIGlkID0gNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIFBhcnNlID0gcmVxdWlyZSgncGFyc2UnKS5QYXJzZTtcclxudmFyIG5nUGFyc2VNb2R1bGUgPSByZXF1aXJlKCcuL21vZHVsZS5qcycpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBvYmplY3RcclxuICogQG5hbWUgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogUHJvdmlkZXIgZm9yIFBhcnNlRmFjZWJvb2tVdGlscyBzZXJ2aWNlLlxyXG4gKi9cclxuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIuJGluamVjdCA9IFtdO1xyXG5mdW5jdGlvbiBQYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlcigpIHtcclxuICB2YXIgcHJvdmlkZXIgPSB0aGlzO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyI0ZhY2Vib29rVXRpbHNcclxuICAgKiBAcHJvcGVydHlPZiBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZWUgW0ZhY2Vib29rVXRpbHNde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuRmFjZWJvb2tVdGlscy5odG1sfVxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLkZhY2Vib29rVXRpbHMgPSBQYXJzZS5GYWNlYm9va1V0aWxzO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZUZhY2Vib29rVXRpbHNQcm92aWRlciNpbml0aWFsaXplXHJcbiAgICogQGFsaWFzIG5nUGFyc2UuUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIjaW5pdFxyXG4gICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1Byb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBJbml0aWFsaXplcyBQYXJzZSBGYWNlYm9vayBpbnRlZ3JhdGlvbi5cclxuICAgKiBTZWUgW2BQYXJzZS5GYWNlYm9va1V0aWxzLmluaXRgXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLkZhY2Vib29rVXRpbHMuaHRtbCMuaW5pdH0uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAgRmFjZWJvb2sgb3B0aW9ucyBhcmd1bWVudC5cclxuICAgKiBTZWUgW2BQYXJzZS5GYWNlYm9va1V0aWxzLmluaXRgXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLkZhY2Vib29rVXRpbHMuaHRtbCMuaW5pdH0uXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuaW5pdGlhbGl6ZSA9IHByb3ZpZGVyLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgUGFyc2UuRmFjZWJvb2tVdGlscy5pbml0KG9wdGlvbnMpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBvYmplY3RcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlRmFjZWJvb2tVdGlsc1xyXG4gICAqXHJcbiAgICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcbiAgICogW1BhcnNlLkZhY2Vib29rVXRpbHNde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuRmFjZWJvb2tVdGlscy5odG1sfS5cclxuICAgKi9cclxuICBwcm92aWRlci4kZ2V0ID0gJGdldDtcclxuICAkZ2V0LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuICBmdW5jdGlvbiAkZ2V0KFBhcnNlVXRpbHMpIHtcclxuICAgIHZhciBQYXJzZUZhY2Vib29rVXRpbHMgPSBQYXJzZS5GYWNlYm9va1V0aWxzO1xyXG5cclxuICAgIGlmIChQYXJzZS4kJGluaXQpIHJldHVybiBQYXJzZUZhY2Vib29rVXRpbHM7XHJcblxyXG4gICAgUGFyc2VVdGlscy53cmFwTWV0aG9kcyhQYXJzZUZhY2Vib29rVXRpbHMsIFsnbGluaycsICdsb2dJbicsICd1bmxpbmsnXSk7XHJcblxyXG4gICAgcmV0dXJuIFBhcnNlRmFjZWJvb2tVdGlscztcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG4gIC5wcm92aWRlcignUGFyc2VGYWNlYm9va1V0aWxzJywgUGFyc2VGYWNlYm9va1V0aWxzUHJvdmlkZXIpO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL0ZhY2Vib29rVXRpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgUGFyc2UgPSByZXF1aXJlKCdwYXJzZScpLlBhcnNlO1xyXG52YXIgbmdQYXJzZU1vZHVsZSA9IHJlcXVpcmUoJy4vbW9kdWxlLmpzJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIG9iamVjdFxyXG4gKiBAbmFtZSBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBQcm92aWRlciBmb3IgUGFyc2VVc2VyIHNlcnZpY2UuXHJcbiAqL1xyXG5QYXJzZVVzZXJQcm92aWRlci4kaW5qZWN0ID0gW107XHJcbmZ1bmN0aW9uIFBhcnNlVXNlclByb3ZpZGVyKCkge1xyXG4gIHZhciBwcm92aWRlciA9IHRoaXM7XHJcbiAgcHJvdmlkZXIuVXNlciA9IFBhcnNlLlVzZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlVXNlclByb3ZpZGVyI3JlZ2lzdGVyXHJcbiAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VVc2VyUHJvdmlkZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoaXMgdXNlciBpcyB0aGUgY3VycmVudCB1c2VyIGFuZCBoYXMgYmVlbiBhdXRoZW50aWNhdGVkLlxyXG4gICAqL1xyXG4gIHByb3ZpZGVyLmF1dGhlbnRpY2F0ZWQgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBCb29sZWFuKFBhcnNlLlVzZXIuY3VycmVudCgpKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVc2VyXHJcbiAgICpcclxuICAgKiBAcmVxdWlyZXMgbmdQYXJzZS5QYXJzZVV0aWxzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIGlzIGEgd3JhcHBlciBmb3JcclxuICAgKiBbUGFyc2UuUGFyc2VVc2VyXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlVzZXIuaHRtbH0uXHJcbiAgICovXHJcbiAgcHJvdmlkZXIuJGdldCA9ICRnZXQ7XHJcbiAgJGdldC4kaW5qZWN0ID0gWydQYXJzZVV0aWxzJ107XHJcbiAgZnVuY3Rpb24gJGdldChQYXJzZVV0aWxzKSB7XHJcbiAgICB2YXIgUGFyc2VVc2VyID0gUGFyc2UuVXNlcjtcclxuXHJcbiAgICBpZiAoUGFyc2UuJCRpbml0KSByZXR1cm4gUGFyc2VVc2VyO1xyXG5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBhcnNlVXNlci5wcm90b3R5cGUsIHtcclxuICAgICAgdXNlcm5hbWU6IHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiB0aGlzLmdldFVzZXJuYW1lKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgdGhpcy5zZXRVc2VybmFtZSh2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICBwYXNzd29yZDoge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdwYXNzd29yZCcpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgIHRoaXMuc2V0UGFzc3dvcmQodmFsdWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgZW1haWw6IHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiB0aGlzLmdldEVtYWlsKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgdGhpcy5zZXRFbWFpbCh2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICBhdXRoOiB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoZW50aWNhdGVkKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuICAgICAgfSxcclxuICAgICAgY3VycmVudDoge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuaXNDdXJyZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgUGFyc2VVc2VyLmRlZmluZUF0dHJpYnV0ZXMgPSBQYXJzZVV0aWxzLmRlZmluZUF0dHJpYnV0ZXMuYmluZChQYXJzZVV0aWxzLCBQYXJzZVVzZXIucHJvdG90eXBlKTtcclxuXHJcbiAgICBQYXJzZVV0aWxzLndyYXBNZXRob2RzKFBhcnNlVXNlciwgWydiZWNvbWUnLCAnZW5hYmxlUmV2b2NhYmxlU2Vzc2lvbicsICdsb2dJbicsICdsb2dPdXQnLCAncmVxdWVzdFBhc3N3b3JkUmVzZXQnLCAnc2lnblVwJ10pO1xyXG4gICAgUGFyc2VVdGlscy53cmFwTWV0aG9kcyhQYXJzZVVzZXIucHJvdG90eXBlLCBbJ2xvZ0luJywgJ3NpZ25VcCddKTtcclxuXHJcbiAgICByZXR1cm4gUGFyc2VVc2VyO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcbiAgLnByb3ZpZGVyKCdQYXJzZVVzZXInLCBQYXJzZVVzZXJQcm92aWRlcik7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvVXNlci5qc1xuICoqIG1vZHVsZSBpZCA9IDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBuZ1BhcnNlTW9kdWxlID0gcmVxdWlyZSgnLi9tb2R1bGUuanMnKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgb2JqZWN0XHJcbiAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG4gKlxyXG4gKiBAcmVxdWlyZXMgJHFcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFV0aWxzLlxyXG4gKi9cclxuUGFyc2VVdGlsc1NlcnZpY2UuJGluamVjdCA9IFsnJHEnXTtcclxuZnVuY3Rpb24gUGFyc2VVdGlsc1NlcnZpY2UoJHEpIHtcclxuICB0aGlzLndyYXBQcm9taXNlID0gd3JhcFByb21pc2U7XHJcbiAgdGhpcy53cmFwTWV0aG9kcyA9IHdyYXBNZXRob2RzO1xyXG4gIHRoaXMuZGVmaW5lQXR0cmlidXRlcyA9IGRlZmluZUF0dHJpYnV0ZXM7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVdGlscyN3cmFwUHJvbWlzZVxyXG4gICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFdyYXAgZnVuY3Rpb24gdGhhdCByZXR1cm5zIFtQYXJzZS5Qcm9taXNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlByb21pc2UuaHRtbH1cclxuICAgKiBpbnRvIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyAkcSBwcm9taXNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuYyBGdW5jdGlvbiB0aGF0IHJldHVybnNcclxuICAgKiBbUGFyc2UuUHJvbWlzZV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5Qcm9taXNlLmh0bWx9LlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge2Z1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IHJldHVybnMgJHEgcHJvbWlzZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiB3cmFwUHJvbWlzZShmdW5jKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcbiAgICAgIHZhciBwcm9taXNlID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgcmV0dXJuICRxKHByb21pc2UudGhlbi5iaW5kKHByb21pc2UpKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSB3cmFwTWV0aG9kXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBXcmFwIG9iamVjdCBtZXRob2QgdGhhdCByZXR1cm5zXHJcbiAgICogW1BhcnNlLlByb21pc2Vde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuUHJvbWlzZS5odG1sfVxyXG4gICAqIGludG8gZnVuY3Rpb24gdGhhdCByZXR1cm5zICRxIHByb21pc2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IE9iamVjdC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBNZXRob2QgbmFtZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiB3cmFwTWV0aG9kKG9iamVjdCwgbWV0aG9kTmFtZSkge1xyXG4gICAgb2JqZWN0W21ldGhvZE5hbWVdID0gd3JhcFByb21pc2Uob2JqZWN0W21ldGhvZE5hbWVdKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIG5nUGFyc2UuUGFyc2VVdGlscyN3cmFwTWV0aG9kc1xyXG4gICAqIEBtZXRob2RPZiBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFdyYXAgZWFjaCBvYmplY3QgbWV0aG9kIHRoYXQgcmV0dXJuc1xyXG4gICAqIFtQYXJzZS5Qcm9taXNlXXtAbGluayBodHRwczovL3BhcnNlLmNvbS9kb2NzL2pzL2FwaS9zeW1ib2xzL1BhcnNlLlByb21pc2UuaHRtbH1cclxuICAgKiBpbnRvIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyAkcSBwcm9taXNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IG9iamVjdCBPYmplY3QuXHJcbiAgICogQHBhcmFtIHsuLi5zdHJpbmd8c3RyaW5nW119IG1ldGhvZE5hbWVzIE1ldGhvZCBuYW1lcy5cclxuICAgKi9cclxuICBmdW5jdGlvbiB3cmFwTWV0aG9kcyhvYmplY3QsIG1ldGhvZE5hbWVzKSB7XHJcbiAgICBpZiAoIShtZXRob2ROYW1lcyBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICBtZXRob2ROYW1lcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG1ldGhvZE5hbWVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHdyYXBNZXRob2Qob2JqZWN0LCBtZXRob2ROYW1lc1tpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBkZWZpbmVBdHRyaWJ1dGVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIERlZmluZXMgdGhlIGF0dHJpYnV0ZSBvZiBhbiBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IE9iamVjdC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIEF0dHJpYnV0ZSBuYW1lLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGRlZmluZUF0dHJpYnV0ZShvYmplY3QsIGF0dHJpYnV0ZSkge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgYXR0cmlidXRlLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldChhdHRyaWJ1dGUpO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuc2V0KGF0dHJpYnV0ZSwgdmFsdWUpO1xyXG4gICAgICB9LFxyXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgIGVudW1lcmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgbmdQYXJzZS5QYXJzZVV0aWxzI2RlZmluZUF0dHJpYnV0ZXNcclxuICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZVV0aWxzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBEZWZpbmVzIHRoZSBhdHRyaWJ1dGVzIG9mIGFuIG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgT2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7Li4uc3RyaW5nfHN0cmluZ1tdfSBhdHRyaWJ1dGVzIEF0dHJpYnV0ZSBuYW1lcy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBkZWZpbmVBdHRyaWJ1dGVzKG9iamVjdCwgYXR0cmlidXRlcykge1xyXG4gICAgaWYgKCEoYXR0cmlidXRlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG4gICAgICBhdHRyaWJ1dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBkZWZpbmVBdHRyaWJ1dGUob2JqZWN0LCBhdHRyaWJ1dGVzW2ldKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmdQYXJzZU1vZHVsZVxyXG4gIC5zZXJ2aWNlKCdQYXJzZVV0aWxzJywgUGFyc2VVdGlsc1NlcnZpY2UpO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL1V0aWxzLmpzXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIFBhcnNlID0gcmVxdWlyZSgncGFyc2UnKS5QYXJzZTtcclxudmFyIG5nUGFyc2VNb2R1bGUgPSByZXF1aXJlKCcuL21vZHVsZS5qcycpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lIG5nUGFyc2UuUGFyc2VPYmplY3RcclxuICpcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcbiAqIFtQYXJzZS5PYmplY3Rde0BsaW5rIGh0dHBzOi8vcGFyc2UuY29tL2RvY3MvanMvYXBpL3N5bWJvbHMvUGFyc2UuT2JqZWN0Lmh0bWx9LlxyXG4gKi9cclxuUGFyc2VPYmplY3RGYWN0b3J5LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuZnVuY3Rpb24gUGFyc2VPYmplY3RGYWN0b3J5KFBhcnNlVXRpbHMpIHtcclxuICB2YXIgUGFyc2VPYmplY3QgPSBQYXJzZS5PYmplY3Q7XHJcblxyXG4gIGlmIChQYXJzZS4kJGluaXQpIHJldHVybiBQYXJzZU9iamVjdDtcclxuXHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcnNlT2JqZWN0LnByb3RvdHlwZSwgJyRpZCcsIHtcclxuICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kJGlkID09PSB1bmRlZmluZWQgfHwgdGhpcy4kJGlkID09PSBudWxsID8gdGhpcy5pZCA6IHRoaXMuJCRpZDtcclxuICAgIH0sXHJcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICB0aGlzLiQkaWQgPSB2YWx1ZTtcclxuICAgIH0sXHJcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxyXG4gICAgZW51bWVyYWJsZTogZmFsc2VcclxuICB9KTtcclxuXHJcbiAgUGFyc2VVdGlscy53cmFwTWV0aG9kcyhQYXJzZU9iamVjdCwgWydkZXN0cm95QWxsJywgJ2ZldGNoQWxsJywgJ2ZldGNoQWxsSWZOZWVkZWQnLCAnc2F2ZUFsbCddKTtcclxuICBQYXJzZVV0aWxzLndyYXBNZXRob2RzKFBhcnNlT2JqZWN0LnByb3RvdHlwZSwgWydkZXN0cm95JywgJ2ZldGNoJywgJ3NhdmUnXSk7XHJcblxyXG4gIC8vY29uZmxpY3Qgd2l0aCBQYXJzZVVzZXIucHJvdG90eXBlLmRlZmluZUF0dHJpYnV0ZXNcclxuICAvL1BhcnNlT2JqZWN0LmRlZmluZUF0dHJpYnV0ZXMgPSBQYXJzZVV0aWxzLmRlZmluZUF0dHJpYnV0ZXMuYmluZChQYXJzZVV0aWxzLCBQYXJzZU9iamVjdC5wcm90b3R5cGUpO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlT2JqZWN0LnByb3RvdHlwZSNpc0RpcnR5XHJcbiAgICogQG1ldGhvZE9mIG5nUGFyc2UuUGFyc2VPYmplY3QucHJvdG90eXBlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDaGVjayB3aGV0aGVyIHRoZSBvYmplY3QgaXMgZGlydHkuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIG9iamVjdCBpcyBkaXJ0eS5cclxuICAgKi9cclxuICBQYXJzZU9iamVjdC5wcm90b3R5cGUuaXNEaXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBCb29sZWFuKHRoaXMuZGlydHlLZXlzKCkubGVuZ3RoKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBuZ1BhcnNlLlBhcnNlT2JqZWN0LnByb3RvdHlwZSNpc0NyZWF0ZWRcclxuICAgKiBAbWV0aG9kT2YgbmdQYXJzZS5QYXJzZU9iamVjdC5wcm90b3R5cGVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENoZWNrIHdoZXRoZXIgdGhlIG9iamVjdCBpcyBjcmVhdGVkLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaXMgY3JlYXRlZC5cclxuICAgKi9cclxuICBQYXJzZU9iamVjdC5wcm90b3R5cGUuaXNDcmVhdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5jcmVhdGVkQXQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBQYXJzZU9iamVjdDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcbiAgLmZhY3RvcnkoJ1BhcnNlT2JqZWN0JywgUGFyc2VPYmplY3RGYWN0b3J5KTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9PYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgUGFyc2UgPSByZXF1aXJlKCdwYXJzZScpLlBhcnNlO1xyXG52YXIgbmdQYXJzZU1vZHVsZSA9IHJlcXVpcmUoJy4vbW9kdWxlLmpzJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgbmdQYXJzZS5QYXJzZVF1ZXJ5XHJcbiAqXHJcbiAqIEByZXF1aXJlcyBuZ1BhcnNlLlBhcnNlVXRpbHNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoaXMgaXMgYSB3cmFwcGVyIGZvclxyXG4gKiBbUGFyc2UuUGFyc2VRdWVyeV17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5RdWVyeS5odG1sfS5cclxuICovXHJcblBhcnNlUXVlcnlGYWN0b3J5LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuZnVuY3Rpb24gUGFyc2VRdWVyeUZhY3RvcnkoUGFyc2VVdGlscykge1xyXG4gIHZhciBQYXJzZVF1ZXJ5ID0gUGFyc2UuUXVlcnk7XHJcblxyXG4gIGlmIChQYXJzZS4kJGluaXQpIHJldHVybiBQYXJzZVF1ZXJ5O1xyXG5cclxuICBQYXJzZVV0aWxzLndyYXBNZXRob2RzKFBhcnNlUXVlcnkucHJvdG90eXBlLCBbJ2NvdW50JywgJ2VhY2gnLCAnZmluZCcsICdmaXJzdCcsICdnZXQnXSk7XHJcblxyXG4gIHJldHVybiBQYXJzZVF1ZXJ5O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5nUGFyc2VNb2R1bGVcclxuICAuZmFjdG9yeSgnUGFyc2VRdWVyeScsIFBhcnNlUXVlcnlGYWN0b3J5KTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9RdWVyeS5qc1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgUGFyc2UgPSByZXF1aXJlKCdwYXJzZScpLlBhcnNlO1xyXG52YXIgbmdQYXJzZU1vZHVsZSA9IHJlcXVpcmUoJy4vbW9kdWxlLmpzJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIG9iamVjdFxyXG4gKiBAbmFtZSBuZ1BhcnNlLlBhcnNlQ2xvdWRcclxuICpcclxuICogQHJlcXVpcmVzIG5nUGFyc2UuUGFyc2VVdGlsc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBpcyBhIHdyYXBwZXIgZm9yXHJcbiAqIFtQYXJzZS5DbG91ZF17QGxpbmsgaHR0cHM6Ly9wYXJzZS5jb20vZG9jcy9qcy9hcGkvc3ltYm9scy9QYXJzZS5DbG91ZC5odG1sfS5cclxuICovXHJcblBhcnNlQ2xvdWRGYWN0b3J5LiRpbmplY3QgPSBbJ1BhcnNlVXRpbHMnXTtcclxuZnVuY3Rpb24gUGFyc2VDbG91ZEZhY3RvcnkoUGFyc2VVdGlscykge1xyXG4gIHZhciBQYXJzZUNsb3VkID0gUGFyc2UuQ2xvdWQ7XHJcblxyXG4gIGlmIChQYXJzZS4kJGluaXQpIHJldHVybiBQYXJzZUNsb3VkO1xyXG5cclxuICBQYXJzZVV0aWxzLndyYXBNZXRob2RzKFBhcnNlQ2xvdWQsIFsncnVuJ10pO1xyXG5cclxuICByZXR1cm4gUGFyc2VDbG91ZDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZ1BhcnNlTW9kdWxlXHJcbiAgLmZhY3RvcnkoJ1BhcnNlQ2xvdWQnLCBQYXJzZUNsb3VkRmFjdG9yeSk7XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvQ2xvdWQuanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==